(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{5961:(Lt,Ce,I)=>{"use strict";I.d(Ce,{GW:()=>_,dk:()=>N,oK:()=>a});var a=function(F){return F.Prompt="PROMPT",F.Camera="CAMERA",F.Photos="PHOTOS",F}(a||{}),_=function(F){return F.Rear="REAR",F.Front="FRONT",F}(_||{}),N=function(F){return F.Uri="uri",F.Base64="base64",F.DataUrl="dataUrl",F}(N||{})},2726:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Uw:()=>We,fo:()=>Be,xz:()=>Me});var a=I(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var ne=function(Ae){return Ae.Unimplemented="UNIMPLEMENTED",Ae.Unavailable="UNAVAILABLE",Ae}(ne||{});class Me extends Error{constructor(Te,Ve,_t){super(Te),this.message=Te,this.code=Ve,this.data=_t}}const le=Ae=>{var Te,Ve,_t,Rt,At;const rt=Ae.CapacitorCustomPlatform||null,fe=Ae.Capacitor||{},he=fe.Plugins=fe.Plugins||{},Ue=Ae.CapacitorPlatforms,Ke=(null===(Te=null==Ue?void 0:Ue.currentPlatform)||void 0===Te?void 0:Te.getPlatform)||(()=>null!==rt?rt.name:(Ae=>{var Te,Ve;return null!=Ae&&Ae.androidBridge?"android":null!==(Ve=null===(Te=null==Ae?void 0:Ae.webkit)||void 0===Te?void 0:Te.messageHandlers)&&void 0!==Ve&&Ve.bridge?"ios":"web"})(Ae)),ft=(null===(Ve=null==Ue?void 0:Ue.currentPlatform)||void 0===Ve?void 0:Ve.isNativePlatform)||(()=>"web"!==Ke()),bt=(null===(_t=null==Ue?void 0:Ue.currentPlatform)||void 0===_t?void 0:_t.isPluginAvailable)||(on=>{const cn=Ct.get(on);return!!(null!=cn&&cn.platforms.has(Ke())||Kt(on))}),Kt=(null===(Rt=null==Ue?void 0:Ue.currentPlatform)||void 0===Rt?void 0:Rt.getPluginHeader)||(on=>{var cn;return null===(cn=fe.PluginHeaders)||void 0===cn?void 0:cn.find(wn=>wn.name===on)}),Ct=new Map,Ht=(null===(At=null==Ue?void 0:Ue.currentPlatform)||void 0===At?void 0:At.registerPlugin)||((on,cn={})=>{const wn=Ct.get(on);if(wn)return console.warn(`Capacitor plugin "${on}" already registered. Cannot register plugins twice.`),wn.proxy;const Jt=Ke(),Dn=Kt(on);let On;const fr=function(){var en=(0,a.Z)(function*(){return!On&&Jt in cn?On=On="function"==typeof cn[Jt]?yield cn[Jt]():cn[Jt]:null!==rt&&!On&&"web"in cn&&(On=On="function"==typeof cn.web?yield cn.web():cn.web),On});return function(){return en.apply(this,arguments)}}(),xn=en=>{let Ln;const xr=(...sn)=>{const cr=fr().then(an=>{const Wn=((en,Ln)=>{var xr,sn;if(!Dn){if(en)return null===(sn=en[Ln])||void 0===sn?void 0:sn.bind(en);throw new Me(`"${on}" plugin is not implemented on ${Jt}`,ne.Unimplemented)}{const cr=null==Dn?void 0:Dn.methods.find(an=>Ln===an.name);if(cr)return"promise"===cr.rtype?an=>fe.nativePromise(on,Ln.toString(),an):(an,Wn)=>fe.nativeCallback(on,Ln.toString(),an,Wn);if(en)return null===(xr=en[Ln])||void 0===xr?void 0:xr.bind(en)}})(an,en);if(Wn){const kr=Wn(...sn);return Ln=null==kr?void 0:kr.remove,kr}throw new Me(`"${on}.${en}()" is not implemented on ${Jt}`,ne.Unimplemented)});return"addListener"===en&&(cr.remove=(0,a.Z)(function*(){return Ln()})),cr};return xr.toString=()=>`${en.toString()}() { [capacitor code] }`,Object.defineProperty(xr,"name",{value:en,writable:!1,configurable:!1}),xr},Sn=xn("addListener"),Qn=xn("removeListener"),mr=(en,Ln)=>{const xr=Sn({eventName:en},Ln),sn=function(){var an=(0,a.Z)(function*(){const Wn=yield xr;Qn({eventName:en,callbackId:Wn},Ln)});return function(){return an.apply(this,arguments)}}(),cr=new Promise(an=>xr.then(()=>an({remove:sn})));return cr.remove=(0,a.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield sn()}),cr},_r=new Proxy({},{get(en,Ln){switch(Ln){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Dn?mr:Sn;case"removeListener":return Qn;default:return xn(Ln)}}});return he[on]=_r,Ct.set(on,{name:on,proxy:_r,platforms:new Set([...Object.keys(cn),...Dn?[Jt]:[]])}),_r});return fe.convertFileSrc||(fe.convertFileSrc=on=>on),fe.getPlatform=Ke,fe.handleError=on=>Ae.console.error(on),fe.isNativePlatform=ft,fe.isPluginAvailable=bt,fe.pluginMethodNoop=(on,cn,wn)=>Promise.reject(`${wn} does not have an implementation of "${cn}".`),fe.registerPlugin=Ht,fe.Exception=Me,fe.DEBUG=!!fe.DEBUG,fe.isLoggingEnabled=!!fe.isLoggingEnabled,fe.platform=fe.getPlatform(),fe.isNative=fe.isNativePlatform(),fe},we=(Ae=>Ae.Capacitor=le(Ae))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Be=we.registerPlugin;class We{constructor(Te){this.listeners={},this.windowListeners={},Te&&(console.warn(`Capacitor WebPlugin "${Te.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Te)}addListener(Te,Ve){var _t=this;this.listeners[Te]||(this.listeners[Te]=[]),this.listeners[Te].push(Ve);const At=this.windowListeners[Te];At&&!At.registered&&this.addWindowListener(At);const rt=function(){var he=(0,a.Z)(function*(){return _t.removeListener(Te,Ve)});return function(){return he.apply(this,arguments)}}(),fe=Promise.resolve({remove:rt});return Object.defineProperty(fe,"remove",{value:(he=(0,a.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield rt()}),function(){return he.apply(this,arguments)})}),fe;var he}removeAllListeners(){var Te=this;return(0,a.Z)(function*(){Te.listeners={};for(const Ve in Te.windowListeners)Te.removeWindowListener(Te.windowListeners[Ve]);Te.windowListeners={}})()}notifyListeners(Te,Ve){const _t=this.listeners[Te];_t&&_t.forEach(Rt=>Rt(Ve))}hasListeners(Te){return!!this.listeners[Te].length}registerWindowListener(Te,Ve){this.windowListeners[Ve]={registered:!1,windowEventName:Te,pluginEventName:Ve,handler:_t=>{this.notifyListeners(Ve,_t)}}}unimplemented(Te="not implemented"){return new we.Exception(Te,ne.Unimplemented)}unavailable(Te="not available"){return new we.Exception(Te,ne.Unavailable)}removeListener(Te,Ve){var _t=this;return(0,a.Z)(function*(){const Rt=_t.listeners[Te];if(!Rt)return;const At=Rt.indexOf(Ve);_t.listeners[Te].splice(At,1),_t.listeners[Te].length||_t.removeWindowListener(_t.windowListeners[Te])})()}addWindowListener(Te){window.addEventListener(Te.windowEventName,Te.handler),Te.registered=!0}removeWindowListener(Te){Te&&(window.removeEventListener(Te.windowEventName,Te.handler),Te.registered=!1)}}const Ze=Ae=>encodeURIComponent(Ae).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ot=Ae=>Ae.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ue extends We{getCookies(){return(0,a.Z)(function*(){const Te=document.cookie,Ve={};return Te.split(";").forEach(_t=>{if(_t.length<=0)return;let[Rt,At]=_t.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");Rt=ot(Rt).trim(),At=ot(At).trim(),Ve[Rt]=At}),Ve})()}setCookie(Te){return(0,a.Z)(function*(){try{const Ve=Ze(Te.key),_t=Ze(Te.value),Rt=`; expires=${(Te.expires||"").replace("expires=","")}`,At=(Te.path||"/").replace("path=",""),rt=null!=Te.url&&Te.url.length>0?`domain=${Te.url}`:"";document.cookie=`${Ve}=${_t||""}${Rt}; path=${At}; ${rt};`}catch(Ve){return Promise.reject(Ve)}})()}deleteCookie(Te){return(0,a.Z)(function*(){try{document.cookie=`${Te.key}=; Max-Age=0`}catch(Ve){return Promise.reject(Ve)}})()}clearCookies(){return(0,a.Z)(function*(){try{const Te=document.cookie.split(";")||[];for(const Ve of Te)document.cookie=Ve.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Te){return Promise.reject(Te)}})()}clearAllCookies(){var Te=this;return(0,a.Z)(function*(){try{yield Te.clearCookies()}catch(Ve){return Promise.reject(Ve)}})()}}Be("CapacitorCookies",{web:()=>new ue});const be=function(){var Ae=(0,a.Z)(function*(Te){return new Promise((Ve,_t)=>{const Rt=new FileReader;Rt.onload=()=>{const At=Rt.result;Ve(At.indexOf(",")>=0?At.split(",")[1]:At)},Rt.onerror=At=>_t(At),Rt.readAsDataURL(Te)})});return function(Ve){return Ae.apply(this,arguments)}}();class Le extends We{request(Te){return(0,a.Z)(function*(){const Ve=((Ae,Te={})=>{const Ve=Object.assign({method:Ae.method||"GET",headers:Ae.headers},Te),Rt=((Ae={})=>{const Te=Object.keys(Ae);return Object.keys(Ae).map(Rt=>Rt.toLocaleLowerCase()).reduce((Rt,At,rt)=>(Rt[At]=Ae[Te[rt]],Rt),{})})(Ae.headers)["content-type"]||"";if("string"==typeof Ae.data)Ve.body=Ae.data;else if(Rt.includes("application/x-www-form-urlencoded")){const At=new URLSearchParams;for(const[rt,fe]of Object.entries(Ae.data||{}))At.set(rt,fe);Ve.body=At.toString()}else if(Rt.includes("multipart/form-data")){const At=new FormData;if(Ae.data instanceof FormData)Ae.data.forEach((fe,he)=>{At.append(he,fe)});else for(const fe of Object.keys(Ae.data))At.append(fe,Ae.data[fe]);Ve.body=At;const rt=new Headers(Ve.headers);rt.delete("content-type"),Ve.headers=rt}else(Rt.includes("application/json")||"object"==typeof Ae.data)&&(Ve.body=JSON.stringify(Ae.data));return Ve})(Te,Te.webFetchExtra),_t=((Ae,Te=!0)=>Ae?Object.entries(Ae).reduce((_t,Rt)=>{const[At,rt]=Rt;let fe,he;return Array.isArray(rt)?(he="",rt.forEach(Ue=>{fe=Te?encodeURIComponent(Ue):Ue,he+=`${At}=${fe}&`}),he.slice(0,-1)):(fe=Te?encodeURIComponent(rt):rt,he=`${At}=${fe}`),`${_t}&${he}`},"").substr(1):null)(Te.params,Te.shouldEncodeUrlParams),Rt=_t?`${Te.url}?${_t}`:Te.url,At=yield fetch(Rt,Ve),rt=At.headers.get("content-type")||"";let he,Ue,{responseType:fe="text"}=At.ok?Te:{};switch(rt.includes("application/json")&&(fe="json"),fe){case"arraybuffer":case"blob":Ue=yield At.blob(),he=yield be(Ue);break;case"json":he=yield At.json();break;default:he=yield At.text()}const Se={};return At.headers.forEach((Ke,qe)=>{Se[qe]=Ke}),{data:he,headers:Se,status:At.status,url:At.url}})()}get(Te){var Ve=this;return(0,a.Z)(function*(){return Ve.request(Object.assign(Object.assign({},Te),{method:"GET"}))})()}post(Te){var Ve=this;return(0,a.Z)(function*(){return Ve.request(Object.assign(Object.assign({},Te),{method:"POST"}))})()}put(Te){var Ve=this;return(0,a.Z)(function*(){return Ve.request(Object.assign(Object.assign({},Te),{method:"PUT"}))})()}patch(Te){var Ve=this;return(0,a.Z)(function*(){return Ve.request(Object.assign(Object.assign({},Te),{method:"PATCH"}))})()}delete(Te){var Ve=this;return(0,a.Z)(function*(){return Ve.request(Object.assign(Object.assign({},Te),{method:"DELETE"}))})()}}Be("CapacitorHttp",{web:()=>new Le})},4562:(Lt,Ce,I)=>{"use strict";I.d(Ce,{$:()=>bo,A:()=>le,G:()=>Be,K:()=>ct,L:()=>de,N:()=>Re,P:()=>as,R:()=>qf,U:()=>pt,V:()=>Yr,W:()=>Hi,X:()=>Hr,Y:()=>zi,Z:()=>mi,_:()=>Ji,a:()=>Fs,a0:()=>Ws,a1:()=>er,a2:()=>po,a3:()=>$o,a4:()=>ps,a5:()=>Za,a6:()=>Qa,a7:()=>Xa,a8:()=>Dl,a9:()=>wo,aA:()=>Nn,aB:()=>Ge,aC:()=>W,aD:()=>ho,aE:()=>ce,aF:()=>wt,aG:()=>Ra,aH:()=>Cs,aI:()=>Bs,aJ:()=>Er,aN:()=>Ja,aQ:()=>Jr,aa:()=>va,ab:()=>ru,ac:()=>Gu,ad:()=>qo,ae:()=>uo,af:()=>Ks,ag:()=>_s,ah:()=>A,ak:()=>Fe,al:()=>zt,am:()=>_n,ap:()=>wl,aq:()=>di,as:()=>Al,at:()=>Un,au:()=>De,av:()=>yn,aw:()=>xt,ax:()=>ue,ay:()=>us,az:()=>Pa,b:()=>Uo,c:()=>Yf,d:()=>Is,e:()=>Zi,f:()=>lh,g:()=>ba,h:()=>cu,i:()=>ze,j:()=>hu,k:()=>ll,l:()=>ah,m:()=>td,o:()=>gh,p:()=>ne,r:()=>lu,s:()=>Ku,u:()=>_o});var a=I(5861),_=I(9058),N=I(534),F=I(7879),Y=I(7582),Z=I(4537);const ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},$e=function we(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new _.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new F.Yd("@firebase/auth");function ot(E,...f){He.logLevel<=F.in.ERROR&&He.error(`Auth (${N.SDK_VERSION}): ${E}`,...f)}function ue(E,...f){throw te(E,...f)}function Ge(E,...f){return te(E,...f)}function be(E,f,g){const S=Object.assign(Object.assign({},$e()),{[f]:g});return new _.LL("auth","Firebase",S).create(f,{appName:E.name})}function _e(E,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&ue(E,"argument-error"),be(E,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function te(E,...f){if("string"!=typeof E){const g=f[0],S=[...f.slice(1)];return S[0]&&(S[0].appName=E.name),E._errorFactory.create(g,...S)}return nt.create(E,...f)}function W(E,f,...g){if(!E)throw te(f,...g)}function Le(E){const f="INTERNAL ASSERTION FAILED: "+E;throw ot(f),new Error(f)}function De(E,f){E||Le(f)}function Ae(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Te(){return"http:"===Ve()||"https:"===Ve()}function Ve(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class At{constructor(f,g){this.shortDelay=f,this.longDelay=g,De(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,_.uI)()||(0,_.b$)()}get(){return function _t(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Te()||(0,_.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rt(E,f){De(E.emulator,"Emulator should always be set here");const{url:g}=E.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class fe{static initialize(f,g,S){this.fetchImpl=f,g&&(this.headersImpl=g),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ue=new At(3e4,6e4);function Se(E,f){return E.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:E.tenantId}):f}function Ke(E,f,g,S){return qe.apply(this,arguments)}function qe(){return(qe=(0,a.Z)(function*(E,f,g,S,oe={}){return ft(E,oe,(0,a.Z)(function*(){let Ie={},yt={};S&&("GET"===f?yt=S:Ie={body:JSON.stringify(S)});const jt=(0,_.xO)(Object.assign({key:E.config.apiKey},yt)).slice(1),mn=yield E._getAdditionalHeaders();return mn["Content-Type"]="application/json",E.languageCode&&(mn["X-Firebase-Locale"]=E.languageCode),fe.fetch()(Kt(E,E.config.apiHost,g,jt),Object.assign({method:f,headers:mn,referrerPolicy:"no-referrer"},Ie))}))})).apply(this,arguments)}function ft(E,f,g){return ht.apply(this,arguments)}function ht(){return(ht=(0,a.Z)(function*(E,f,g){E._canInitEmulator=!1;const S=Object.assign(Object.assign({},he),f);try{const oe=new Tt(E),Ie=yield Promise.race([g(),oe.promise]);oe.clearNetworkTimeout();const yt=yield Ie.json();if("needConfirmation"in yt)throw Ct(E,"account-exists-with-different-credential",yt);if(Ie.ok&&!("errorMessage"in yt))return yt;{const jt=Ie.ok?yt.errorMessage:yt.error.message,[mn,qn]=jt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mn)throw Ct(E,"credential-already-in-use",yt);if("EMAIL_EXISTS"===mn)throw Ct(E,"email-already-in-use",yt);if("USER_DISABLED"===mn)throw Ct(E,"user-disabled",yt);const sr=S[mn]||mn.toLowerCase().replace(/[_\s]+/g,"-");if(qn)throw be(E,sr,qn);ue(E,sr)}}catch(oe){if(oe instanceof _.ZR)throw oe;ue(E,"network-request-failed",{message:String(oe)})}})).apply(this,arguments)}function bt(E,f,g,S){return mt.apply(this,arguments)}function mt(){return(mt=(0,a.Z)(function*(E,f,g,S,oe={}){const Ie=yield Ke(E,f,g,S,oe);return"mfaPendingCredential"in Ie&&ue(E,"multi-factor-auth-required",{_serverResponse:Ie}),Ie})).apply(this,arguments)}function Kt(E,f,g,S){const oe=`${f}${g}?${S}`;return E.config.emulator?rt(E.config,oe):`${E.config.apiScheme}://${oe}`}function Dt(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,S)=>{this.timer=setTimeout(()=>S(Ge(this.auth,"network-request-failed")),Ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ct(E,f,g){const S={appName:E.name};g.email&&(S.email=g.email),g.phoneNumber&&(S.phoneNumber=g.phoneNumber);const oe=Ge(E,f,S);return oe.customData._tokenResponse=g,oe}function Vt(E){return void 0!==E&&void 0!==E.getResponse}function Ht(E){return void 0!==E&&void 0!==E.enterprise}class on{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===f)return Dt(g.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function wn(){return(wn=(0,a.Z)(function*(E){return(yield Ke(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jt(E,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(E,f){return Ke(E,"GET","/v2/recaptchaConfig",Se(E,f))})).apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Qn(){return(Qn=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function mr(E){if(E)try{const f=new Date(Number(E));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Ln(){return(Ln=(0,a.Z)(function*(E,f=!1){const g=(0,_.m9)(E),S=yield g.getIdToken(f),oe=sn(S);W(oe&&oe.exp&&oe.auth_time&&oe.iat,g.auth,"internal-error");const Ie="object"==typeof oe.firebase?oe.firebase:void 0,yt=null==Ie?void 0:Ie.sign_in_provider;return{claims:oe,token:S,authTime:mr(xr(oe.auth_time)),issuedAtTime:mr(xr(oe.iat)),expirationTime:mr(xr(oe.exp)),signInProvider:yt||null,signInSecondFactor:(null==Ie?void 0:Ie.sign_in_second_factor)||null}})).apply(this,arguments)}function xr(E){return 1e3*Number(E)}function sn(E){const[f,g,S]=E.split(".");if(void 0===f||void 0===g||void 0===S)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const oe=(0,_.tV)(g);return oe?JSON.parse(oe):(ot("Failed to decode base64 JWT payload"),null)}catch(oe){return ot("Caught error parsing JWT payload as JSON",null==oe?void 0:oe.toString()),null}}function an(E,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(E,f,g=!1){if(g)return f;try{return yield f}catch(S){throw S instanceof _.ZR&&function kr({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(S)&&E.auth.currentUser===E&&(yield E.auth.signOut()),S}})).apply(this,arguments)}class br{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const oe=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,oe)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const S=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),S)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class Gn{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pn(E){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,a.Z)(function*(E){var f;const g=E.auth,S=yield E.getIdToken(),oe=yield an(E,function Sn(E,f){return Qn.apply(this,arguments)}(g,{idToken:S}));W(null==oe?void 0:oe.users.length,g,"internal-error");const Ie=oe.users[0];E._notifyReloadListener(Ie);const yt=null!==(f=Ie.providerUserInfo)&&void 0!==f&&f.length?function st(E){return E.map(f=>{var{providerId:g}=f,S=(0,Y._T)(f,["providerId"]);return{providerId:g,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}(Ie.providerUserInfo):[],jt=function Ne(E,f){return[...E.filter(S=>!f.some(oe=>oe.providerId===S.providerId)),...f]}(E.providerData,yt),sr=!!E.isAnonymous&&!(E.email&&Ie.passwordHash||null!=jt&&jt.length),Qr={uid:Ie.localId,displayName:Ie.displayName||null,photoURL:Ie.photoUrl||null,email:Ie.email||null,emailVerified:Ie.emailVerified||!1,phoneNumber:Ie.phoneNumber||null,tenantId:Ie.tenantId||null,providerData:jt,metadata:new Gn(Ie.createdAt,Ie.lastLoginAt),isAnonymous:sr};Object.assign(E,Qr)}),Nt.apply(this,arguments)}function ee(){return(ee=(0,a.Z)(function*(E){const f=(0,_.m9)(E);yield Pn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(E,f){const g=yield ft(E,{},(0,a.Z)(function*(){const S=(0,_.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:oe,apiKey:Ie}=E.config,yt=Kt(E,oe,"/v1/token",`key=${Ie}`),jt=yield E._getAdditionalHeaders();return jt["Content-Type"]="application/x-www-form-urlencoded",fe.fetch()(yt,{method:"POST",headers:jt,body:S})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function J(){return(J=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v2/accounts:revokeToken",Se(E,f))})).apply(this,arguments)}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){W(f.idToken,"internal-error"),W(typeof f.idToken<"u","internal-error"),W(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function cr(E){const f=sn(E);return W(f,"internal-error"),W(typeof f.exp<"u","internal-error"),W(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var S=this;return(0,a.Z)(function*(){return W(!S.accessToken||S.refreshToken,f,"user-token-expired"),g||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(f,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var S=this;return(0,a.Z)(function*(){const{accessToken:oe,refreshToken:Ie,expiresIn:yt}=yield function je(E,f){return St.apply(this,arguments)}(f,g);S.updateTokensAndExpiration(oe,Ie,Number(yt))})()}updateTokensAndExpiration(f,g,S){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(f,g){const{refreshToken:S,accessToken:oe,expirationTime:Ie}=g,yt=new $;return S&&(W("string"==typeof S,"internal-error",{appName:f}),yt.refreshToken=S),oe&&(W("string"==typeof oe,"internal-error",{appName:f}),yt.accessToken=oe),Ie&&(W("number"==typeof Ie,"internal-error",{appName:f}),yt.expirationTime=Ie),yt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return Le("not implemented")}}function R(E,f){W("string"==typeof E||typeof E>"u","internal-error",{appName:f})}class w{constructor(f){var{uid:g,auth:S,stsTokenManager:oe}=f,Ie=(0,Y._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new br(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=S,this.stsTokenManager=oe,this.accessToken=oe.accessToken,this.displayName=Ie.displayName||null,this.email=Ie.email||null,this.emailVerified=Ie.emailVerified||!1,this.phoneNumber=Ie.phoneNumber||null,this.photoURL=Ie.photoURL||null,this.isAnonymous=Ie.isAnonymous||!1,this.tenantId=Ie.tenantId||null,this.providerData=Ie.providerData?[...Ie.providerData]:[],this.metadata=new Gn(Ie.createdAt||void 0,Ie.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,a.Z)(function*(){const S=yield an(g,g.stsTokenManager.getToken(g.auth,f));return W(S,g.auth,"internal-error"),g.accessToken!==S&&(g.accessToken=S,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),S})()}getIdTokenResult(f){return function en(E){return Ln.apply(this,arguments)}(this,f)}reload(){return function ye(E){return ee.apply(this,arguments)}(this)}_assign(f){this!==f&&(W(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new w(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var S=this;return(0,a.Z)(function*(){let oe=!1;f.idToken&&f.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(f),oe=!0),g&&(yield Pn(S)),yield S.auth._persistUserIfCurrent(S),oe&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var f=this;return(0,a.Z)(function*(){const g=yield f.getIdToken();return yield an(f,function On(E,f){return fr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var S,oe,Ie,yt,jt,mn,qn,sr;const Qr=null!==(S=g.displayName)&&void 0!==S?S:void 0,Qo=null!==(oe=g.email)&&void 0!==oe?oe:void 0,ia=null!==(Ie=g.phoneNumber)&&void 0!==Ie?Ie:void 0,oc=null!==(yt=g.photoURL)&&void 0!==yt?yt:void 0,Ma=null!==(jt=g.tenantId)&&void 0!==jt?jt:void 0,xa=null!==(mn=g._redirectEventId)&&void 0!==mn?mn:void 0,od=null!==(qn=g.createdAt)&&void 0!==qn?qn:void 0,Oa=null!==(sr=g.lastLoginAt)&&void 0!==sr?sr:void 0,{uid:Vl,emailVerified:$l,isAnonymous:mh,providerData:Bl,stsTokenManager:vu}=g;W(Vl&&vu,f,"internal-error");const cm=$.fromJSON(this.name,vu);W("string"==typeof Vl,f,"internal-error"),R(Qr,f.name),R(Qo,f.name),W("boolean"==typeof $l,f,"internal-error"),W("boolean"==typeof mh,f,"internal-error"),R(ia,f.name),R(oc,f.name),R(Ma,f.name),R(xa,f.name),R(od,f.name),R(Oa,f.name);const _h=new w({uid:Vl,auth:f,email:Qo,emailVerified:$l,displayName:Qr,isAnonymous:mh,photoURL:oc,phoneNumber:ia,tenantId:Ma,stsTokenManager:cm,createdAt:od,lastLoginAt:Oa});return Bl&&Array.isArray(Bl)&&(_h.providerData=Bl.map(Qi=>Object.assign({},Qi))),xa&&(_h._redirectEventId=xa),_h}static _fromIdTokenResponse(f,g,S=!1){return(0,a.Z)(function*(){const oe=new $;oe.updateFromServerResponse(g);const Ie=new w({uid:g.localId,auth:f,stsTokenManager:oe,isAnonymous:S});return yield Pn(Ie),Ie})()}}const j=new Map;function ce(E){De(E instanceof Function,"Expected a class definition");let f=j.get(E);return f?(De(f instanceof E,"Instance stored in cache mismatched with class"),f):(f=new E,j.set(E,f),f)}const pt=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,S){var oe=this;return(0,a.Z)(function*(){oe.storage[g]=S})()}_get(g){var S=this;return(0,a.Z)(function*(){const oe=S.storage[g];return void 0===oe?null:oe})()}_remove(g){var S=this;return(0,a.Z)(function*(){delete S.storage[g]})()}_addListener(g,S){}_removeListener(g,S){}}return E.type="NONE",E})();function wt(E,f,g){return`firebase:${E}:${f}:${g}`}class Pt{constructor(f,g,S){this.persistence=f,this.auth=g,this.userKey=S;const{config:oe,name:Ie}=this.auth;this.fullUserKey=wt(this.userKey,oe.apiKey,Ie),this.fullPersistenceKey=wt("persistence",oe.apiKey,Ie),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?w._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,a.Z)(function*(){if(g.persistence===f)return;const S=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,S?g.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,S="authUser"){return(0,a.Z)(function*(){if(!g.length)return new Pt(ce(pt),f,S);const oe=(yield Promise.all(g.map(function(){var qn=(0,a.Z)(function*(sr){if(yield sr._isAvailable())return sr});return function(sr){return qn.apply(this,arguments)}}()))).filter(qn=>qn);let Ie=oe[0]||ce(pt);const yt=wt(S,f.config.apiKey,f.name);let jt=null;for(const qn of g)try{const sr=yield qn._get(yt);if(sr){const Qr=w._fromJSON(f,sr);qn!==Ie&&(jt=Qr),Ie=qn;break}}catch{}const mn=oe.filter(qn=>qn._shouldAllowMigration);return Ie._shouldAllowMigration&&mn.length?(Ie=mn[0],jt&&(yield Ie._set(yt,jt.toJSON())),yield Promise.all(g.map(function(){var qn=(0,a.Z)(function*(sr){if(sr!==Ie)try{yield sr._remove(yt)}catch{}});return function(sr){return qn.apply(this,arguments)}}())),new Pt(Ie,f,S)):new Pt(Ie,f,S)})()}}function Bt(E){const f=E.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Gr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Zt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Et(f))return"Blackberry";if(Gt(f))return"Webos";if(nn(f))return"Safari";if((f.includes("chrome/")||Kn(f))&&!f.includes("edge/"))return"Chrome";if(xt(f))return"Android";{const S=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function Zt(E=(0,_.z$)()){return/firefox\//i.test(E)}function nn(E=(0,_.z$)()){const f=E.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Kn(E=(0,_.z$)()){return/crios\//i.test(E)}function Gr(E=(0,_.z$)()){return/iemobile/i.test(E)}function xt(E=(0,_.z$)()){return/android/i.test(E)}function Et(E=(0,_.z$)()){return/blackberry/i.test(E)}function Gt(E=(0,_.z$)()){return/webos/i.test(E)}function yn(E=(0,_.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Nn(E=(0,_.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Br(E=(0,_.z$)()){return yn(E)||xt(E)||Gt(E)||Et(E)||/windows phone/i.test(E)||Gr(E)}function ci(E,f=[]){let g;switch(E){case"Browser":g=Bt((0,_.z$)());break;case"Worker":g=`${Bt((0,_.z$)())}-${E}`;break;default:g=E}const S=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${N.SDK_VERSION}/${S}`}class Wr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const S=Ie=>new Promise((yt,jt)=>{try{yt(f(Ie))}catch(mn){jt(mn)}});S.onAbort=g,this.queue.push(S);const oe=this.queue.length-1;return()=>{this.queue[oe]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,a.Z)(function*(){if(g.auth.currentUser===f)return;const S=[];try{for(const oe of g.queue)yield oe(f),oe.onAbort&&S.push(oe.onAbort)}catch(oe){S.reverse();for(const Ie of S)try{Ie()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==oe?void 0:oe.message})}})()}}function Zn(){return(Zn=(0,a.Z)(function*(E,f={}){return Ke(E,"GET","/v2/passwordPolicy",Se(E,f))})).apply(this,arguments)}class Rr{constructor(f){var g,S,oe,Ie;const yt=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=yt.minPasswordLength)&&void 0!==g?g:6,yt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=yt.maxPasswordLength),void 0!==yt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=yt.containsLowercaseCharacter),void 0!==yt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=yt.containsUppercaseCharacter),void 0!==yt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=yt.containsNumericCharacter),void 0!==yt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=yt.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(oe=null===(S=f.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==oe?oe:"",this.forceUpgradeOnSignin=null!==(Ie=f.forceUpgradeOnSignin)&&void 0!==Ie&&Ie,this.schemaVersion=f.schemaVersion}validatePassword(f){var g,S,oe,Ie,yt,jt;const mn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,mn),this.validatePasswordCharacterOptions(f,mn),mn.isValid&&(mn.isValid=null===(g=mn.meetsMinPasswordLength)||void 0===g||g),mn.isValid&&(mn.isValid=null===(S=mn.meetsMaxPasswordLength)||void 0===S||S),mn.isValid&&(mn.isValid=null===(oe=mn.containsLowercaseLetter)||void 0===oe||oe),mn.isValid&&(mn.isValid=null===(Ie=mn.containsUppercaseLetter)||void 0===Ie||Ie),mn.isValid&&(mn.isValid=null===(yt=mn.containsNumericCharacter)||void 0===yt||yt),mn.isValid&&(mn.isValid=null===(jt=mn.containsNonAlphanumericCharacter)||void 0===jt||jt),mn}validatePasswordLengthOptions(f,g){const S=this.customStrengthOptions.minPasswordLength,oe=this.customStrengthOptions.maxPasswordLength;S&&(g.meetsMinPasswordLength=f.length>=S),oe&&(g.meetsMaxPasswordLength=f.length<=oe)}validatePasswordCharacterOptions(f,g){let S;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let oe=0;oe<f.length;oe++)S=f.charAt(oe),this.updatePasswordCharacterOptionsStatuses(g,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(f,g,S,oe,Ie){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=oe)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=Ie))}}class rr{constructor(f,g,S,oe){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=S,this.config=oe,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yi(this),this.idTokenSubscription=new yi(this),this.beforeStateQueue=new Wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=oe.sdkClientVersion}_initializeWithPersistence(f,g){var S=this;return g&&(this._popupRedirectResolver=ce(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var oe,Ie;if(!S._deleted&&(S.persistenceManager=yield Pt.create(S,f),!S._deleted)){if(null!==(oe=S._popupRedirectResolver)&&void 0!==oe&&oe._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(g),S.lastNotifiedUid=(null===(Ie=S.currentUser)||void 0===Ie?void 0:Ie.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,a.Z)(function*(){var S;const oe=yield g.assertedPersistence.getCurrentUser();let Ie=oe,yt=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const jt=null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId,mn=null==Ie?void 0:Ie._redirectEventId,qn=yield g.tryRedirectSignIn(f);(!jt||jt===mn)&&null!=qn&&qn.user&&(Ie=qn.user,yt=!0)}if(!Ie)return g.directlySetCurrentUser(null);if(!Ie._redirectEventId){if(yt)try{yield g.beforeStateQueue.runMiddleware(Ie)}catch(jt){Ie=oe,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(jt))}return Ie?g.reloadAndSetCurrentUserOrClear(Ie):g.directlySetCurrentUser(null)}return W(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===Ie._redirectEventId?g.directlySetCurrentUser(Ie):g.reloadAndSetCurrentUserOrClear(Ie)})()}tryRedirectSignIn(f){var g=this;return(0,a.Z)(function*(){let S=null;try{S=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,a.Z)(function*(){try{yield Pn(f)}catch(S){if("auth/network-request-failed"!==(null==S?void 0:S.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Rt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){const S=f?(0,_.m9)(f):null;return S&&W(S.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(S&&S._clone(g))})()}_updateCurrentUser(f,g=!1){var S=this;return(0,a.Z)(function*(){if(!S._deleted)return f&&W(S.tenantId===f.tenantId,S,"tenant-id-mismatch"),g||(yield S.beforeStateQueue.runMiddleware(f)),S.queue((0,a.Z)(function*(){yield S.directlySetCurrentUser(f),S.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(ce(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var g=this;return(0,a.Z)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const S=g._getPasswordPolicyInternal();return S.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,a.Z)(function*(){const g=yield function vi(E){return Zn.apply(this,arguments)}(f),S=new Rr(g);null===f.tenantId?f._projectPasswordPolicy=S:f._tenantPasswordPolicies[f.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new _.LL("auth","Firebase",f())}onAuthStateChanged(f,g,S){return this.registerStateListener(this.authStateSubscription,f,g,S)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,S){return this.registerStateListener(this.idTokenSubscription,f,g,S)}authStateReady(){return new Promise((f,g)=>{if(this.currentUser)f();else{const S=this.onAuthStateChanged(()=>{S(),f()},g)}})}revokeAccessToken(f){var g=this;return(0,a.Z)(function*(){if(g.currentUser){const S=yield g.currentUser.getIdToken(),oe={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:S};null!=g.tenantId&&(oe.tenantId=g.tenantId),yield function ke(E,f){return J.apply(this,arguments)}(g,oe)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var S=this;return(0,a.Z)(function*(){const oe=yield S.getOrInitRedirectPersistenceManager(g);return null===f?oe.removeCurrentUser():oe.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const S=f&&ce(f)||g._popupRedirectResolver;W(S,g,"argument-error"),g.redirectPersistenceManager=yield Pt.create(g,[ce(S._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,a.Z)(function*(){var S,oe;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(S=g._currentUser)||void 0===S?void 0:S._redirectEventId)===f?g._currentUser:(null===(oe=g.redirectUser)||void 0===oe?void 0:oe._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,a.Z)(function*(){if(f===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,S,oe){if(this._deleted)return()=>{};const Ie="function"==typeof g?g:g.next.bind(g);let yt=!1;const jt=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(jt,this,"internal-error"),jt.then(()=>{yt||Ie(this.currentUser)}),"function"==typeof g){const mn=f.addObserver(g,S,oe);return()=>{yt=!0,mn()}}{const mn=f.addObserver(g);return()=>{yt=!0,mn()}}}directlySetCurrentUser(f){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ci(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var g;const S={"X-Client-Version":f.clientVersion};f.app.options.appId&&(S["X-Firebase-gmpid"]=f.app.options.appId);const oe=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();oe&&(S["X-Firebase-Client"]=oe);const Ie=yield f._getAppCheckToken();return Ie&&(S["X-Firebase-AppCheck"]=Ie),S})()}_getAppCheckToken(){var f=this;return(0,a.Z)(function*(){var g;const S=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return null!=S&&S.error&&function Ze(E,...f){He.logLevel<=F.in.WARN&&He.warn(`Auth (${N.SDK_VERSION}): ${E}`,...f)}(`Error while retrieving App Check token: ${S.error}`),null==S?void 0:S.token})()}}function Er(E){return(0,_.m9)(E)}class yi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,_.ne)(g=>this.observer=g)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fr(E){return new Promise((f,g)=>{const S=document.createElement("script");S.setAttribute("src",E),S.onload=f,S.onerror=oe=>{const Ie=Ge("internal-error");Ie.customData=oe,g(Ie)},S.type="text/javascript",S.charset="UTF-8",function Ei(){var E,f;return null!==(f=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==f?f:document}().appendChild(S)})}function oi(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Or{constructor(f){this.type="recaptcha-enterprise",this.auth=Er(f)}verify(f="verify",g=!1){var S=this;return(0,a.Z)(function*(){function Ie(){return Ie=(0,a.Z)(function*(jt){if(!g){if(null==jt.tenantId&&null!=jt._agentRecaptchaConfig)return jt._agentRecaptchaConfig.siteKey;if(null!=jt.tenantId&&void 0!==jt._tenantRecaptchaConfigs[jt.tenantId])return jt._tenantRecaptchaConfigs[jt.tenantId].siteKey}return new Promise(function(){var mn=(0,a.Z)(function*(qn,sr){Jt(jt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qr=>{if(void 0!==Qr.recaptchaKey){const Qo=new on(Qr);return null==jt.tenantId?jt._agentRecaptchaConfig=Qo:jt._tenantRecaptchaConfigs[jt.tenantId]=Qo,qn(Qo.siteKey)}sr(new Error("recaptcha Enterprise site key undefined"))}).catch(Qr=>{sr(Qr)})});return function(qn,sr){return mn.apply(this,arguments)}}())}),Ie.apply(this,arguments)}function yt(jt,mn,qn){const sr=window.grecaptcha;Ht(sr)?sr.enterprise.ready(()=>{sr.enterprise.execute(jt,{action:f}).then(Qr=>{mn(Qr)}).catch(()=>{mn("NO_RECAPTCHA")})}):qn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((jt,mn)=>{(function oe(jt){return Ie.apply(this,arguments)})(S.auth).then(qn=>{if(!g&&Ht(window.grecaptcha))yt(qn,jt,mn);else{if(typeof window>"u")return void mn(new Error("RecaptchaVerifier is only supported in browser"));Fr("https://www.google.com/recaptcha/enterprise.js?render="+qn).then(()=>{yt(qn,jt,mn)}).catch(sr=>{mn(sr)})}}).catch(qn=>{mn(qn)})})})()}}function ni(E,f,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,a.Z)(function*(E,f,g,S=!1){const oe=new Or(E);let Ie;try{Ie=yield oe.verify(g)}catch{Ie=yield oe.verify(g,!0)}const yt=Object.assign({},f);return Object.assign(yt,S?{captchaResp:Ie}:{captchaResponse:Ie}),Object.assign(yt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(yt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),yt})).apply(this,arguments)}function Yi(E,f,g,S){return ve.apply(this,arguments)}function ve(){return ve=(0,a.Z)(function*(E,f,g,S){var oe;if(null!==(oe=E._getRecaptchaConfig())&&void 0!==oe&&oe.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ie=yield ni(E,f,g,"getOobCode"===g);return S(E,Ie)}return S(E,f).catch(function(){var Ie=(0,a.Z)(function*(yt){if("auth/missing-recaptcha-token"===yt.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const jt=yield ni(E,f,g,"getOobCode"===g);return S(E,jt)}return Promise.reject(yt)});return function(yt){return Ie.apply(this,arguments)}}())}),ve.apply(this,arguments)}function ct(E,f,g){const S=Er(E);W(S._canInitEmulator,S,"emulator-config-failed"),W(/^https?:\/\//.test(f),S,"invalid-emulator-scheme");const oe=!(null==g||!g.disableWarnings),Ie=Yt(f),{host:yt,port:jt}=function y(E){const f=Yt(E),g=/(\/\/)?([^?#/]+)/.exec(E.substr(f.length));if(!g)return{host:"",port:null};const S=g[2].split("@").pop()||"",oe=/^(\[[^\]]+\])(:|$)/.exec(S);if(oe){const Ie=oe[1];return{host:Ie,port:ae(S.substr(Ie.length+1))}}{const[Ie,yt]=S.split(":");return{host:Ie,port:ae(yt)}}}(f);S.config.emulator={url:`${Ie}//${yt}${null===jt?"":`:${jt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:yt,port:jt,protocol:Ie.replace(":",""),options:Object.freeze({disableWarnings:oe})}),oe||function O(){function E(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Yt(E){const f=E.indexOf(":");return f<0?"":E.substr(0,f+1)}function ae(E){if(!E)return null;const f=Number(E);return isNaN(f)?null:f}class de{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Le("not implemented")}_getIdTokenResponse(f){return Le("not implemented")}_linkToIdToken(f,g){return Le("not implemented")}_getReauthenticationResolver(f){return Le("not implemented")}}function at(E,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:resetPassword",Se(E,f))})).apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Dr(E,f){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function hr(){return(hr=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:update",Se(E,f))})).apply(this,arguments)}function Lr(E,f){return si.apply(this,arguments)}function si(){return(si=(0,a.Z)(function*(E,f){return bt(E,"POST","/v1/accounts:signInWithPassword",Se(E,f))})).apply(this,arguments)}function fn(E,f){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:sendOobCode",Se(E,f))})).apply(this,arguments)}function In(){return(In=(0,a.Z)(function*(E,f){return fn(E,f)})).apply(this,arguments)}function Pr(E,f){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(E,f){return fn(E,f)})).apply(this,arguments)}function bn(E,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(E,f){return fn(E,f)})).apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(E,f){return fn(E,f)})).apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(E,f){return bt(E,"POST","/v1/accounts:signInWithEmailLink",Se(E,f))})).apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(E,f){return bt(E,"POST","/v1/accounts:signInWithEmailLink",Se(E,f))})).apply(this,arguments)}class Bi extends de{constructor(f,g,S,oe=null){super("password",S),this._email=f,this._password=g,this._tenantId=oe}static _fromEmailAndPassword(f,g){return new Bi(f,g,"password")}static _fromEmailAndCode(f,g,S=null){return new Bi(f,g,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(null!=g&&g.email&&null!=g&&g.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return Yi(f,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Lr);case"emailLink":return function Xi(E,f){return Pi.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:ue(f,"internal-error")}})()}_linkToIdToken(f,g){var S=this;return(0,a.Z)(function*(){switch(S.signInMethod){case"password":return Yi(f,{idToken:g,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dr);case"emailLink":return function Mi(E,f){return Vr.apply(this,arguments)}(f,{idToken:g,email:S._email,oobCode:S._password});default:ue(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function bi(E,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(E,f){return bt(E,"POST","/v1/accounts:signInWithIdp",Se(E,f))})).apply(this,arguments)}class Re extends de{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Re(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):ue("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:S,signInMethod:oe}=g,Ie=(0,Y._T)(g,["providerId","signInMethod"]);if(!S||!oe)return null;const yt=new Re(S,oe);return yt.idToken=Ie.idToken||void 0,yt.accessToken=Ie.accessToken||void 0,yt.secret=Ie.secret,yt.nonce=Ie.nonce,yt.pendingToken=Ie.pendingToken||null,yt}_getIdTokenResponse(f){return bi(f,this.buildRequest())}_linkToIdToken(f,g){const S=this.buildRequest();return S.idToken=g,bi(f,S)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,bi(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,_.xO)(g)}return f}}function b(){return(b=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:sendVerificationCode",Se(E,f))})).apply(this,arguments)}function Pe(){return(Pe=(0,a.Z)(function*(E,f){return bt(E,"POST","/v1/accounts:signInWithPhoneNumber",Se(E,f))})).apply(this,arguments)}function dt(){return(dt=(0,a.Z)(function*(E,f){const g=yield bt(E,"POST","/v1/accounts:signInWithPhoneNumber",Se(E,f));if(g.temporaryProof)throw Ct(E,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const $t={USER_NOT_FOUND:"user-not-found"};function gn(){return(gn=(0,a.Z)(function*(E,f){return bt(E,"POST","/v1/accounts:signInWithPhoneNumber",Se(E,Object.assign(Object.assign({},f),{operation:"REAUTH"})),$t)})).apply(this,arguments)}class zn extends de{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new zn({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new zn({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function re(E,f){return Pe.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function et(E,f){return dt.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function qt(E,f){return gn.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:S,verificationCode:oe}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:S,code:oe}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:S,phoneNumber:oe,temporaryProof:Ie}=f;return S||g||oe||Ie?new zn({verificationId:g,verificationCode:S,phoneNumber:oe,temporaryProof:Ie}):null}}class jr{constructor(f){var g,S,oe,Ie,yt,jt;const mn=(0,_.zd)((0,_.pd)(f)),qn=null!==(g=mn.apiKey)&&void 0!==g?g:null,sr=null!==(S=mn.oobCode)&&void 0!==S?S:null,Qr=function ar(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(oe=mn.mode)&&void 0!==oe?oe:null);W(qn&&sr&&Qr,"argument-error"),this.apiKey=qn,this.operation=Qr,this.code=sr,this.continueUrl=null!==(Ie=mn.continueUrl)&&void 0!==Ie?Ie:null,this.languageCode=null!==(yt=mn.languageCode)&&void 0!==yt?yt:null,this.tenantId=null!==(jt=mn.tenantId)&&void 0!==jt?jt:null}static parseLink(f){const g=function jn(E){const f=(0,_.zd)((0,_.pd)(E)).link,g=f?(0,_.zd)((0,_.pd)(f)).deep_link_id:null,S=(0,_.zd)((0,_.pd)(E)).deep_link_id;return(S?(0,_.zd)((0,_.pd)(S)).link:null)||S||g||f||E}(f);try{return new jr(g)}catch{return null}}}let Yr=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(g,S){return Bi._fromEmailAndPassword(g,S)}static credentialWithLink(g,S){const oe=jr.parseLink(S);return W(oe,"argument-error"),Bi._fromEmailAndCode(g,oe.code,oe.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class pr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Xr extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class mi extends Xr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return W("providerId"in g&&"signInMethod"in g,"argument-error"),Re._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return W(f.idToken||f.accessToken,"argument-error"),Re._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return mi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return mi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:S,oauthTokenSecret:oe,pendingToken:Ie,nonce:yt,providerId:jt}=f;if(!S&&!oe&&!g&&!Ie||!jt)return null;try{return new mi(jt)._credential({idToken:g,accessToken:S,nonce:yt,pendingToken:Ie})}catch{return null}}}let Hi=(()=>{class E extends Xr{constructor(){super("facebook.com")}static credential(g){return Re._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Hr=(()=>{class E extends Xr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,S){return Re._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:S})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:S,oauthAccessToken:oe}=g;if(!S&&!oe)return null;try{return E.credential(S,oe)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),zi=(()=>{class E extends Xr{constructor(){super("github.com")}static credential(g){return Re._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Jr extends de{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return bi(f,this.buildRequest())}_linkToIdToken(f,g){const S=this.buildRequest();return S.idToken=g,bi(f,S)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,bi(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:S,signInMethod:oe,pendingToken:Ie}=g;return S&&oe&&Ie&&S===oe?new Jr(S,Ie):null}static _create(f,g){return new Jr(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ji extends pr{constructor(f){W(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ji.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ji.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Jr.fromJSON(f);return W(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:S}=f;if(!g||!S)return null;try{return Jr._create(S,g)}catch{return null}}}let bo=(()=>{class E extends Xr{constructor(){super("twitter.com")}static credential(g,S){return Re._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:S})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:S,oauthTokenSecret:oe}=g;if(!S||!oe)return null;try{return E.credential(S,oe)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function eo(E,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,a.Z)(function*(E,f){return bt(E,"POST","/v1/accounts:signUp",Se(E,f))})).apply(this,arguments)}class so{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,S,oe=!1){return(0,a.Z)(function*(){const Ie=yield w._fromIdTokenResponse(f,S,oe),yt=zo(S);return new so({user:Ie,providerId:yt,_tokenResponse:S,operationType:g})})()}static _forOperation(f,g,S){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(S,!0);const oe=zo(S);return new so({user:f,providerId:oe,_tokenResponse:S,operationType:g})})()}}function zo(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Ws(E){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,a.Z)(function*(E){var f;const g=Er(E);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new so({user:g.currentUser,providerId:null,operationType:"signIn"});const S=yield eo(g,{returnSecureToken:!0}),oe=yield so._fromIdTokenResponse(g,"signIn",S,!0);return yield g._updateCurrentUser(oe.user),oe})).apply(this,arguments)}class Os extends _.ZR{constructor(f,g,S,oe){var Ie;super(g.code,g.message),this.operationType=S,this.user=oe,Object.setPrototypeOf(this,Os.prototype),this.customData={appName:f.name,tenantId:null!==(Ie=f.tenantId)&&void 0!==Ie?Ie:void 0,_serverResponse:g.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(f,g,S,oe){return new Os(f,g,S,oe)}}function Il(E,f,g,S){return("reauthenticate"===f?g._getReauthenticationResolver(E):g._getIdTokenResponse(E)).catch(Ie=>{throw"auth/multi-factor-auth-required"===Ie.code?Os._fromErrorAndOperation(E,Ie,f,S):Ie})}function Cl(E){return new Set(E.map(({providerId:f})=>f).filter(f=>!!f))}function wl(E,f){return pi.apply(this,arguments)}function pi(){return pi=(0,a.Z)(function*(E,f){const g=(0,_.m9)(E);yield G(!0,g,f);const{providerUserInfo:S}=yield function hn(E,f){return xn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),oe=Cl(S||[]);return g.providerData=g.providerData.filter(Ie=>oe.has(Ie.providerId)),oe.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),pi.apply(this,arguments)}function Ka(E,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,a.Z)(function*(E,f,g=!1){const S=yield an(E,f._linkToIdToken(E.auth,yield E.getIdToken()),g);return so._forOperation(E,"link",S)})).apply(this,arguments)}function G(E,f,g){return V.apply(this,arguments)}function V(){return(V=(0,a.Z)(function*(E,f,g){yield Pn(f);const oe=!1===E?"provider-already-linked":"no-such-provider";W(Cl(f.providerData).has(g)===E,f.auth,oe)})).apply(this,arguments)}function Oe(E,f){return q.apply(this,arguments)}function q(){return(q=(0,a.Z)(function*(E,f,g=!1){const{auth:S}=E,oe="reauthenticate";try{const Ie=yield an(E,Il(S,oe,f,E),g);W(Ie.idToken,S,"internal-error");const yt=sn(Ie.idToken);W(yt,S,"internal-error");const{sub:jt}=yt;return W(E.uid===jt,S,"user-mismatch"),so._forOperation(E,oe,Ie)}catch(Ie){throw"auth/user-not-found"===(null==Ie?void 0:Ie.code)&&ue(S,"user-mismatch"),Ie}})).apply(this,arguments)}function Ye(E,f){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(E,f,g=!1){const S="signIn",oe=yield Il(E,S,f),Ie=yield so._fromIdTokenResponse(E,S,oe);return g||(yield E._updateCurrentUser(Ie.user)),Ie})).apply(this,arguments)}function er(E,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(E,f){return Ye(Er(E),f)})).apply(this,arguments)}function po(E,f){return So.apply(this,arguments)}function So(){return(So=(0,a.Z)(function*(E,f){const g=(0,_.m9)(E);return yield G(!1,g,f.providerId),Ka(g,f)})).apply(this,arguments)}function $o(E,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,a.Z)(function*(E,f){return Oe((0,_.m9)(E),f)})).apply(this,arguments)}function bs(){return(bs=(0,a.Z)(function*(E,f){return bt(E,"POST","/v1/accounts:signInWithCustomToken",Se(E,f))})).apply(this,arguments)}function ps(E,f){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,a.Z)(function*(E,f){const g=Er(E),S=yield function Io(E,f){return bs.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),oe=yield so._fromIdTokenResponse(g,"signIn",S);return yield g._updateCurrentUser(oe.user),oe}),Gi.apply(this,arguments)}class go{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?to._fromServerResponse(f,g):"totpInfo"in g?_a._fromServerResponse(f,g):ue(f,"internal-error")}}class to extends go{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new to(g)}}class _a extends go{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new _a(g)}}function As(E,f,g){var S;W((null===(S=g.url)||void 0===S?void 0:S.length)>0,E,"invalid-continue-uri"),W(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(W(g.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(W(g.android.packageName.length>0,E,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function lo(E){return gs.apply(this,arguments)}function gs(){return(gs=(0,a.Z)(function*(E){const f=Er(E);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function Za(E,f,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,a.Z)(function*(E,f,g){const S=Er(E),oe={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};g&&As(S,oe,g),yield Yi(S,oe,"getOobCode",Pr)})).apply(this,arguments)}function Qa(E,f,g){return Co.apply(this,arguments)}function Co(){return Co=(0,a.Z)(function*(E,f,g){yield at((0,_.m9)(E),{oobCode:f,newPassword:g}).catch(function(){var S=(0,a.Z)(function*(oe){throw"auth/password-does-not-meet-requirements"===oe.code&&lo(E),oe});return function(oe){return S.apply(this,arguments)}}())}),Co.apply(this,arguments)}function Xa(E,f){return li.apply(this,arguments)}function li(){return li=(0,a.Z)(function*(E,f){yield function qr(E,f){return hr.apply(this,arguments)}((0,_.m9)(E),{oobCode:f})}),li.apply(this,arguments)}function Dl(E,f){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(E,f){const g=(0,_.m9)(E),S=yield at(g,{oobCode:f}),oe=S.requestType;switch(W(oe,g,"internal-error"),oe){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(S.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(S.mfaInfo,g,"internal-error");default:W(S.email,g,"internal-error")}let Ie=null;return S.mfaInfo&&(Ie=go._fromServerResponse(Er(g),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:Ie},operation:oe}})).apply(this,arguments)}function wo(E,f){return ms.apply(this,arguments)}function ms(){return(ms=(0,a.Z)(function*(E,f){const{data:g}=yield Dl((0,_.m9)(E),f);return g.email})).apply(this,arguments)}function va(E,f,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,a.Z)(function*(E,f,g){const S=Er(E),yt=yield Yi(S,{returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eo).catch(mn=>{throw"auth/password-does-not-meet-requirements"===mn.code&&lo(E),mn}),jt=yield so._fromIdTokenResponse(S,"signIn",yt);return yield S._updateCurrentUser(jt.user),jt})).apply(this,arguments)}function ru(E,f,g){return er((0,_.m9)(E),Yr.credential(f,g)).catch(function(){var S=(0,a.Z)(function*(oe){throw"auth/password-does-not-meet-requirements"===oe.code&&lo(E),oe});return function(oe){return S.apply(this,arguments)}}())}function Gu(E,f,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,a.Z)(function*(E,f,g){const S=Er(E),oe={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function Ie(yt,jt){W(jt.handleCodeInApp,S,"argument-error"),jt&&As(S,yt,jt)})(oe,g),yield Yi(S,oe,"getOobCode",bn)})).apply(this,arguments)}function qo(E,f){const g=jr.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function uo(E,f,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,a.Z)(function*(E,f,g){const S=(0,_.m9)(E),oe=Yr.credentialWithLink(f,g||Ae());return W(oe._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),er(S,oe)})).apply(this,arguments)}function Ns(){return(Ns=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:createAuthUri",Se(E,f))})).apply(this,arguments)}function Ks(E,f){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,a.Z)(function*(E,f){const S={identifier:f,continueUri:Te()?Ae():"http://localhost"},{signinMethods:oe}=yield function Ys(E,f){return Ns.apply(this,arguments)}((0,_.m9)(E),S);return oe||[]}),Tl.apply(this,arguments)}function _s(E,f){return bl.apply(this,arguments)}function bl(){return bl=(0,a.Z)(function*(E,f){const g=(0,_.m9)(E),oe={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};f&&As(g.auth,oe,f);const{email:Ie}=yield function En(E,f){return In.apply(this,arguments)}(g.auth,oe);Ie!==E.email&&(yield E.reload())}),bl.apply(this,arguments)}function A(E,f,g){return H.apply(this,arguments)}function H(){return H=(0,a.Z)(function*(E,f,g){const S=(0,_.m9)(E),Ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:f};g&&As(S.auth,Ie,g);const{email:yt}=yield function Ur(E,f){return Ii.apply(this,arguments)}(S.auth,Ie);yt!==E.email&&(yield E.reload())}),H.apply(this,arguments)}function U(){return(U=(0,a.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Fe(E,f){return lt.apply(this,arguments)}function lt(){return lt=(0,a.Z)(function*(E,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const S=(0,_.m9)(E),Ie={idToken:yield S.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},yt=yield an(S,function Xe(E,f){return U.apply(this,arguments)}(S.auth,Ie));S.displayName=yt.displayName||null,S.photoURL=yt.photoUrl||null;const jt=S.providerData.find(({providerId:mn})=>"password"===mn);jt&&(jt.displayName=S.displayName,jt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(yt)}),lt.apply(this,arguments)}function zt(E,f){return Mr((0,_.m9)(E),f,null)}function _n(E,f){return Mr((0,_.m9)(E),null,f)}function Mr(E,f,g){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,a.Z)(function*(E,f,g){const{auth:S}=E,Ie={idToken:yield E.getIdToken(),returnSecureToken:!0};f&&(Ie.email=f),g&&(Ie.password=g);const yt=yield an(E,function Xn(E,f){return Ar.apply(this,arguments)}(S,Ie));yield E._updateTokensIfNecessary(yt,!0)}),Sr.apply(this,arguments)}class Hn{constructor(f,g,S={}){this.isNewUser=f,this.providerId=g,this.profile=S}}class ri extends Hn{constructor(f,g,S,oe){super(f,g,S),this.username=oe}}class Zr extends Hn{constructor(f,g){super(f,"facebook.com",g)}}class Ci extends ri{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ns extends Hn{constructor(f,g){super(f,"google.com",g)}}class tn extends ri{constructor(f,g,S){super(f,"twitter.com",g,S)}}function di(E){const{user:f,_tokenResponse:g}=E;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Kr(E){var f,g;if(!E)return null;const{providerId:S}=E,oe=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},Ie=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!S&&null!=E&&E.idToken){const yt=null===(g=null===(f=sn(E.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(yt)return new Hn(Ie,"anonymous"!==yt&&"custom"!==yt?yt:null)}if(!S)return null;switch(S){case"facebook.com":return new Zr(Ie,oe);case"github.com":return new Ci(Ie,oe);case"google.com":return new ns(Ie,oe);case"twitter.com":return new tn(Ie,oe,E.screenName||null);case"custom":case"anonymous":return new Hn(Ie,null);default:return new Hn(Ie,S,oe)}}(g)}class Ea{constructor(f,g,S){this.type=f,this.credential=g,this.user=S}static _fromIdtoken(f,g){return new Ea("enroll",f,g)}static _fromMfaPendingCredential(f){return new Ea("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,S;if(null!=f&&f.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ea._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(S=f.multiFactorSession)&&void 0!==S&&S.idToken)return Ea._fromIdtoken(f.multiFactorSession.idToken)}return null}}class iu{constructor(f,g,S){this.session=f,this.hints=g,this.signInResolver=S}static _fromError(f,g){const S=Er(f),oe=g.customData._serverResponse,Ie=(oe.mfaInfo||[]).map(jt=>go._fromServerResponse(S,jt));W(oe.mfaPendingCredential,S,"internal-error");const yt=Ea._fromMfaPendingCredential(oe.mfaPendingCredential);return new iu(yt,Ie,function(){var jt=(0,a.Z)(function*(mn){const qn=yield mn._process(S,yt);delete oe.mfaInfo,delete oe.mfaPendingCredential;const sr=Object.assign(Object.assign({},oe),{idToken:qn.idToken,refreshToken:qn.refreshToken});switch(g.operationType){case"signIn":const Qr=yield so._fromIdTokenResponse(S,g.operationType,sr);return yield S._updateCurrentUser(Qr.user),Qr;case"reauthenticate":return W(g.user,S,"internal-error"),so._forOperation(g.user,g.operationType,sr);default:ue(S,"internal-error")}});return function(mn){return jt.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,a.Z)(function*(){return g.signInResolver(f)})()}}function Al(E,f){var g;const S=(0,_.m9)(E),oe=f;return W(f.customData.operationType,S,"argument-error"),W(null===(g=oe.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,S,"argument-error"),iu._fromError(S,oe)}class ks{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(S=>go._fromServerResponse(f.auth,S)))})}static _fromUser(f){return new ks(f)}getSession(){var f=this;return(0,a.Z)(function*(){return Ea._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,g){var S=this;return(0,a.Z)(function*(){const oe=f,Ie=yield S.getSession(),yt=yield an(S.user,oe._process(S.user.auth,Ie,g));return yield S.user._updateTokensIfNecessary(yt),S.user.reload()})()}unenroll(f){var g=this;return(0,a.Z)(function*(){const S="string"==typeof f?f:f.uid,oe=yield g.user.getIdToken();try{const Ie=yield an(g.user,function Cr(E,f){return Ke(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(E,f))}(g.user.auth,{idToken:oe,mfaEnrollmentId:S}));g.enrolledFactors=g.enrolledFactors.filter(({uid:yt})=>yt!==S),yield g.user._updateTokensIfNecessary(Ie),yield g.user.reload()}catch(Ie){throw Ie}})()}}const ou=new WeakMap;function Un(E){const f=(0,_.m9)(E);return ou.has(f)||ou.set(f,ks._fromUser(f)),ou.get(f)}const Yn="__sak";class Ia{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Yn,"1"),this.storage.removeItem(Yn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uo=(()=>{class E extends Ia{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,S)=>this.onStorageEvent(g,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ei(){const E=(0,_.z$)();return nn(E)||yn(E)}()&&function yr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Br(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const S of Object.keys(this.listeners)){const oe=this.storage.getItem(S),Ie=this.localCache[S];oe!==Ie&&g(S,Ie,oe)}}onStorageEvent(g,S=!1){if(!g.key)return void this.forAllChangedKeys((jt,mn,qn)=>{this.notifyListeners(jt,qn)});const oe=g.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const jt=this.storage.getItem(oe);if(g.newValue!==jt)null!==g.newValue?this.storage.setItem(oe,g.newValue):this.storage.removeItem(oe);else if(this.localCache[oe]===g.newValue&&!S)return}const Ie=()=>{const jt=this.storage.getItem(oe);!S&&this.localCache[oe]===jt||this.notifyListeners(oe,jt)},yt=this.storage.getItem(oe);!function tr(){return(0,_.w1)()&&10===document.documentMode}()||yt===g.newValue||g.newValue===g.oldValue?Ie():setTimeout(Ie,10)}notifyListeners(g,S){this.localCache[g]=S;const oe=this.listeners[g];if(oe)for(const Ie of Array.from(oe))Ie(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,S,oe)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:S,newValue:oe}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(S)}_removeListener(g,S){this.listeners[g]&&(this.listeners[g].delete(S),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,S){var oe=()=>super._set,Ie=this;return(0,a.Z)(function*(){yield oe().call(Ie,g,S),Ie.localCache[g]=JSON.stringify(S)})()}_get(g){var S=()=>super._get,oe=this;return(0,a.Z)(function*(){const Ie=yield S().call(oe,g);return oe.localCache[g]=JSON.stringify(Ie),Ie})()}_remove(g){var S=()=>super._remove,oe=this;return(0,a.Z)(function*(){yield S().call(oe,g),delete oe.localCache[g]})()}}return E.type="LOCAL",E})(),Fs=(()=>{class E extends Ia{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,S){}_removeListener(g,S){}}return E.type="SESSION",E})();let Ca=(()=>{class E{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const S=this.receivers.find(Ie=>Ie.isListeningto(g));if(S)return S;const oe=new E(g);return this.receivers.push(oe),oe}isListeningto(g){return this.eventTarget===g}handleEvent(g){var S=this;return(0,a.Z)(function*(){const oe=g,{eventId:Ie,eventType:yt,data:jt}=oe.data,mn=S.handlersMap[yt];if(null==mn||!mn.size)return;oe.ports[0].postMessage({status:"ack",eventId:Ie,eventType:yt});const qn=Array.from(mn).map(function(){var Qr=(0,a.Z)(function*(Qo){return Qo(oe.origin,jt)});return function(Qo){return Qr.apply(this,arguments)}}()),sr=yield function ih(E){return Promise.all(E.map(function(){var f=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(S){return{fulfilled:!1,reason:S}}});return function(g){return f.apply(this,arguments)}}()))}(qn);oe.ports[0].postMessage({status:"done",eventId:Ie,eventType:yt,response:sr})})()}_subscribe(g,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(S)}_unsubscribe(g,S){this.handlersMap[g]&&S&&this.handlersMap[g].delete(S),(!S||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Ja(E="",f=10){let g="";for(let S=0;S<f;S++)g+=Math.floor(10*Math.random());return E+g}class rn{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,S=50){var oe=this;return(0,a.Z)(function*(){const Ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ie)throw new Error("connection_unavailable");let yt,jt;return new Promise((mn,qn)=>{const sr=Ja("",20);Ie.port1.start();const Qr=setTimeout(()=>{qn(new Error("unsupported_event"))},S);jt={messageChannel:Ie,onMessage(Qo){const ia=Qo;if(ia.data.eventId===sr)switch(ia.data.status){case"ack":clearTimeout(Qr),yt=setTimeout(()=>{qn(new Error("timeout"))},3e3);break;case"done":clearTimeout(yt),mn(ia.data.response);break;default:clearTimeout(Qr),clearTimeout(yt),qn(new Error("invalid_response"))}}},oe.handlers.add(jt),Ie.port1.addEventListener("message",jt.onMessage),oe.target.postMessage({eventType:f,eventId:sr,data:g},[Ie.port2])}).finally(()=>{jt&&oe.removeMessageHandler(jt)})})()}}function ur(){return window}function Do(){return typeof ur().WorkerGlobalScope<"u"&&"function"==typeof ur().importScripts}function el(){return(el=(0,a.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Da="firebaseLocalStorageDb",Ls="firebaseLocalStorage",is="fbase_key";class tl{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ki(E,f){return E.transaction([Ls],f?"readwrite":"readonly").objectStore(Ls)}function au(){const E=indexedDB.open(Da,1);return new Promise((f,g)=>{E.addEventListener("error",()=>{g(E.error)}),E.addEventListener("upgradeneeded",()=>{const S=E.result;try{S.createObjectStore(Ls,{keyPath:is})}catch(oe){g(oe)}}),E.addEventListener("success",(0,a.Z)(function*(){const S=E.result;S.objectStoreNames.contains(Ls)?f(S):(S.close(),yield function Po(){const E=indexedDB.deleteDatabase(Da);return new tl(E).toPromise()}(),f(yield au()))}))})}function Yo(E,f,g){return os.apply(this,arguments)}function os(){return(os=(0,a.Z)(function*(E,f,g){const S=Ki(E,!0).put({[is]:f,value:g});return new tl(S).toPromise()})).apply(this,arguments)}function P(){return(P=(0,a.Z)(function*(E,f){const g=Ki(E,!1).get(f),S=yield new tl(g).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function k(E,f){const g=Ki(E,!0).delete(f);return new tl(g).toPromise()}const ze=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield au()),g.db})()}_withRetries(g){var S=this;return(0,a.Z)(function*(){let oe=0;for(;;)try{const Ie=yield S._openDb();return yield g(Ie)}catch(Ie){if(oe++>3)throw Ie;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return Do()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=Ca._getInstance(function mo(){return Do()?self:null}()),g.receiver._subscribe("keyChanged",function(){var S=(0,a.Z)(function*(oe,Ie){return{keyProcessed:(yield g._poll()).includes(Ie.key)}});return function(oe,Ie){return S.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var S=(0,a.Z)(function*(oe,Ie){return["keyChanged"]});return function(oe,Ie){return S.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var S,oe;if(g.activeServiceWorker=yield function no(){return el.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new rn(g.activeServiceWorker);const Ie=yield g.sender._send("ping",{},800);Ie&&null!==(S=Ie[0])&&void 0!==S&&S.fulfilled&&null!==(oe=Ie[0])&&void 0!==oe&&oe.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var S=this;return(0,a.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function wa(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:g},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield au();return yield Yo(g,Yn,"1"),yield k(g,Yn),!0}catch{}return!1})()}_withPendingWrite(g){var S=this;return(0,a.Z)(function*(){S.pendingWrites++;try{yield g()}finally{S.pendingWrites--}})()}_set(g,S){var oe=this;return(0,a.Z)(function*(){return oe._withPendingWrite((0,a.Z)(function*(){return yield oe._withRetries(Ie=>Yo(Ie,g,S)),oe.localCache[g]=S,oe.notifyServiceWorker(g)}))})()}_get(g){var S=this;return(0,a.Z)(function*(){const oe=yield S._withRetries(Ie=>function C(E,f){return P.apply(this,arguments)}(Ie,g));return S.localCache[g]=oe,oe})()}_remove(g){var S=this;return(0,a.Z)(function*(){return S._withPendingWrite((0,a.Z)(function*(){return yield S._withRetries(oe=>k(oe,g)),delete S.localCache[g],S.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const S=yield g._withRetries(yt=>{const jt=Ki(yt,!1).getAll();return new tl(jt).toPromise()});if(!S)return[];if(0!==g.pendingWrites)return[];const oe=[],Ie=new Set;for(const{fbase_key:yt,value:jt}of S)Ie.add(yt),JSON.stringify(g.localCache[yt])!==JSON.stringify(jt)&&(g.notifyListeners(yt,jt),oe.push(yt));for(const yt of Object.keys(g.localCache))g.localCache[yt]&&!Ie.has(yt)&&(g.notifyListeners(yt,null),oe.push(yt));return oe})()}notifyListeners(g,S){this.localCache[g]=S;const oe=this.listeners[g];if(oe)for(const Ie of Array.from(oe))Ie(S)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(S)}_removeListener(g,S){this.listeners[g]&&(this.listeners[g].delete(S),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),hi=1e12;class co{constructor(f){this.auth=f,this.counter=hi,this._widgets=new Map}render(f,g){const S=this.counter;return this._widgets.set(S,new fi(f,this.auth.name,g||{})),this.counter++,S}reset(f){var g;const S=f||hi;null===(g=this._widgets.get(S))||void 0===g||g.delete(),this._widgets.delete(S)}getResponse(f){var g;return(null===(g=this._widgets.get(f||hi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,a.Z)(function*(){var S;return null===(S=g._widgets.get(f||hi))||void 0===S||S.execute(),""})()}}class fi{constructor(f,g,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const oe="string"==typeof f?document.getElementById(f):f;W(oe,"argument-error",{appName:g}),this.container=oe,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ro(E){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<E;S++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ys=oi("rcb"),nl=new At(3e4,6e4);class ss{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=ur().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return W(function Li(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Vt(ur().grecaptcha)?Promise.resolve(ur().grecaptcha):new Promise((S,oe)=>{const Ie=ur().setTimeout(()=>{oe(Ge(f,"network-request-failed"))},nl.get());ur()[ys]=()=>{ur().clearTimeout(Ie),delete ur()[ys];const jt=ur().grecaptcha;if(!jt||!Vt(jt))return void oe(Ge(f,"internal-error"));const mn=jt.render;jt.render=(qn,sr)=>{const Qr=mn(qn,sr);return this.counter++,Qr},this.hostLanguage=g,S(jt)},Fr(`https://www.google.com/recaptcha/api.js??${(0,_.xO)({onload:ys,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(Ie),oe(Ge(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=ur().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sl{load(f){return(0,a.Z)(function*(){return new co(f)})()}clearedOneInstance(){}}const oh="recaptcha",Wf={theme:"light",type:"image"};class qf{constructor(f,g,S=Object.assign({},Wf)){this.parameters=S,this.type=oh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Er(f),this.isInvisible="invisible"===this.parameters.size,W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const oe="string"==typeof g?document.getElementById(g):g;W(oe,this.auth,"argument-error"),this.container=oe,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sl:new ss,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),S=f.getAssertedRecaptcha();return S.getResponse(g)||new Promise(Ie=>{const yt=jt=>{jt&&(f.tokenChangeListeners.delete(yt),Ie(jt))};f.tokenChangeListeners.add(yt),f.isInvisible&&S.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(S=>S(g)),"function"==typeof f)f(g);else if("string"==typeof f){const S=ur()[f];"function"==typeof S&&S(g)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const S=document.createElement("div");g.appendChild(S),g=S}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){W(Te()&&!Do(),f.auth,"internal-error"),yield function sh(){let E=null;return new Promise(f=>{"complete"!==document.readyState?(E=()=>f(),window.addEventListener("load",E)):f()}).catch(f=>{throw E&&window.removeEventListener("load",E),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function cn(E){return wn.apply(this,arguments)}(f.auth);W(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yu{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=zn._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Ku(E,f,g){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(E,f,g){const S=Er(E),oe=yield Pl(S,f,(0,_.m9)(g));return new Yu(oe,Ie=>er(S,Ie))})).apply(this,arguments)}function ah(E,f,g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,a.Z)(function*(E,f,g){const S=(0,_.m9)(E);yield G(!1,S,"phone");const oe=yield Pl(S.auth,f,(0,_.m9)(g));return new Yu(oe,Ie=>po(S,Ie))})).apply(this,arguments)}function lu(E,f,g){return rl.apply(this,arguments)}function rl(){return(rl=(0,a.Z)(function*(E,f,g){const S=(0,_.m9)(E),oe=yield Pl(S.auth,f,(0,_.m9)(g));return new Yu(oe,Ie=>$o(S,Ie))})).apply(this,arguments)}function Pl(E,f,g){return Ml.apply(this,arguments)}function Ml(){return Ml=(0,a.Z)(function*(E,f,g){var S;const oe=yield g.verify();try{let Ie;if(W("string"==typeof oe,E,"argument-error"),W(g.type===oh,E,"argument-error"),Ie="string"==typeof f?{phoneNumber:f}:f,"session"in Ie){const yt=Ie.session;if("phoneNumber"in Ie)return W("enroll"===yt.type,E,"internal-error"),(yield function Ps(E,f){return Ke(E,"POST","/v2/accounts/mfaEnrollment:start",Se(E,f))}(E,{idToken:yt.credential,phoneEnrollmentInfo:{phoneNumber:Ie.phoneNumber,recaptchaToken:oe}})).phoneSessionInfo.sessionInfo;{W("signin"===yt.type,E,"internal-error");const jt=(null===(S=Ie.multiFactorHint)||void 0===S?void 0:S.uid)||Ie.multiFactorUid;return W(jt,E,"missing-multi-factor-info"),(yield function vt(E,f){return Ke(E,"POST","/v2/accounts/mfaSignIn:start",Se(E,f))}(E,{mfaPendingCredential:yt.credential,mfaEnrollmentId:jt,phoneSignInInfo:{recaptchaToken:oe}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:yt}=yield function v(E,f){return b.apply(this,arguments)}(E,{phoneNumber:Ie.phoneNumber,recaptchaToken:oe});return yt}}finally{g._reset()}}),Ml.apply(this,arguments)}function _o(E,f){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,a.Z)(function*(E,f){yield Ka((0,_.m9)(E),f)})).apply(this,arguments)}let as=(()=>{class E{constructor(g){this.providerId=E.PROVIDER_ID,this.auth=Er(g)}verifyPhoneNumber(g,S){return Pl(this.auth,g,(0,_.m9)(S))}static credential(g,S){return zn._fromVerification(g,S)}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:S,temporaryProof:oe}=g;return S&&oe?zn._fromTokenResponse(S,oe):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Es(E,f){return f?ce(f):(W(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class xi extends de{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return bi(f,this._buildIdpRequest())}_linkToIdToken(f,g){return bi(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return bi(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Wc(E){return Ye(E.auth,new xi(E),E.bypassAuthState)}function vo(E){const{auth:f,user:g}=E;return W(g,f,"internal-error"),Oe(g,new xi(E),E.bypassAuthState)}function Vi(E){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,a.Z)(function*(E){const{auth:f,user:g}=E;return W(g,f,"internal-error"),Ka(g,new xi(E),E.bypassAuthState)})).apply(this,arguments)}class il{constructor(f,g,S,oe,Ie=!1){this.auth=f,this.resolver=S,this.user=oe,this.bypassAuthState=Ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,a.Z)(function*(S,oe){f.pendingPromise={resolve:S,reject:oe};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Ie){f.reject(Ie)}});return function(S,oe){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,a.Z)(function*(){const{urlResponse:S,sessionId:oe,postBody:Ie,tenantId:yt,error:jt,type:mn}=f;if(jt)return void g.reject(jt);const qn={auth:g.auth,requestUri:S,sessionId:oe,tenantId:yt||void 0,postBody:Ie||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(mn)(qn))}catch(sr){g.reject(sr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Wc;case"linkViaPopup":case"linkViaRedirect":return Vi;case"reauthViaPopup":case"reauthViaRedirect":return vo;default:ue(this.auth,"internal-error")}}resolve(f){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ls=new At(2e3,1e4);function Yf(E,f,g){return uu.apply(this,arguments)}function uu(){return(uu=(0,a.Z)(function*(E,f,g){const S=Er(E);_e(E,f,pr);const oe=Es(S,g);return new Ko(S,"signInViaPopup",f,oe).executeNotNull()})).apply(this,arguments)}function Zi(E,f,g){return qc.apply(this,arguments)}function qc(){return(qc=(0,a.Z)(function*(E,f,g){const S=(0,_.m9)(E);_e(S.auth,f,pr);const oe=Es(S.auth,g);return new Ko(S.auth,"reauthViaPopup",f,oe,S).executeNotNull()})).apply(this,arguments)}function Is(E,f,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,a.Z)(function*(E,f,g){const S=(0,_.m9)(E);_e(S.auth,f,pr);const oe=Es(S.auth,g);return new Ko(S.auth,"linkViaPopup",f,oe,S).executeNotNull()})).apply(this,arguments)}let Ko=(()=>{class E extends il{constructor(g,S,oe,Ie,yt){super(g,S,Ie,yt),this.provider=oe,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const S=yield g.execute();return W(S,g.auth,"internal-error"),S})()}onExecution(){var g=this;return(0,a.Z)(function*(){De(1===g.filter.length,"Popup operations only handle one event");const S=Ja();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],S),g.authWindow.associatedEvent=S,g.resolver._originValidation(g.auth).catch(oe=>{g.reject(oe)}),g.resolver._isIframeWebStorageSupported(g.auth,oe=>{oe||g.reject(Ge(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const g=()=>{var S,oe;this.pollId=null!==(oe=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==oe&&oe.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,ls.get())};g()}}return E.currentPopupAction=null,E})();const Yc="pendingRedirect",Zs=new Map;class xl extends il{constructor(f,g,S=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,S),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,a.Z)(function*(){let S=Zs.get(g.auth._key());if(!S){try{const Ie=(yield function Kf(E,f){return yo.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;S=()=>Promise.resolve(Ie)}catch(oe){S=()=>Promise.reject(oe)}Zs.set(g.auth._key(),S)}return g.bypassAuthState||Zs.set(g.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,S=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(S,f);if("unknown"!==f.type){if(f.eventId){const oe=yield S.auth._redirectUserForId(f.eventId);if(oe)return S.user=oe,g().call(S,f);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function yo(){return(yo=(0,a.Z)(function*(E,f){const g=Ms(f),S=Xs(E);if(!(yield S._isAvailable()))return!1;const oe="true"===(yield S._get(g));return yield S._remove(g),oe})).apply(this,arguments)}function $s(E,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,a.Z)(function*(E,f){return Xs(E)._set(Ms(f),"true")})).apply(this,arguments)}function Bs(){Zs.clear()}function Cs(E,f){Zs.set(E._key(),f)}function Xs(E){return ce(E._redirectPersistence)}function Ms(E){return wt(Yc,E.config.apiKey,E.name)}function lh(E,f,g){return function ol(E,f,g){return Ol.apply(this,arguments)}(E,f,g)}function Ol(){return(Ol=(0,a.Z)(function*(E,f,g){const S=Er(E);_e(E,f,pr),yield S._initializationPromise;const oe=Es(S,g);return yield $s(oe,S),oe._openRedirect(S,f,"signInViaRedirect")})).apply(this,arguments)}function cu(E,f,g){return function Ta(E,f,g){return du.apply(this,arguments)}(E,f,g)}function du(){return(du=(0,a.Z)(function*(E,f,g){const S=(0,_.m9)(E);_e(S.auth,f,pr),yield S.auth._initializationPromise;const oe=Es(S.auth,g);yield $s(oe,S.auth);const Ie=yield No(S);return oe._openRedirect(S.auth,f,"reauthViaRedirect",Ie)})).apply(this,arguments)}function ba(E,f,g){return function Aa(E,f,g){return Xu.apply(this,arguments)}(E,f,g)}function Xu(){return(Xu=(0,a.Z)(function*(E,f,g){const S=(0,_.m9)(E);_e(S.auth,f,pr),yield S.auth._initializationPromise;const oe=Es(S.auth,g);yield G(!1,S,f.providerId),yield $s(oe,S.auth);const Ie=yield No(S);return oe._openRedirect(S.auth,f,"linkViaRedirect",Ie)})).apply(this,arguments)}function hu(E,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,a.Z)(function*(E,f){return yield Er(E)._initializationPromise,Ra(E,f,!1)})).apply(this,arguments)}function Ra(E,f){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,a.Z)(function*(E,f,g=!1){const S=Er(E),oe=Es(S,f),yt=yield new xl(S,oe,g).execute();return yt&&!g&&(delete yt.user._redirectEventId,yield S._persistUserIfCurrent(yt.user),yield S._setRedirectUser(null,f)),yt})).apply(this,arguments)}function No(E){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,a.Z)(function*(E){const f=Ja(`${E.uid}:::`);return E._redirectEventId=f,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),f})).apply(this,arguments)}class ho{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(f,S)&&(g=!0,this.sendToConsumer(f,S),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Us(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $i(E);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var S;if(f.error&&!$i(f)){const oe=(null===(S=f.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";g.onError(Ge(this.auth,oe))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const S=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&S}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qc(f))}saveEventToCache(f){this.cachedEventUids.add(Qc(f)),this.lastProcessedEventTime=Date.now()}}function Qc(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(f=>f).join("-")}function $i({type:E,error:f}){return"unknown"===E&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Pa(E){return Js.apply(this,arguments)}function Js(){return(Js=(0,a.Z)(function*(E,f={}){return Ke(E,"GET","/v1/projects",f)})).apply(this,arguments)}const js=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uh=/^https?/;function zr(){return(zr=(0,a.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:f}=yield Pa(E);for(const g of f)try{if(Oi(g))return}catch{}ue(E,"unauthorized-domain")})).apply(this,arguments)}function Oi(E){const f=Ae(),{protocol:g,hostname:S}=new URL(f);if(E.startsWith("chrome-extension://")){const yt=new URL(E);return""===yt.hostname&&""===S?"chrome-extension:"===g&&E.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&yt.hostname===S}if(!uh.test(g))return!1;if(js.test(E))return S===E;const oe=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+oe+"|"+oe+")$","i").test(S)}const Nl=new At(3e4,6e4);function Xc(){const E=ur().___jsl;if(null!=E&&E.H)for(const f of Object.keys(E.H))if(E.H[f].r=E.H[f].r||[],E.H[f].L=E.H[f].L||[],E.H[f].r=[...E.H[f].L],E.CP)for(let g=0;g<E.CP.length;g++)E.CP[g]=null}let tc=null;const Zf=new At(5e3,15e3),Qf="__/auth/iframe",sl="emulator/auth/iframe",Xf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eo(E){const f=E.config;W(f.authDomain,E,"auth-domain-config-required");const g=f.emulator?rt(f,sl):`https://${E.config.authDomain}/${Qf}`,S={apiKey:f.apiKey,appName:E.name,v:N.SDK_VERSION},oe=Jf.get(E.config.apiHost);oe&&(S.eid=oe);const Ie=E._getFrameworks();return Ie.length&&(S.fw=Ie.join(",")),`${g}?${(0,_.xO)(S).slice(1)}`}function al(){return al=(0,a.Z)(function*(E){const f=yield function dh(E){return tc=tc||function ch(E){return new Promise((f,g)=>{var S,oe,Ie;function yt(){Xc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Xc(),g(Ge(E,"network-request-failed"))},timeout:Nl.get()})}if(null!==(oe=null===(S=ur().gapi)||void 0===S?void 0:S.iframes)&&void 0!==oe&&oe.Iframe)f(gapi.iframes.getContext());else{if(null===(Ie=ur().gapi)||void 0===Ie||!Ie.load){const jt=oi("iframefcb");return ur()[jt]=()=>{gapi.load?yt():g(Ge(E,"network-request-failed"))},Fr(`https://apis.google.com/js/api.js?onload=${jt}`).catch(mn=>g(mn))}yt()}}).catch(f=>{throw tc=null,f})}(E),tc}(E),g=ur().gapi;return W(g,E,"internal-error"),f.open({where:document.body,url:Eo(E),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xf,dontclear:!0},S=>new Promise(function(){var oe=(0,a.Z)(function*(Ie,yt){yield S.restyle({setHideOnLeave:!1});const jt=Ge(E,"network-request-failed"),mn=ur().setTimeout(()=>{yt(jt)},Zf.get());function qn(){ur().clearTimeout(mn),Ie(S)}S.ping(qn).then(qn,()=>{yt(jt)})});return function(Ie,yt){return oe.apply(this,arguments)}}()))}),al.apply(this,arguments)}const fh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ds{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const nc="__/auth/handler",ep="emulator/auth/handler",Zo=encodeURIComponent("fac");function us(E,f,g,S,oe,Ie){return ea.apply(this,arguments)}function ea(){return(ea=(0,a.Z)(function*(E,f,g,S,oe,Ie){W(E.config.authDomain,E,"auth-domain-config-required"),W(E.config.apiKey,E,"invalid-api-key");const yt={apiKey:E.config.apiKey,appName:E.name,authType:g,redirectUrl:S,v:N.SDK_VERSION,eventId:oe};if(f instanceof pr){f.setDefaultLanguage(E.languageCode),yt.providerId=f.providerId||"",(0,_.xb)(f.getCustomParameters())||(yt.customParameters=JSON.stringify(f.getCustomParameters()));for(const[sr,Qr]of Object.entries(Ie||{}))yt[sr]=Qr}if(f instanceof Xr){const sr=f.getScopes().filter(Qr=>""!==Qr);sr.length>0&&(yt.scopes=sr.join(","))}E.tenantId&&(yt.tid=E.tenantId);const jt=yt;for(const sr of Object.keys(jt))void 0===jt[sr]&&delete jt[sr];const mn=yield E._getAppCheckToken(),qn=mn?`#${Zo}=${encodeURIComponent(mn)}`:"";return`${function pu({config:E}){return E.emulator?rt(E,ep):`https://${E.authDomain}/${nc}`}(E)}?${(0,_.xO)(jt).slice(1)}${qn}`})).apply(this,arguments)}const gu="webStorageSupport",ll=class ed{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fs,this._completeRedirectFn=Ra,this._overrideRedirectResult=Cs}_openPopup(f,g,S,oe){var Ie=this;return(0,a.Z)(function*(){var yt;De(null===(yt=Ie.eventManagers[f._key()])||void 0===yt?void 0:yt.manager,"_initialize() not called before _openPopup()");const jt=yield us(f,g,S,Ae(),oe);return function fu(E,f,g,S=500,oe=600){const Ie=Math.max((window.screen.availHeight-oe)/2,0).toString(),yt=Math.max((window.screen.availWidth-S)/2,0).toString();let jt="";const mn=Object.assign(Object.assign({},fh),{width:S.toString(),height:oe.toString(),top:Ie,left:yt}),qn=(0,_.z$)().toLowerCase();g&&(jt=Kn(qn)?"_blank":g),Zt(qn)&&(f=f||"http://localhost",mn.scrollbars="yes");const sr=Object.entries(mn).reduce((Qo,[ia,oc])=>`${Qo}${ia}=${oc},`,"");if(function pn(E=(0,_.z$)()){var f;return yn(E)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(qn)&&"_self"!==jt)return function Jc(E,f){const g=document.createElement("a");g.href=E,g.target=f;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(S)}(f||"",jt),new Ds(null);const Qr=window.open(f||"",jt,sr);W(Qr,E,"popup-blocked");try{Qr.focus()}catch{}return new Ds(Qr)}(f,jt,Ja())})()}_openRedirect(f,g,S,oe){var Ie=this;return(0,a.Z)(function*(){return yield Ie._originValidation(f),function su(E){ur().location.href=E}(yield us(f,g,S,Ae(),oe)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:oe,promise:Ie}=this.eventManagers[g];return oe?Promise.resolve(oe):(De(Ie,"If manager is not set, promise should be"),Ie)}const S=this.initAndGetManager(f);return this.eventManagers[g]={promise:S},S.catch(()=>{delete this.eventManagers[g]}),S}initAndGetManager(f){var g=this;return(0,a.Z)(function*(){const S=yield function hh(E){return al.apply(this,arguments)}(f),oe=new ho(f);return S.register("authEvent",Ie=>(W(null==Ie?void 0:Ie.authEvent,f,"invalid-auth-event"),{status:oe.onEvent(Ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:oe},g.iframes[f._key()]=S,oe})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(gu,{type:gu},oe=>{var Ie;const yt=null===(Ie=null==oe?void 0:oe[0])||void 0===Ie?void 0:Ie[gu];void 0!==yt&&g(!!yt),ue(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ec(E){return zr.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Br()||nn()||yn()}};class jo{constructor(f){this.factorId=f}_process(f,g,S){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,S);case"signin":return this._finalizeSignIn(f,g.credential);default:return Le("unexpected MultiFactorSessionType")}}}class rc extends jo{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new rc(f)}_finalizeEnroll(f,g,S){return function rh(E,f){return Ke(E,"POST","/v2/accounts/mfaEnrollment:finalize",Se(E,f))}(f,{idToken:g,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Cn(E,f){return Ke(E,"POST","/v2/accounts/mfaSignIn:finalize",Se(E,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let td=(()=>{class E{constructor(){}static assertion(g){return rc._fromCredential(g)}}return E.FACTOR_ID="phone",E})();var ra="@firebase/auth";class mu{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(S=>{f((null==S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mo=(0,_.Pz)("authIdTokenMaxAge")||300;let ic=null;const _u=E=>function(){var f=(0,a.Z)(function*(g){const S=g&&(yield g.getIdTokenResult()),oe=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(oe&&oe>Mo)return;const Ie=null==S?void 0:S.token;ic!==Ie&&(ic=Ie,yield fetch(E,{method:Ie?"POST":"DELETE",headers:Ie?{Authorization:`Bearer ${Ie}`}:{}}))});return function(g){return f.apply(this,arguments)}}();function gh(E=(0,N.getApp)()){const f=(0,N._getProvider)(E,"auth");if(f.isInitialized())return f.getImmediate();const g=function it(E,f){const g=(0,N._getProvider)(E,"auth");if(g.isInitialized()){const oe=g.getImmediate(),Ie=g.getOptions();if((0,_.vZ)(Ie,null!=f?f:{}))return oe;ue(oe,"already-initialized")}return g.initialize({options:f})}(E,{popupRedirectResolver:ll,persistence:[ze,Uo,Fs]}),S=(0,_.Pz)("authTokenSyncURL");if(S){const Ie=_u(S);(function Xt(E,f,g){(0,_.m9)(E).beforeAuthStateChanged(f,g)})(g,Ie,()=>Ie(g.currentUser)),function Wu(E,f,g,S){(0,_.m9)(E).onIdTokenChanged(f,g,S)}(g,yt=>Ie(yt))}const oe=(0,_.q4)("auth");return oe&&ct(g,`http://${oe}`),g}!function Hs(E){(0,N._registerComponent)(new Z.wA("auth",(f,{options:g})=>{const S=f.getProvider("app").getImmediate(),oe=f.getProvider("heartbeat"),Ie=f.getProvider("app-check-internal"),{apiKey:yt,authDomain:jt}=S.options;W(yt&&!yt.includes(":"),"invalid-api-key",{appName:S.name});const mn={apiKey:yt,authDomain:jt,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ci(E)},qn=new rr(S,oe,Ie,mn);return function Ot(E,f){const g=(null==f?void 0:f.persistence)||[],S=(Array.isArray(g)?g:[g]).map(ce);null!=f&&f.errorMap&&E._updateErrorMap(f.errorMap),E._initializeWithPersistence(S,null==f?void 0:f.popupRedirectResolver)}(qn,g),qn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,S)=>{f.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new Z.wA("auth-internal",f=>{const g=Er(f.getProvider("auth").getImmediate());return new mu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(ra,"1.4.0",function tp(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,N.registerVersion)(ra,"1.4.0","esm2017")}("Browser")},5776:(Lt,Ce,I)=>{"use strict";I.d(Ce,{u7:()=>Lg,Jj:()=>ml,IX:()=>sy,my:()=>oo,xU:()=>pa,Lz:()=>Ha,WA:()=>dn,F8:()=>bf,$q:()=>Xd,W:()=>Hu,EK:()=>Un,PU:()=>kf,l7:()=>yo,Ky:()=>Vn,Xb:()=>Fi,Cf:()=>ti,K9:()=>Wu,Me:()=>uu,yq:()=>wi,Wi:()=>Pg,ET:()=>xy,Ab:()=>Yg,vr:()=>K_,Fc:()=>ly,hJ:()=>wf,B$:()=>Gd,at:()=>Cf,oe:()=>My,AK:()=>Y_,TF:()=>cy,JU:()=>Og,ST:()=>A_,fH:()=>S_,Ix:()=>uy,Wu:()=>Cy,Lx:()=>Iy,qY:()=>qi,GL:()=>zu,QT:()=>$g,kl:()=>Nf,Xk:()=>W0,PL:()=>Sy,UQ:()=>Ry,zN:()=>Bg,ad:()=>T_,nP:()=>Z_,b9:()=>F_,vh:()=>L_,Pb:()=>dy,L$:()=>hy,cf:()=>z_,sc:()=>G_,Xo:()=>k_,IO:()=>Lc,iE:()=>w_,Eo:()=>Df,i3:()=>Uy,Bt:()=>qg,pl:()=>Py,Ub:()=>ns,qK:()=>Ay,TQ:()=>G0,e0:()=>Ey,r7:()=>H_,Mx:()=>Wd,ar:()=>N_});var ne,a=I(5861),_=I(534),N=I(4537),F=I(7879),Y=I(9058),Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q={},Me=Me||{},K=Z||self;function le(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ge(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Be="closure_uid_"+(1e9*Math.random()>>>0),$e=0;function nt(i,e,n){return i.call.apply(i.bind,arguments)}function We(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function He(i,e,n){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nt:We).apply(null,arguments)}function Ze(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function ot(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,u,d){for(var p=Array(arguments.length-2),M=2;M<arguments.length;M++)p[M-2]=arguments[M];return e.prototype[u].apply(s,p)}}function ue(){this.s=this.s,this.o=this.o}ue.prototype.s=!1,ue.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function we(i){Object.prototype.hasOwnProperty.call(i,Be)&&i[Be]||(i[Be]=++$e)}(this)},ue.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const be=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function _e(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function te(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(le(s)){const u=i.length||0,d=s.length||0;i.length=u+d;for(let p=0;p<d;p++)i[u+p]=s[p]}else i.push(s)}}function W(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{K.addEventListener("test",()=>{},e),K.removeEventListener("test",()=>{},e)}catch{}return i}();function De(i){return/^[\s\xa0]*$/.test(i)}function Ae(){var i=K.navigator;return i&&(i=i.userAgent)?i:""}function Te(i){return-1!=Ae().indexOf(i)}function Ve(i){return Ve[" "](i),i}Ve[" "]=function(){};var Ke,i,Rt=Te("Opera"),At=Te("Trident")||Te("MSIE"),rt=Te("Edge"),fe=rt||At,he=Te("Gecko")&&!(-1!=Ae().toLowerCase().indexOf("webkit")&&!Te("Edge"))&&!(Te("Trident")||Te("MSIE"))&&!Te("Edge"),Ue=-1!=Ae().toLowerCase().indexOf("webkit")&&!Te("Edge");function Se(){var i=K.document;return i?i.documentMode:void 0}e:{var qe="",ft=(i=Ae(),he?/rv:([^\);]+)(\)|;)/.exec(i):rt?/Edge\/([\d\.]+)/.exec(i):At?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ue?/WebKit\/(\S+)/.exec(i):Rt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ft&&(qe=ft?ft[1]:""),At){var ht=Se();if(null!=ht&&ht>parseFloat(qe)){Ke=String(ht);break e}}Ke=qe}var Kt=K.document&&At&&(Se()||parseInt(Ke,10))||void 0;function Dt(i,e){if(W.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(he){e:{try{Ve(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Tt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Dt.$.h.call(this)}}ot(Dt,W);var Tt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function Ht(i,e,n,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=u,this.key=++Vt,this.fa=this.ia=!1}function on(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function cn(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function Jt(i){const e={};for(const n in i)e[n]=i[n];return e}const Dn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(i,e){let n,s;for(let u=1;u<arguments.length;u++){for(n in s=arguments[u],s)i[n]=s[n];for(let d=0;d<Dn.length;d++)n=Dn[d],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function fr(i){this.src=i,this.g={},this.h=0}function hn(i,e){var n=e.type;if(n in i.g){var d,s=i.g[n],u=be(s,e);(d=0<=u)&&Array.prototype.splice.call(s,u,1),d&&(on(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function xn(i,e,n,s){for(var u=0;u<i.length;++u){var d=i[u];if(!d.fa&&d.listener==e&&d.capture==!!n&&d.la==s)return u}return-1}fr.prototype.add=function(i,e,n,s,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var p=xn(i,e,s,u);return-1<p?(e=i[p],n||(e.ia=!1)):((e=new Ht(e,this.src,d,!!s,u)).ia=n,i.push(e)),e};var Sn="closure_lm_"+(1e6*Math.random()|0),Qn={};function mr(i,e,n,s,u){if(s&&s.once)return Ln(i,e,n,s,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)mr(i,e[d],n,s,u);return null}return n=br(n),i&&i[Ct]?i.O(e,n,ge(s)?!!s.capture:!!s,u):_r(i,e,n,!1,s,u)}function _r(i,e,n,s,u,d){if(!e)throw Error("Invalid event type");var p=ge(u)?!!u.capture:!!u,M=Wn(i);if(M||(i[Sn]=M=new fr(i)),(n=M.add(e,n,s,p,d)).proxy)return n;if(s=function en(){const e=an;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)Le||(u=p),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(cr(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function Ln(i,e,n,s,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Ln(i,e[d],n,s,u);return null}return n=br(n),i&&i[Ct]?i.P(e,n,ge(s)?!!s.capture:!!s,u):_r(i,e,n,!0,s,u)}function xr(i,e,n,s,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)xr(i,e[d],n,s,u);else s=ge(s)?!!s.capture:!!s,n=br(n),i&&i[Ct]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=xn(d=i.g[e],n,s,u))&&(on(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Wn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=xn(e,n,s,u)),(n=-1<i?e[i]:null)&&sn(n))}function sn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Ct])hn(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(cr(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Wn(e))?(hn(n,i),0==n.h&&(n.src=null,e[Sn]=null)):on(i)}}}function cr(i){return i in Qn?Qn[i]:Qn[i]="on"+i}function an(i,e){if(i.fa)i=!0;else{e=new Dt(e,this);var n=i.listener,s=i.la||i.src;i.ia&&sn(i),i=n.call(s,e)}return i}function Wn(i){return(i=i[Sn])instanceof fr?i:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function br(i){return"function"==typeof i?i:(i[kr]||(i[kr]=function(e){return i.handleEvent(e)}),i[kr])}function Gn(){ue.call(this),this.i=new fr(this),this.S=this,this.J=null}function Pn(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new W(e,i);else if(e instanceof W)e.target=e.target||i;else{var u=e;On(e=new W(s,i),u)}if(u=!0,n)for(var d=n.length-1;0<=d;d--){var p=e.g=n[d];u=Nt(p,s,!0,e)&&u}if(u=Nt(p=e.g=i,s,!0,e)&&u,u=Nt(p,s,!1,e)&&u,n)for(d=0;d<n.length;d++)u=Nt(p=e.g=n[d],s,!1,e)&&u}function Nt(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.fa&&p.capture==n){var M=p.listener,L=p.la||p.src;p.ia&&hn(i.i,p),u=!1!==M.call(L,s)&&u}}return u&&!s.defaultPrevented}ot(Gn,ue),Gn.prototype[Ct]=!0,Gn.prototype.removeEventListener=function(i,e,n,s){xr(this,i,e,n,s)},Gn.prototype.N=function(){if(Gn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)on(n[s]);delete i.g[e],i.h--}}this.J=null},Gn.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},Gn.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var ye=K.JSON.stringify;function Ne(){var i=w;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var je=new class ee{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new St,i=>i.reset());class St{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ke(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function J(i){K.setTimeout(()=>{throw i},0)}let $,R=!1,w=new class st{constructor(){this.h=this.g=null}add(e,n){const s=je.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},j=()=>{const i=K.Promise.resolve(void 0);$=()=>{i.then(ce)}};var ce=()=>{for(var i;i=Ne();){try{i.h.call(i.g)}catch(n){J(n)}var e=je;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}R=!1};function tt(i,e){Gn.call(this),this.h=i||1,this.g=e||K,this.j=He(this.qb,this),this.l=Date.now()}function pt(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function wt(i,e,n){if("function"==typeof i)n&&(i=He(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=He(i.handleEvent,i)}return 2147483647<Number(e)?-1:K.setTimeout(i,e||0)}function Pt(i){i.g=wt(()=>{i.g=null,i.i&&(i.i=!1,Pt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ot(tt,Gn),(ne=tt.prototype).ga=!1,ne.T=null,ne.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pn(this,"tick"),this.ga&&(pt(this),this.start()))}},ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ne.N=function(){tt.$.N.call(this),pt(this),delete this.g};class Bt extends ue{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pt(this)}N(){super.N(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(i){ue.call(this),this.h=i,this.g={}}ot(Zt,ue);var nn=[];function Kn(i,e,n,s){Array.isArray(n)||(n&&(nn[0]=n.toString()),n=nn);for(var u=0;u<n.length;u++){var d=mr(e,n[u],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Gr(i){cn(i.g,function(e,n){this.g.hasOwnProperty(n)&&sn(e)},i),i.g={}}function xt(){this.g=!0}function yn(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<u.length;p++)u[p]=""}}}return ye(n)}catch{return e}}(i,n)+(s?" "+s:"")})}Zt.prototype.N=function(){Zt.$.N.call(this),Gr(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xt.prototype.Ea=function(){this.g=!1},xt.prototype.info=function(){};var tr={},Br=null;function yr(){return Br=Br||new Gn}function ci(i){W.call(this,tr.Ta,i)}function Wr(i){const e=yr();Pn(e,new ci(e))}function vi(i,e){W.call(this,tr.STAT_EVENT,i),this.stat=e}function Zn(i){const e=yr();Pn(e,new vi(e,i))}function Ai(i,e){W.call(this,tr.Ua,i),this.size=e}function Rr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){i()},e)}tr.Ta="serverreachability",ot(ci,W),tr.STAT_EVENT="statevent",ot(vi,W),tr.Ua="timingevent",ot(Ai,W);var rr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Er={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yi(){}function Fr(){}yi.prototype.h=null;var Ri,oi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ti(){W.call(this,"d")}function Si(){W.call(this,"c")}function Or(){}function ni(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new Zt(this),this.P=Yi,this.V=new tt(i=fe?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ki}function ki(){this.i=null,this.g="",this.h=!1}ot(Ti,W),ot(Si,W),ot(Or,yi),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Ri=new Or;var Yi=45e3,ve={},ie={};function Qe(i,e,n){i.L=1,i.v=In(Lr(e)),i.s=n,i.S=!0,it(i,null)}function it(i,e){i.G=Date.now(),y(i),i.A=Lr(i.v);var n=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),lr(n.i,"t",s),i.C=0,n=i.l.J,i.h=new ki,i.g=to(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Bt(He(i.Pa,i,i.g),i.O)),Kn(i.U,i.g,"readystatechange",i.nb),e=i.I?Jt(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Wr(),function Et(i,e,n,s,u,d){i.info(function(){if(i.g)if(d)for(var p="",M=d.split("&"),L=0;L<M.length;L++){var X=M[L].split("=");if(1<X.length){var Ee=X[0];X=X[1];var Je=Ee.split("_");p=2<=Je.length&&"type"==Je[1]?p+(Ee+"=")+X+"&":p+(Ee+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+n+"\n"+p})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Ot(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ct(i,e,n){let u,s=!0;for(;!i.J&&i.C<n.length;){if(u=Yt(i,n),u==ie){4==e&&(i.o=4,Zn(14),s=!1),yn(i.j,i.m,null,"[Incomplete Response]");break}if(u==ve){i.o=4,Zn(15),yn(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}yn(i.j,i.m,u,null),Tn(i,u)}Ot(i)&&u!=ie&&u!=ve&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Zn(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),So(e),e.M=!0,Zn(11))):(yn(i.j,i.m,n,"[Invalid Chunked Response]"),at(i),de(i))}function Yt(i,e){var n=i.C,s=e.indexOf("\n",n);return-1==s?ie:(n=Number(e.substring(n,s)),isNaN(n)?ve:(s+=1)+n>e.length?ie:(e=e.slice(s,s+n),i.C=s+n,e))}function y(i){i.Y=Date.now()+i.P,ae(i,i.P)}function ae(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Rr(He(i.lb,i),e)}function O(i){i.B&&(K.clearTimeout(i.B),i.B=null)}function de(i){0==i.l.H||i.J||Io(i.l,i)}function at(i){O(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,pt(i.V),Gr(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Tn(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||dt(n.i,i)))if(!i.K&&dt(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;ao(n),G(n)}po(n),Zn(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Rr(He(n.ib,n),6e3));if(1>=et(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ps(n,11)}else if((i.K||n.g==i)&&ao(n),!De(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let X=u[e];if(n.V=X[0],X=X[1],2==n.H)if("c"==X[0]){n.K=X[1],n.pa=X[2];const Ee=X[3];null!=Ee&&(n.ra=Ee,n.l.info("VER="+n.ra));const Je=X[4];null!=Je&&(n.Ga=Je,n.l.info("SVER="+n.Ga));const gt=X[5];null!=gt&&"number"==typeof gt&&0<gt&&(n.L=s=1.5*gt,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Ft=i.g;if(Ft){const An=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(An){var d=s.i;d.g||-1==An.indexOf("spdy")&&-1==An.indexOf("quic")&&-1==An.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&($t(d,d.h),d.h=null))}if(s.F){const kn=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;kn&&(s.Da=kn,En(s.I,s.F,kn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var p=i;if((s=n).wa=go(s,s.J?s.pa:null,s.Y),p.K){qt(s.i,p);var M=p,L=s.L;L&&M.setTimeout(L),M.B&&(O(M),y(M)),s.g=p}else _i(s);0<n.j.length&&Oe(n)}else"stop"!=X[0]&&"close"!=X[0]||ps(n,7);else 3==n.H&&("stop"==X[0]||"close"==X[0]?"stop"==X[0]?ps(n,7):qs(n):"noop"!=X[0]&&n.h&&n.h.Aa(X),n.A=0)}Wr()}catch{}}function Dr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(le(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Ar(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(le(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function Xn(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(le(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),u=s.length,d=0;d<u;d++)e.call(void 0,s[d],n&&n[d],i)}(ne=ni.prototype).setTimeout=function(i){this.P=i},ne.nb=function(i){i=i.target;const e=this.M;e&&3==Ao(i)?e.l():this.Pa(i)},ne.Pa=function(i){try{if(i==this.g)e:{const Ee=Ao(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ee)&&(3!=Ee||fe||this.g&&(this.h.h||this.g.ja()||Os(this.g)))){this.J||4!=Ee||7==e||Wr(),O(this);var n=this.g.da();this.ca=n;t:if(Ot(this)){var s=Os(this.g);i="";var u=s.length,d=4==Ao(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){at(this),de(this);var p="";break t}this.h.i=new K.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==u-1});s.splice(0,u),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==n,function Gt(i,e,n,s,u,d,p){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.W,Ee,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var M,L=this.g;if((M=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!De(M)){var X=M;break t}}X=null}if(!(n=X)){this.i=!1,this.o=3,Zn(12),at(this),de(this);break e}yn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tn(this,n)}this.S?(ct(this,Ee,p),fe&&this.i&&3==Ee&&(Kn(this.U,this.V,"tick",this.mb),this.V.start())):(yn(this.j,this.m,p,null),Tn(this,p)),4==Ee&&at(this),this.i&&!this.J&&(4==Ee?Io(this.l,this):(this.i=!1,y(this)))}else(function Il(i){const e={};i=(i.g&&2<=Ao(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(De(i[s]))continue;var n=ke(i[s]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const d=e[u]||[];e[u]=d,d.push(n)}!function wn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<p.indexOf("Unknown SID")?(this.o=3,Zn(12)):(this.o=0,Zn(13)),at(this),de(this)}}}catch{}},ne.mb=function(){if(this.g){var i=Ao(this.g),e=this.g.ja();this.C<e.length&&(O(this),ct(this,i,e),this.i&&4!=i&&y(this))}},ne.cancel=function(){this.J=!0,at(this)},ne.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Nn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Wr(),Zn(17)),at(this),this.o=2,de(this)):ae(this,this.Y-i)};var Jn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hr(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof hr){this.h=i.h,si(this,i.j),this.s=i.s,this.g=i.g,fn(this,i.m),this.l=i.l;var e=i.i,n=new Mi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Qt(this,n),this.o=i.o}else i&&(e=String(i).match(Jn))?(this.h=!1,si(this,e[1]||"",!0),this.s=Pr(e[2]||""),this.g=Pr(e[3]||"",!0),fn(this,e[4]),this.l=Pr(e[5]||"",!0),Qt(this,e[6]||"",!0),this.o=Pr(e[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}function Lr(i){return new hr(i)}function si(i,e,n){i.j=n?Pr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function fn(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Qt(i,e,n){e instanceof Mi?(i.i=e,function Re(i,e){e&&!i.j&&(Vr(i),i.i=null,i.g.forEach(function(n,s){var u=s.toLowerCase();s!=u&&(Bi(this,s),lr(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=or(e,Xi)),i.i=new Mi(e,i.h))}function En(i,e,n){i.i.set(e,n)}function In(i){return En(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Pr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function or(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,bn),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function bn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}hr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(or(e,ir,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(or(e,ir,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(or(n,"/"==n.charAt(0)?Ii:Ur,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",or(n,Pi)),i.join("")};var ir=/[#\/\?@]/g,Ur=/[#\?:]/g,Ii=/[#\?]/g,Xi=/[#\?@]/g,Pi=/#/g;function Mi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Vr(i){i.g||(i.g=new Map,i.h=0,i.i&&function qr(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),u=null;if(0<=s){var d=i[n].substring(0,s);u=i[n].substring(s+1)}else d=i[n];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Bi(i,e){Vr(i),e=pe(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function bi(i,e){return Vr(i),e=pe(i,e),i.g.has(e)}function lr(i,e,n){Bi(i,e),0<n.length&&(i.i=null,i.g.set(pe(i,e),_e(n)),i.h+=n.length)}function pe(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function b(i){this.l=i||re,i=K.PerformanceNavigationTiming?0<(i=K.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(K.g&&K.g.Ka&&K.g.Ka()&&K.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ne=Mi.prototype).add=function(i,e){Vr(this),this.i=null,i=pe(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ne.forEach=function(i,e){Vr(this),this.g.forEach(function(n,s){n.forEach(function(u){i.call(e,u,s,this)},this)},this)},ne.ta=function(){Vr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const u=i[s];for(let d=0;d<u.length;d++)n.push(e[s])}return n},ne.Z=function(i){Vr(this);let e=[];if("string"==typeof i)bi(this,i)&&(e=e.concat(this.g.get(pe(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},ne.set=function(i,e){return Vr(this),this.i=null,bi(this,i=pe(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ne.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const d=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var u=d;""!==p[s]&&(u+="="+encodeURIComponent(String(p[s]))),i.push(u)}}return this.i=i.join("&")};var re=10;function Pe(i){return!!i.h||!!i.g&&i.g.size>=i.j}function et(i){return i.h?1:i.g?i.g.size:0}function dt(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function $t(i,e){i.g?i.g.add(e):i.h=e}function qt(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function gn(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return _e(i.i)}b.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var zn=class{stringify(i){return K.JSON.stringify(i,void 0)}parse(i){return K.JSON.parse(i,void 0)}};function ar(){this.g=new zn}function jn(i,e,n){const s=n||"";try{Dr(i,function(u,d){let p=u;ge(u)&&(p=ye(u)),e.push(s+d+"="+encodeURIComponent(p))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function ai(i,e,n,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function Yr(i){this.l=i.ec||null,this.j=i.ob||!1}function pr(i,e){Gn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Xr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(Yr,yi),Yr.prototype.g=function(){return new pr(this.l,this.j)},Yr.prototype.i=function(i){return function(){return i}}({}),ot(pr,Gn);var Xr=0;function mi(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Hi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Hr(i)}function Hr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ne=pr.prototype).open=function(i,e){if(this.readyState!=Xr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Hr(this)},ne.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||K).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hi(this)),this.readyState=Xr},ne.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mi(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ne.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Hi(this):Hr(this),3==this.readyState&&mi(this)}},ne.Za=function(i){this.g&&(this.response=this.responseText=i,Hi(this))},ne.Ya=function(i){this.g&&(this.response=i,Hi(this))},ne.ka=function(){this.g&&Hi(this)},ne.setRequestHeader=function(i,e){this.v.append(i,e)},ne.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ne.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var zi=K.JSON.parse;function Ir(i){Gn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Jr,this.L=this.M=!1}ot(Ir,Gn);var Jr="",ts=/^https?$/i,Ji=["POST","PUT"];function eo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ts(i),zo(i)}function Ts(i){i.F||(i.F=!0,Pn(i,"complete"),Pn(i,"error"))}function so(i){if(i.h&&typeof Me<"u"&&(!i.C[1]||4!=Ao(i)||2!=i.da()))if(i.v&&4==Ao(i))wt(i.La,0,i);else if(Pn(i,"readystatechange"),4==Ao(i)){i.h=!1;try{const p=i.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===p){var u=String(i.I).match(Jn)[1]||null;!u&&K.self&&K.self.location&&(u=K.self.location.protocol.slice(0,-1)),s=!ts.test(u?u.toLowerCase():"")}n=s}if(n)Pn(i,"complete"),Pn(i,"success");else{i.m=6;try{var d=2<Ao(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",Ts(i)}}finally{zo(i)}}}function zo(i,e){if(i.g){Ws(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Pn(i,"ready");try{n.onreadystatechange=s}catch{}}}function Ws(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(K.clearTimeout(i.A),i.A=null)}function Ao(i){return i.g?i.g.readyState:0}function Os(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Jr:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Cl(i){let e="";return cn(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function wl(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Cl(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):En(i,e,n))}function pi(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Ka(i){this.Ga=0,this.j=[],this.l=new xt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pi("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pi("baseRetryDelayMs",5e3,i),this.hb=pi("retryDelaySeedMs",1e4,i),this.eb=pi("forwardChannelMaxRetries",2,i),this.xa=pi("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new b(i&&i.concurrentRequestLimit),this.Ja=new ar,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qs(i){if(V(i),3==i.H){var e=i.W++,n=Lr(i.I);if(En(n,"SID",i.K),En(n,"RID",e),En(n,"TYPE","terminate"),ln(i,n),(e=new ni(i,i.l,e)).L=2,e.v=In(Lr(n)),n=!1,K.navigator&&K.navigator.sendBeacon)try{n=K.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=to(e.l,null),e.g.ha(e.v)),e.G=Date.now(),y(e)}Gi(i)}function G(i){i.g&&(So(i),i.g.cancel(),i.g=null)}function V(i){G(i),i.u&&(K.clearTimeout(i.u),i.u=null),ao(i),i.i.cancel(),i.m&&("number"==typeof i.m&&K.clearTimeout(i.m),i.m=null)}function Oe(i){if(!Pe(i.i)&&!i.m){i.m=!0;var e=i.Na;$||j(),R||($(),R=!0),w.add(e,i),i.C=0}}function Ye(i,e){var n;n=e?e.m:i.W++;const s=Lr(i.I);En(s,"SID",i.K),En(s,"RID",n),En(s,"AID",i.V),ln(i,s),i.o&&i.s&&wl(s,i.o,i.s),n=new ni(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=er(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),$t(i.i,n),Qe(n,s,e)}function ln(i,e){i.na&&cn(i.na,function(n,s){En(e,s,n)}),i.h&&Dr({},function(n,s){En(e,s,n)})}function er(i,e,n){n=Math.min(i.j.length,n);var s=i.h?He(i.h.Va,i.h,i):null;e:{var u=i.j;let d=-1;for(;;){const p=["count="+n];-1==d?0<n?(d=u[0].g,p.push("ofs="+d)):d=0:p.push("ofs="+d);let M=!0;for(let L=0;L<n;L++){let X=u[L].g;const Ee=u[L].map;if(X-=d,0>X)d=Math.max(0,u[L].g-100),M=!1;else try{jn(Ee,p,"req"+X+"_")}catch{s&&s(Ee)}}if(M){s=p.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function _i(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;$||j(),R||($(),R=!0),w.add(e,i),i.A=0}}function po(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Rr(He(i.Ma,i),bs(i,i.A)),i.A++,0))}function So(i){null!=i.B&&(K.clearTimeout(i.B),i.B=null)}function $o(i){i.g=new ni(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Lr(i.wa);En(e,"RID","rpc"),En(e,"SID",i.K),En(e,"AID",i.V),En(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&En(e,"TO",i.qa),En(e,"TYPE","xmlhttp"),ln(i,e),i.o&&i.s&&wl(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=In(Lr(e)),n.s=null,n.S=!0,it(n,i)}function ao(i){null!=i.v&&(K.clearTimeout(i.v),i.v=null)}function Io(i,e){var n=null;if(i.g==e){ao(i),So(i),i.g=null;var s=2}else{if(!dt(i.i,e))return;n=e.F,qt(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Pn(s=yr(),new Ai(s,n)),Oe(i)}else _i(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==s&&function q(i,e){return!(et(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Rr(He(i.Na,i,e),bs(i,i.C)),i.C++,0)))}(i,e)||2==s&&po(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:ps(i,5);break;case 4:ps(i,10);break;case 3:ps(i,6);break;default:ps(i,2)}}function bs(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function ps(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=He(i.pb,i);n||(n=new hr("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||si(n,"https"),In(n)),function jr(i,e){const n=new xt;if(K.Image){const s=new Image;s.onload=Ze(ai,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ze(ai,n,s,"TestLoadImage: error",!1,e),s.onabort=Ze(ai,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ze(ai,n,s,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else Zn(2);i.H=0,i.h&&i.h.za(e),Gi(i),V(i)}function Gi(i){if(i.H=0,i.ma=[],i.h){const e=gn(i.i);(0!=e.length||0!=i.j.length)&&(te(i.ma,e),te(i.ma,i.j),i.i.i.length=0,_e(i.j),i.j.length=0),i.h.ya()}}function go(i,e,n){var s=n instanceof hr?Lr(n):new hr(n);if(""!=s.g)e&&(s.g=e+"."+s.g),fn(s,s.m);else{var u=K.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new hr(null);s&&si(d,s),e&&(d.g=e),u&&fn(d,u),n&&(d.l=n),s=d}return e=i.Da,(n=i.F)&&e&&En(s,n,e),En(s,"VER",i.ra),ln(i,s),s}function to(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ir(n&&i.Ha&&!i.va?new Yr({ob:!0}):i.va)).Oa(i.J),e}function _a(){}function As(){if(At&&!(10<=Number(Kt)))throw Error("Environmental error: no available transport.")}function lo(i,e){Gn.call(this),this.g=new Ka(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!De(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!De(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Go(this)}function gs(i){Ti.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Za(){Si.call(this),this.status=1}function Go(i){this.g=i}function Co(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Xa(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)s[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var d=i.g[3],p=(e=i.g[0])+(d^(n=i.g[1])&((u=i.g[2])^d))+s[0]+3614090360&4294967295;p=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=(n=(u=(d=(e=n+(p<<7&4294967295|p>>>25))+((p=d+(u^e&(n^u))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=u+(n^d&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^u&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^n&(u^d))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=d+(u^e&(n^u))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=u+(n^d&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^u&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^n&(u^d))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=d+(u^e&(n^u))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=u+(n^d&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^u&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^n&(u^d))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=d+(u^e&(n^u))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=u+(n^d&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^u&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^d&(n^u))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^u&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=u+(e^n&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(u^d))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(u^d&(n^u))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^u&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=u+(e^n&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(u^d))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(u^d&(n^u))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^u&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=u+(e^n&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(u^d))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(u^d&(n^u))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^u&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=u+(e^n&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(u^d))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(n^u^d)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^u)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=u+(d^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=n+(u^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^u^d)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^u)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=u+(d^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=n+(u^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^u^d)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^u)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=u+(d^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=n+(u^d^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^u^d)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^u)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=u+(d^e^n)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=n+(u^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(u^(n|~d))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=u+(e^(d|~n))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=n+(d^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(u^(n|~d))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=u+(e^(d|~n))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=n+(d^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(u^(n|~d))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=u+(e^(d|~n))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=n+(d^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((d=(e=n+((p=e+(u^(n|~d))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((u=d+((p=u+(e^(d|~n))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(p<<21&4294967295|p>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+d&4294967295}function li(i,e){this.h=e;for(var n=[],s=!0,u=i.length-1;0<=u;u--){var d=0|i[u];s&&d==e||(n[u]=d,s=!1)}this.g=n}(ne=Ir.prototype).Oa=function(i){this.M=i},ne.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ri.g(),this.C=function Ei(i){return i.h||(i.h=i.i())}(this.u?this.u:Ri),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void eo(this,d)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)n.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())n.set(d,s.get(d))}s=Array.from(n.keys()).find(d=>"content-type"==d.toLowerCase()),u=K.FormData&&i instanceof K.FormData,!(0<=be(Ji,e))||s||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of n)this.g.setRequestHeader(d,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ws(this),0<this.B&&((this.L=function bo(i){return At&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=wt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){eo(this,d)}},ne.ua=function(){typeof Me<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pn(this,"timeout"),this.abort(8))},ne.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Pn(this,"complete"),Pn(this,"abort"),zo(this))},ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zo(this,!0)),Ir.$.N.call(this)},ne.La=function(){this.s||(this.G||this.v||this.l?so(this):this.kb())},ne.kb=function(){so(this)},ne.isActive=function(){return!!this.g},ne.da=function(){try{return 2<Ao(this)?this.g.status:-1}catch{return-1}},ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ne.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),zi(e)}},ne.Ia=function(){return this.m},ne.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ne=Ka.prototype).ra=8,ne.H=1,ne.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new ni(this,this.l,i);let d=this.s;if(this.U&&(d?(d=Jt(d),On(d,this.U)):d=this.U),null!==this.o||this.O||(u.I=d,d=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=er(this,u,e),En(n=Lr(this.I),"RID",i),En(n,"CVER",22),this.F&&En(n,"X-HTTP-Session-Id",this.F),ln(this,n),d&&(this.O?e="headers="+encodeURIComponent(String(Cl(d)))+"&"+e:this.o&&wl(n,this.o,d)),$t(this.i,u),this.bb&&En(n,"TYPE","init"),this.P?(En(n,"$req",e),En(n,"SID","null"),u.aa=!0,Qe(u,n,null)):Qe(u,n,e),this.H=2}}else 3==this.H&&(i?Ye(this,i):0==this.j.length||Pe(this.i)||Ye(this))},ne.Ma=function(){if(this.u=null,$o(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Rr(He(this.jb,this),i)}},ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zn(10),G(this),$o(this))},ne.ib=function(){null!=this.v&&(this.v=null,G(this),po(this),Zn(19))},ne.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Zn(2)):(this.l.info("Failed to ping google.com"),Zn(1))},ne.isActive=function(){return!!this.h&&this.h.isActive(this)},(ne=_a.prototype).Ba=function(){},ne.Aa=function(){},ne.za=function(){},ne.ya=function(){},ne.isActive=function(){return!0},ne.Va=function(){},As.prototype.g=function(i,e){return new lo(i,e)},ot(lo,Gn),lo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Zn(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=go(i,null,i.Y),Oe(i)},lo.prototype.close=function(){qs(this.g)},lo.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=ye(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Oe(e)},lo.prototype.N=function(){this.g.h=null,delete this.j,qs(this.g),delete this.g,lo.$.N.call(this)},ot(gs,Ti),ot(Za,Si),ot(Go,_a),Go.prototype.Ba=function(){Pn(this.g,"a")},Go.prototype.Aa=function(i){Pn(this.g,new gs(i))},Go.prototype.za=function(i){Pn(this.g,new Za)},Go.prototype.ya=function(){Pn(this.g,"b")},ot(Co,function Qa(){this.blockSize=-1}),Co.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Co.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,u=this.h,d=0;d<e;){if(0==u)for(;d<=n;)Xa(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(s[u++]=i.charCodeAt(d++),u==this.blockSize){Xa(this,s),u=0;break}}else for(;d<e;)if(s[u++]=i[d++],u==this.blockSize){Xa(this,s),u=0;break}}this.h=u,this.i+=e},Co.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var Dl={};function Wo(i){return-128<=i&&128>i?function _t(i,e){var n=Dl;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new li([0|e],0>e?-1:0)}):new li([0|i],0>i?-1:0)}function wo(i){if(isNaN(i)||!isFinite(i))return Ss;if(0>i)return uo(wo(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=va;return new li(e,0)}var va=4294967296,Ss=Wo(0),ru=Wo(1),Gu=Wo(16777216);function Bo(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function qo(i){return-1==i.h}function uo(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new li(n,~i.h).add(ru)}function Rs(i,e){return i.add(uo(e))}function Ys(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Ns(i,e){this.g=i,this.h=e}function Ks(i,e){if(Bo(e))throw Error("division by zero");if(Bo(i))return new Ns(Ss,Ss);if(qo(i))return e=Ks(uo(i),e),new Ns(uo(e.g),uo(e.h));if(qo(e))return e=Ks(i,uo(e)),new Ns(uo(e.g),e.h);if(30<i.g.length){if(qo(i)||qo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ru,s=e;0>=s.X(i);)n=Tl(n),s=Tl(s);var u=_s(n,1),d=_s(s,1);for(s=_s(s,2),n=_s(n,2);!Bo(s);){var p=d.add(s);0>=p.X(i)&&(u=u.add(n),d=p),s=_s(s,1),n=_s(n,1)}return e=Rs(i,u.R(e)),new Ns(u,e)}for(u=Ss;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),p=(d=wo(n)).R(e);qo(p)||0<p.X(i);)p=(d=wo(n-=s)).R(e);Bo(d)&&(d=ru),u=u.add(d),i=Rs(i,p)}return new Ns(u,i)}function Tl(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new li(n,i.h)}function _s(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,u=[],d=0;d<s;d++)u[d]=0<e?i.D(d+n)>>>e|i.D(d+n+1)<<32-e:i.D(d+n);return new li(u,i.h)}(ne=li.prototype).ea=function(){if(qo(this))return-uo(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:va+s)*e,e*=va}return i},ne.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Bo(this))return"0";if(qo(this))return"-"+uo(this).toString(i);for(var e=wo(Math.pow(i,6)),n=this,s="";;){var u=Ks(n,e).g,d=((0<(n=Rs(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Bo(n=u))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},ne.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ne.X=function(i){return qo(i=Rs(this,i))?-1:Bo(i)?0:1},ne.abs=function(){return qo(this)?uo(this):this},ne.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,u=0;u<=e;u++){var d=s+(65535&this.D(u))+(65535&i.D(u)),p=(d>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);s=p>>>16,n[u]=(p&=65535)<<16|(d&=65535)}return new li(n,-2147483648&n[n.length-1]?-1:0)},ne.R=function(i){if(Bo(this)||Bo(i))return Ss;if(qo(this))return qo(i)?uo(this).R(uo(i)):uo(uo(this).R(i));if(qo(i))return uo(this.R(uo(i)));if(0>this.X(Gu)&&0>i.X(Gu))return wo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<i.g.length;u++){var d=this.D(s)>>>16,p=65535&this.D(s),M=i.D(u)>>>16,L=65535&i.D(u);n[2*s+2*u]+=p*L,Ys(n,2*s+2*u),n[2*s+2*u+1]+=d*L,Ys(n,2*s+2*u+1),n[2*s+2*u+1]+=p*M,Ys(n,2*s+2*u+1),n[2*s+2*u+2]+=d*M,Ys(n,2*s+2*u+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new li(n,0)},ne.gb=function(i){return Ks(this,i).h},ne.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new li(n,this.h&i.h)},ne.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new li(n,this.h|i.h)},ne.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new li(n,this.h^i.h)},As.prototype.createWebChannel=As.prototype.g,lo.prototype.send=lo.prototype.u,lo.prototype.open=lo.prototype.m,lo.prototype.close=lo.prototype.close,rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Er.COMPLETE="complete",Fr.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",Gn.prototype.listen=Gn.prototype.O,Ir.prototype.listenOnce=Ir.prototype.P,Ir.prototype.getLastError=Ir.prototype.Sa,Ir.prototype.getLastErrorCode=Ir.prototype.Ia,Ir.prototype.getStatus=Ir.prototype.da,Ir.prototype.getResponseJson=Ir.prototype.Wa,Ir.prototype.getResponseText=Ir.prototype.ja,Ir.prototype.send=Ir.prototype.ha,Ir.prototype.setWithCredentials=Ir.prototype.Oa,Co.prototype.digest=Co.prototype.l,Co.prototype.reset=Co.prototype.reset,Co.prototype.update=Co.prototype.j,li.prototype.add=li.prototype.add,li.prototype.multiply=li.prototype.R,li.prototype.modulo=li.prototype.gb,li.prototype.compare=li.prototype.X,li.prototype.toNumber=li.prototype.ea,li.prototype.toString=li.prototype.toString,li.prototype.getBits=li.prototype.D,li.fromNumber=wo,li.fromString=function ms(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return uo(ms(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=wo(Math.pow(e,8)),s=Ss,u=0;u<i.length;u+=8){var d=Math.min(8,i.length-u),p=parseInt(i.substring(u,u+d),e);8>d?(d=wo(Math.pow(e,d)),s=s.R(d).add(wo(p))):s=(s=s.R(n)).add(wo(p))}return s};var bl=Q.createWebChannelTransport=function(){return new As},A=Q.getStatEventTarget=function(){return yr()},H=Q.ErrorCode=rr,Xe=Q.EventType=Er,U=Q.Event=tr,Fe=Q.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lt=Q.FetchXmlHttpFactory=Yr,zt=Q.WebChannel=Fr,_n=Q.XhrIo=Ir,Mr=Q.Md5=Co,Sr=Q.Integer=li;const Kr="@firebase/firestore";class Hn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");let ri="10.5.2";const Zr=new F.Yd("@firebase/firestore");function Ci(){return Zr.logLevel}function ns(i){Zr.setLogLevel(i)}function tn(i,...e){if(Zr.logLevel<=F.in.DEBUG){const n=e.map(vs);Zr.debug(`Firestore (${ri}): ${i}`,...n)}}function di(i,...e){if(Zr.logLevel<=F.in.ERROR){const n=e.map(vs);Zr.error(`Firestore (${ri}): ${i}`,...n)}}function wi(i,...e){if(Zr.logLevel<=F.in.WARN){const n=e.map(vs);Zr.warn(`Firestore (${ri}): ${i}`,...n)}}function vs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Mn(i="Unexpected state"){const e=`FIRESTORE (${ri}) INTERNAL ASSERTION FAILED: `+i;throw di(e),new Error(e)}function Bn(i,e){i||Mn()}function Wu(i,e){i||Mn()}function Xt(i,e){return i}const Ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dn extends Y.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class jc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hn.UNAUTHENTICATED))}shutdown(){}}class ya{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ro{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let u=this.i;const d=X=>this.i!==u?(u=this.i,n(X)):Promise.resolve();let p=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new ii,e.enqueueRetryable(()=>d(this.currentUser))};const M=()=>{const X=p;e.enqueueRetryable((0,a.Z)(function*(){yield X.promise,yield d(s.currentUser)}))},L=X=>{tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(X=>L(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?L(X):(tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new ii)}},0),M()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bn("string"==typeof s.accessToken),new jc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bn(null===e||"string"==typeof e),new Hn(e)}}class Ea{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iu{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Ea(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Al{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ps{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=d=>{null!=d.error&&tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.R;return this.R=d.token,tn("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const u=d=>{tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?u(d):tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bn("string"==typeof n.token),this.R=n.token,new Al(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zc(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class rs{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=zc(40);for(let d=0;d<u.length;++d)s.length<20&&u[d]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[d]%62))}return s}}function Cr(i,e){return i<e?-1:i>e?1:0}function ks(i,e,n){return i.length===e.length&&i.every((s,u)=>n(s,e[u]))}function ou(i){return i+"\0"}class Un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new dn(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dn(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new dn(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dn(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Un(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cr(this.nanoseconds,e.nanoseconds):Cr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yn(e)}static min(){return new Yn(new Un(0,0))}static max(){return new Yn(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ia{constructor(e,n,s){void 0===n?n=0:n>e.length&&Mn(),void 0===s?s=e.length-n:s>e.length-n&&Mn(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===Ia.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let u=0;u<s;u++){const d=e.get(u),p=n.get(u);if(d<p)return-1;if(d>p)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ei extends Ia{construct(e,n,s){return new ei(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new dn(Ut.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(u=>u.length>0))}return new ei(n)}static emptyPath(){return new ei([])}}const Gc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends Ia{construct(e,n,s){return new Fi(e,n,s)}static isValidIdentifier(e){return Gc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fi(["__name__"])}static fromServerFormat(e){const n=[];let s="",u=0;const d=()=>{if(0===s.length)throw new dn(Ut.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let p=!1;for(;u<e.length;){const M=e[u];if("\\"===M){if(u+1===e.length)throw new dn(Ut.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new dn(Ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,u+=2}else"`"===M?(p=!p,u++):"."!==M||p?(s+=M,u++):(d(),u++)}if(d(),p)throw new dn(Ut.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fi(n)}static emptyPath(){return new Fi([])}}class Vn{constructor(e){this.path=e}static fromPath(e){return new Vn(ei.fromString(e))}static fromName(e){return new Vn(ei.fromString(e).popFirst(5))}static empty(){return new Vn(ei.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ei.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ei.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vn(new ei(e.slice()))}}class Uo{constructor(e,n,s,u){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=u}}function qu(i){return i.fields.find(e=>2===e.kind)}function Fs(i){return i.fields.filter(e=>2!==e.kind)}Uo.UNKNOWN_ID=-1;class Ca{constructor(e,n){this.fieldPath=e,this.kind=n}}class rn{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new rn(0,Do.min())}}function ur(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=Yn.fromTimestamp(1e9===s?new Un(n+1,0):new Un(n,s));return new Do(u,Vn.empty(),e)}function su(i){return new Do(i.readTime,i.key,-1)}class Do{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Do(Yn.min(),Vn.empty(),-1)}static max(){return new Do(Yn.max(),Vn.empty(),-1)}}function no(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Vn.comparator(i.documentKey,e.documentKey),0!==n?n:Cr(i.largestBatchId,e.largestBatchId))}const el="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mo(i){return Da.apply(this,arguments)}function Da(){return Da=(0,a.Z)(function*(i){if(i.code!==Ut.FAILED_PRECONDITION||i.message!==el)throw i;tn("LocalStore","Unexpectedly lost primary lease")}),Da.apply(this,arguments)}class Mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Mn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Mt((s,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,u)},this.catchCallback=d=>{this.wrapFailure(n,d).next(s,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Mt?n:Mt.resolve(n)}catch(n){return Mt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Mt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Mt.reject(n)}static resolve(e){return new Mt((n,s)=>{n(e)})}static reject(e){return new Mt((n,s)=>{s(e)})}static waitFor(e){return new Mt((n,s)=>{let u=0,d=0,p=!1;e.forEach(M=>{++u,M.next(()=>{++d,p&&d===u&&n()},L=>s(L))}),p=!0,d===u&&n()})}static or(e){let n=Mt.resolve(!1);for(const s of e)n=n.next(u=>u?Mt.resolve(u):s());return n}static forEach(e,n){const s=[];return e.forEach((u,d)=>{s.push(n.call(this,u,d))}),this.waitFor(s)}static mapArray(e,n){return new Mt((s,u)=>{const d=e.length,p=new Array(d);let M=0;for(let L=0;L<d;L++){const X=L;n(e[X]).next(Ee=>{p[X]=Ee,++M,M===d&&s(p)},Ee=>u(Ee))}})}static doWhile(e,n){return new Mt((s,u)=>{const d=()=>{!0===e()?n().next(()=>{d()},u):s()};d()})}}class Ls{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ii,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ki(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=C(s.target.error);this.V.reject(new Ki(e,u))}}static open(e,n,s,u){try{return new Ls(n,e.transaction(u,s))}catch(d){throw new Ki(n,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(tn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new au(n)}}class is{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===is.S((0,Y.z$)())&&di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return tn("SimpleDb","Removing database:",e),Yo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Y.hl)())return!1;if(is.C())return!0;const e=(0,Y.z$)(),n=is.S(e),s=0<n&&n<10,u=is.v(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,a.Z)(function*(){return n.db||(tn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,u)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=p=>{s(p.target.result)},d.onblocked=()=>{u(new Ki(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const M=p.target.error;u("VersionError"===M.name?new dn(Ut.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new dn(Ut.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new Ki(e,M))},d.onupgradeneeded=p=>{tn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',p.oldVersion),n.p.N(p.target.result,d.transaction,p.oldVersion,n.version).next(()=>{tn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,u){var d=this;return(0,a.Z)(function*(){const p="readonly"===n;let M=0;for(;;){++M;try{d.db=yield d.O(e);const L=Ls.open(d.db,e,p?"readonly":"readwrite",s),X=u(L).next(Ee=>(L.g(),Ee)).catch(Ee=>(L.abort(Ee),Mt.reject(Ee))).toPromise();return X.catch(()=>{}),yield L.m,X}catch(L){const X=L,Ee="FirebaseError"!==X.name&&M<3;if(tn("SimpleDb","Transaction failed with error:",X.message,"Retrying:",Ee),d.close(),!Ee)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tl{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Yo(this.k.delete())}}class Ki extends dn{constructor(e,n){super(Ut.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Po(i){return"IndexedDbTransactionError"===i.name}class au{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(tn("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(tn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Yo(s)}add(e){return tn("SimpleDb","ADD",this.store.name,e,e),Yo(this.store.add(e))}get(e){return Yo(this.store.get(e)).next(n=>(void 0===n&&(n=null),tn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return tn("SimpleDb","DELETE",this.store.name,e),Yo(this.store.delete(e))}count(){return tn("SimpleDb","COUNT",this.store.name),Yo(this.store.count())}W(e,n){const s=this.options(e,n);if(s.index||"function"!=typeof this.store.getAll){const u=this.cursor(s),d=[];return this.G(u,(p,M)=>{d.push(M)}).next(()=>d)}{const u=this.store.getAll(s.range);return new Mt((d,p)=>{u.onerror=M=>{p(M.target.error)},u.onsuccess=M=>{d(M.target.result)}})}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new Mt((u,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{u(p.target.result)}})}H(e,n){tn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const u=this.cursor(s);return this.G(u,(d,p,M)=>M.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const u=this.cursor(s);return this.G(u,n)}Z(e){const n=this.cursor({});return new Mt((s,u)=>{n.onerror=d=>{const p=C(d.target.error);u(p)},n.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(M=>{M?p.continue():s()}):s()}})}G(e,n){const s=[];return new Mt((u,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const M=p.target.result;if(!M)return void u();const L=new tl(M),X=n(M.primaryKey,M.value,L);if(X instanceof Mt){const Ee=X.catch(Je=>(L.done(),Mt.reject(Je)));s.push(Ee)}L.isDone?u():null===L.$?M.continue():M.continue(L.$)}}).next(()=>Mt.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Yo(i){return new Mt((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const u=C(s.target.error);n(u)}})}let os=!1;function C(i){const e=is.S((0,Y.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new dn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return os||(os=!0,setTimeout(()=>{throw s},0)),s}}return i}class P{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;tn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,a.Z)(function*(){n.task=null;try{tn("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(s){Po(s)?tn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield mo(s)}yield n.ee(6e4)}))}}class k{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,a.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let u=n,d=!0;return Mt.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return tn("IndexBackiller",`Processing collection: ${p}`),this.re(e,p,u).next(M=>{u-=M,s.add(p)});d=!1})).next(()=>n-u)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(u=>this.localStore.localDocuments.getNextDocuments(e,n,u,s).next(d=>{const p=d.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ie(u,d)).next(M=>(tn("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,n,M))).next(()=>p.size)}))}ie(e,n){let s=e;return n.changes.forEach((u,d)=>{const p=su(d);no(p,s)>0&&(s=p)}),new Do(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let T=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=u=>this.se(u),this.oe=u=>s.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function B(i){return null==i}function me(i){return 0===i&&1/i==-1/0}function ze(i){return"number"==typeof i&&Number.isInteger(i)&&!me(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function vt(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=kt(e)),e=Cn(i.get(n),e);return kt(e)}function Cn(i,e){let n=e;const s=i.length;for(let u=0;u<s;u++){const d=i.charAt(u);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function kt(i){return i+"\x01\x01"}function Rn(i){const e=i.length;if(Bn(e>=2),2===e)return Bn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ei.emptyPath();const n=e-2,s=[];let u="";for(let d=0;d<e;){const p=i.indexOf("\x01",d);switch((p<0||p>n)&&Mn(),i.charAt(p+1)){case"\x01":const M=i.substring(d,p);let L;0===u.length?L=M:(u+=M,L=u,u=""),s.push(L);break;case"\x10":u+=i.substring(d,p),u+="\0";break;case"\x11":u+=i.substring(d,p+1);break;default:Mn()}d=p+2}return new ei(s)}const dr=["userId","batchId"];function hi(i,e){return[i,vt(e)]}function co(i,e,n){return[i,vt(e),n]}const fi={},ro=["prefixPath","collectionGroup","readTime","documentId"],ys=["prefixPath","collectionGroup","documentId"],nl=["collectionGroup","readTime","prefixPath","documentId"],io=["canonicalId","targetId"],ss=["targetId","path"],Li=["path","targetId"],Sl=["collectionId","parent"],oh=["indexId","uid"],Wf=["uid","sequenceNumber"],qf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sh=["indexId","uid","orderedDocumentKey"],Yu=["userId","collectionPath","documentId"],Ku=["userId","collectionPath","largestBatchId"],Vs=["userId","collectionGroup","largestBatchId"],ah=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rl=[...ah,"documentOverlays"],lu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rl=lu,Pl=[...rl,"indexConfiguration","indexState","indexEntries"];class Ml extends wa{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function _o(i,e){const n=Xt(i);return is.M(n.ae,e)}function Zu(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function as(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Es(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class xi{constructor(e,n){this.comparator=e,this.root=n||vo.EMPTY}insert(e,n){return new xi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vo.BLACK,null,null))}remove(e){return new xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return n+s.left.size;u<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?s(e.key,n):1,n&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vo{constructor(e,n,s,u,d){this.key=e,this.value=n,this.color=null!=s?s:vo.RED,this.left=null!=u?u:vo.EMPTY,this.right=null!=d?d:vo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,u,d){return new vo(null!=e?e:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let u=this;const d=s(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,n,s),null):0===d?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return vo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return vo.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mn();const e=this.left.check();if(e!==this.right.check())throw Mn();return e+(this.isRed()?0:1)}}vo.EMPTY=null,vo.RED=!0,vo.BLACK=!1,vo.EMPTY=new class{constructor(){this.size=0}get key(){throw Mn()}get value(){throw Mn()}get color(){throw Mn()}get left(){throw Mn()}get right(){throw Mn()}copy(e,n,s,u,d){return this}insert(e,n,s){return new vo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vi{constructor(e){this.comparator=e,this.data=new xi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qu(this.data.getIterator())}getIteratorFrom(e){return new Qu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Vi)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=s.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vi(this.comparator);return n.data=e,n}}class Qu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function il(i){return i.hasNext()?i.getNext():void 0}class ls{constructor(e){this.fields=e,e.sort(Fi.comparator)}static empty(){return new ls([])}unionWith(e){let n=new Vi(Fi.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ls(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class Yf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function uu(){return typeof atob<"u"}class Zi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Yf("Invalid base64 string: "+d):d}}(e);return new Zi(n)}static fromUint8Array(e){const n=function(u){let d="";for(let p=0;p<u.length;++p)d+=String.fromCharCode(u[p]);return d}(e);return new Zi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let u=0;u<n.length;u++)s[u]=n.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zi.EMPTY_BYTE_STRING=new Zi("");const qc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(i){if(Bn(!!i),"string"==typeof i){let e=0;const n=qc.exec(i);if(Bn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ui(i.seconds),nanos:Ui(i.nanos)}}function Ui(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ko(i){return"string"==typeof i?Zi.fromBase64String(i):Zi.fromUint8Array(i)}function Yc(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zs(i){const e=i.mapValue.fields.__previous_value__;return Yc(e)?Zs(e):e}function xl(i){const e=Is(i.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}class Kf{constructor(e,n,s,u,d,p,M,L,X){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=u,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=M,this.longPollingOptions=L,this.useFetchStreams=X}}class yo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}const $s={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qs={nullValue:"NULL_VALUE"};function Bs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yc(i)?4:Ra(i)?9007199254740991:10:Mn()}function Cs(i,e){if(i===e)return!0;const n=Bs(i);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return xl(i).isEqual(xl(e));case 3:return function(u,d){if("string"==typeof u.timestampValue&&"string"==typeof d.timestampValue&&u.timestampValue.length===d.timestampValue.length)return u.timestampValue===d.timestampValue;const p=Is(u.timestampValue),M=Is(d.timestampValue);return p.seconds===M.seconds&&p.nanos===M.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,Ko(i.bytesValue).isEqual(Ko(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,d){return Ui(u.geoPointValue.latitude)===Ui(d.geoPointValue.latitude)&&Ui(u.geoPointValue.longitude)===Ui(d.geoPointValue.longitude)}(i,e);case 2:return function(u,d){if("integerValue"in u&&"integerValue"in d)return Ui(u.integerValue)===Ui(d.integerValue);if("doubleValue"in u&&"doubleValue"in d){const p=Ui(u.doubleValue),M=Ui(d.doubleValue);return p===M?me(p)===me(M):isNaN(p)&&isNaN(M)}return!1}(i,e);case 9:return ks(i.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(u,d){const p=u.mapValue.fields||{},M=d.mapValue.fields||{};if(Zu(p)!==Zu(M))return!1;for(const L in p)if(p.hasOwnProperty(L)&&(void 0===M[L]||!Cs(p[L],M[L])))return!1;return!0}(i,e);default:return Mn()}var d}function Xs(i,e){return void 0!==(i.values||[]).find(n=>Cs(n,e))}function Ms(i,e){if(i===e)return 0;const n=Bs(i),s=Bs(e);if(n!==s)return Cr(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cr(i.booleanValue,e.booleanValue);case 2:return function(d,p){const M=Ui(d.integerValue||d.doubleValue),L=Ui(p.integerValue||p.doubleValue);return M<L?-1:M>L?1:M===L?0:isNaN(M)?isNaN(L)?0:-1:1}(i,e);case 3:return lh(i.timestampValue,e.timestampValue);case 4:return lh(xl(i),xl(e));case 5:return Cr(i.stringValue,e.stringValue);case 6:return function(d,p){const M=Ko(d),L=Ko(p);return M.compareTo(L)}(i.bytesValue,e.bytesValue);case 7:return function(d,p){const M=d.split("/"),L=p.split("/");for(let X=0;X<M.length&&X<L.length;X++){const Ee=Cr(M[X],L[X]);if(0!==Ee)return Ee}return Cr(M.length,L.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,p){const M=Cr(Ui(d.latitude),Ui(p.latitude));return 0!==M?M:Cr(Ui(d.longitude),Ui(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,p){const M=d.values||[],L=p.values||[];for(let X=0;X<M.length&&X<L.length;++X){const Ee=Ms(M[X],L[X]);if(Ee)return Ee}return Cr(M.length,L.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,p){if(d===$s.mapValue&&p===$s.mapValue)return 0;if(d===$s.mapValue)return 1;if(p===$s.mapValue)return-1;const M=d.fields||{},L=Object.keys(M),X=p.fields||{},Ee=Object.keys(X);L.sort(),Ee.sort();for(let Je=0;Je<L.length&&Je<Ee.length;++Je){const gt=Cr(L[Je],Ee[Je]);if(0!==gt)return gt;const Ft=Ms(M[L[Je]],X[Ee[Je]]);if(0!==Ft)return Ft}return Cr(L.length,Ee.length)}(i.mapValue,e.mapValue);default:throw Mn()}}function lh(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Cr(i,e);const n=Is(i),s=Is(e),u=Cr(n.seconds,s.seconds);return 0!==u?u:Cr(n.nanos,s.nanos)}function ol(i){return Ol(i)}function Ol(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Is(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ko(i.bytesValue).toBase64():"referenceValue"in i?Vn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",u=!0;for(const d of n.values||[])u?u=!1:s+=",",s+=Ol(d);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let u="{",d=!0;for(const p of s)d?d=!1:u+=",",u+=`${p}:${Ol(n.fields[p])}`;return u+"}"}(i.mapValue):Mn()}function Ta(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function du(i){return!!i&&"integerValue"in i}function ba(i){return!!i&&"arrayValue"in i}function Aa(i){return!!i&&"nullValue"in i}function Xu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hu(i){return!!i&&"mapValue"in i}function Sa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return as(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Sa(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sa(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ra(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Kc(i){return"nullValue"in i?Qs:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ta(yo.empty(),Vn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Mn()}function No(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ta(yo.empty(),Vn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?$s:Mn()}function Ju(i,e){const n=Ms(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Zc(i,e){const n=Ms(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ho{constructor(e){this.value=e}static empty(){return new ho({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sa(n)}setAll(e){let n=Fi.emptyPath(),s={},u=[];e.forEach((p,M)=>{if(!n.isImmediateParentOf(M)){const L=this.getFieldsMap(n);this.applyChanges(L,s,u),s={},u=[],n=M.popLast()}p?s[M.lastSegment()]=Sa(p):u.push(M.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,s,u)}delete(e){const n=this.field(e.popLast());hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=n.mapValue.fields[e.get(s)];hu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,s){as(n,(u,d)=>e[u]=d);for(const u of s)delete e[u]}clone(){return new ho(Sa(this.value))}}function Qc(i){const e=[];return as(i.fields,(n,s)=>{const u=new Fi([n]);if(hu(s)){const d=Qc(s.mapValue).fields;if(0===d.length)e.push(u);else for(const p of d)e.push(u.child(p))}else e.push(u)}),new ls(e)}class $i{constructor(e,n,s,u,d,p,M){this.key=e,this.documentType=n,this.version=s,this.readTime=u,this.createTime=d,this.data=p,this.documentState=M}static newInvalidDocument(e){return new $i(e,0,Yn.min(),Yn.min(),Yn.min(),ho.empty(),0)}static newFoundDocument(e,n,s,u){return new $i(e,1,n,Yn.min(),s,u,0)}static newNoDocument(e,n){return new $i(e,2,n,Yn.min(),Yn.min(),ho.empty(),0)}static newUnknownDocument(e,n){return new $i(e,3,n,Yn.min(),Yn.min(),ho.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Yn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ho.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ho.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Us{constructor(e,n){this.position=e,this.inclusive=n}}function Pa(i,e,n){let s=0;for(let u=0;u<i.position.length;u++){const d=e[u],p=i.position[u];if(s=d.field.isKeyField()?Vn.comparator(Vn.fromName(p.referenceValue),n.key):Ms(p,n.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function Js(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Cs(i.position[n],e.position[n]))return!1;return!0}class js{constructor(e,n="asc"){this.field=e,this.dir=n}}function uh(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ec{}class zr extends ec{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new Xf(e,n,s):"array-contains"===n?new al(e,s):"in"===n?new fh(e,s):"not-in"===n?new ws(e,s):"array-contains-any"===n?new kl(e,s):new zr(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Jf(e,s):new Eo(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ms(n,this.value)):null!==n&&Bs(this.value)===Bs(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends ec{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Oi(e,n)}matches(e){return Nl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Nl(i){return"and"===i.op}function Xc(i){return"or"===i.op}function ch(i){return tc(i)&&Nl(i)}function tc(i){for(const e of i.filters)if(e instanceof Oi)return!1;return!0}function dh(i){if(i instanceof zr)return i.field.canonicalString()+i.op.toString()+ol(i.value);if(ch(i))return i.filters.map(e=>dh(e)).join(",");{const e=i.filters.map(n=>dh(n)).join(",");return`${i.op}(${e})`}}function Zf(i,e){return i instanceof zr?(s=i,(u=e)instanceof zr&&s.op===u.op&&s.field.isEqual(u.field)&&Cs(s.value,u.value)):i instanceof Oi?function(s,u){return u instanceof Oi&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((d,p,M)=>d&&Zf(p,u.filters[M]),!0)}(i,e):void Mn();var s,u}function Qf(i,e){const n=i.filters.concat(e);return Oi.create(n,i.op)}function sl(i){return i instanceof zr?`${(n=i).field.canonicalString()} ${n.op} ${ol(n.value)}`:i instanceof Oi?function(n){return n.op.toString()+" {"+n.getFilters().map(sl).join(" ,")+"}"}(i):"Filter";var n}class Xf extends zr{constructor(e,n,s){super(e,n,s),this.key=Vn.fromName(s.referenceValue)}matches(e){const n=Vn.comparator(e.key,this.key);return this.matchesComparison(n)}}class Jf extends zr{constructor(e,n){super(e,"in",n),this.keys=hh(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Eo extends zr{constructor(e,n){super(e,"not-in",n),this.keys=hh(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hh(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Vn.fromName(s.referenceValue))}class al extends zr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ba(n)&&Xs(n.arrayValue,this.value)}}class fh extends zr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Xs(this.value.arrayValue,n)}}class ws extends zr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Xs(this.value.arrayValue,n)}}class kl extends zr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ba(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xs(this.value.arrayValue,s))}}class ph{constructor(e,n=null,s=[],u=[],d=null,p=null,M=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=u,this.limit=d,this.startAt=p,this.endAt=M,this.ce=null}}function Fl(i,e=null,n=[],s=[],u=null,d=null,p=null){return new ph(i,e,n,s,u,d,p)}function Ds(i){const e=Xt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>dh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),B(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ol(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ol(s)).join(",")),e.ce=n}return e.ce}function fu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!uh(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Zf(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Js(i.startAt,e.startAt)&&Js(i.endAt,e.endAt)}function Jc(i){return Vn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function nc(i,e){return i.filters.filter(n=>n instanceof zr&&n.field.isEqual(e))}function ep(i,e,n){let s=Qs,u=!0;for(const d of nc(i,e)){let p=Qs,M=!0;switch(d.op){case"<":case"<=":p=Kc(d.value);break;case"==":case"in":case">=":p=d.value;break;case">":p=d.value,M=!1;break;case"!=":case"not-in":p=Qs}Ju({value:s,inclusive:u},{value:p,inclusive:M})<0&&(s=p,u=M)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const p=n.position[d];Ju({value:s,inclusive:u},{value:p,inclusive:n.inclusive})<0&&(s=p,u=n.inclusive);break}return{value:s,inclusive:u}}function Zo(i,e,n){let s=$s,u=!0;for(const d of nc(i,e)){let p=$s,M=!0;switch(d.op){case">=":case">":p=No(d.value),M=!1;break;case"==":case"in":case"<=":p=d.value;break;case"<":p=d.value,M=!1;break;case"!=":case"not-in":p=$s}Zc({value:s,inclusive:u},{value:p,inclusive:M})>0&&(s=p,u=M)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const p=n.position[d];Zc({value:s,inclusive:u},{value:p,inclusive:n.inclusive})>0&&(s=p,u=n.inclusive);break}return{value:s,inclusive:u}}class us{constructor(e,n=null,s=[],u=[],d=null,p="F",M=null,L=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=u,this.limit=d,this.limitType=p,this.startAt=M,this.endAt=L,this.le=null,this.he=null,this.Pe=null}}function ea(i,e,n,s,u,d,p,M){return new us(i,e,n,s,u,d,p,M)}function pu(i){return new us(i)}function gu(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ed(i){return null!==i.collectionGroup}function ll(i){const e=Xt(i);if(null===e.le){e.le=[];const n=new Set;for(const d of e.explicitOrderBy)e.le.push(d),n.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let M=new Vi(Fi.comparator);return p.filters.forEach(L=>{L.getFlattenedFilters().forEach(X=>{X.isInequality()&&(M=M.add(X.field))})}),M})(e).forEach(d=>{n.has(d.canonicalString())||d.isKeyField()||e.le.push(new js(d,s))}),n.has(Fi.keyField().canonicalString())||e.le.push(new js(Fi.keyField(),s))}return e.le}function jo(i){const e=Xt(i);return e.he||(e.he=function rc(i,e){if("F"===i.limitType)return Fl(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new js(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new Us(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Us(i.startAt.position,i.startAt.inclusive):null;return Fl(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,ll(i))),e.he}function td(i,e){const n=i.filters.concat([e]);return new us(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function nd(i,e,n){return new us(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ta(i,e){return fu(jo(i),jo(e))&&i.limitType===e.limitType}function Ll(i){return`${Ds(jo(i))}|lt:${i.limitType}`}function na(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(u=>sl(u)).join(", ")}]`),B(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(u=>{return`${(p=u).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(u=>ol(u)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(u=>ol(u)).join(",")),`Target(${s})`}(jo(i))}; limitType=${i.limitType})`}function ra(i,e){return e.isFoundDocument()&&function(s,u){const d=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):Vn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(i,e)&&function(s,u){for(const d of ll(s))if(!d.field.isKeyField()&&null===u.data.field(d.field))return!1;return!0}(i,e)&&function(s,u){for(const d of s.filters)if(!d.matches(u))return!1;return!0}(i,e)&&(u=e,!((s=i).startAt&&!function(p,M,L){const X=Pa(p,M,L);return p.inclusive?X<=0:X<0}(s.startAt,ll(s),u)||s.endAt&&!function(p,M,L){const X=Pa(p,M,L);return p.inclusive?X>=0:X>0}(s.endAt,ll(s),u)));var s,u}function rd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function mu(i){return(e,n)=>{let s=!1;for(const u of ll(i)){const d=tp(u,e,n);if(0!==d)return d;s=s||u.field.isKeyField()}return 0}}function tp(i,e,n){const s=i.field.isKeyField()?Vn.comparator(e.key,n.key):function(d,p,M){const L=p.data.field(d),X=M.data.field(d);return null!==L&&null!==X?Ms(L,X):Mn()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Mn()}}class Hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[u,d]of s)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,n]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[n]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,s)=>{for(const[u,d]of s)e(u,d)})}isEmpty(){return Es(this.inner)}size(){return this.innerSize}}const id=new xi(Vn.comparator);function Mo(){return id}const ic=new xi(Vn.comparator);function _u(...i){let e=ic;for(const n of i)e=e.insert(n.key,n);return e}function gh(i){let e=ic;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function E(){return g()}function f(){return g()}function g(){return new Hs(i=>i.toString(),(i,e)=>i.isEqual(e))}const S=new xi(Vn.comparator),oe=new Vi(Vn.comparator);function Ie(...i){let e=oe;for(const n of i)e=e.add(n);return e}const yt=new Vi(Cr);function jt(){return yt}function mn(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:me(e)?"-0":e}}function qn(i){return{integerValue:""+i}}function sr(i,e){return ze(e)?qn(e):mn(i,e)}class Qr{constructor(){this._=void 0}}function Qo(i,e,n){return i instanceof Ma?function(u,d){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return d&&Yc(d)&&(d=Zs(d)),d&&(p.fields.__previous_value__=d),{mapValue:p}}(n,e):i instanceof xa?od(i,e):i instanceof Oa?Vl(i,e):function(u,d){const p=oc(u,d),M=mh(p)+mh(u.Ie);return du(p)&&du(u.Ie)?qn(M):mn(u.serializer,M)}(i,e)}function ia(i,e,n){return i instanceof xa?od(i,e):i instanceof Oa?Vl(i,e):n}function oc(i,e){return i instanceof $l?du(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class Ma extends Qr{}class xa extends Qr{constructor(e){super(),this.elements=e}}function od(i,e){const n=Bl(e);for(const s of i.elements)n.some(u=>Cs(u,s))||n.push(s);return{arrayValue:{values:n}}}class Oa extends Qr{constructor(e){super(),this.elements=e}}function Vl(i,e){let n=Bl(e);for(const s of i.elements)n=n.filter(u=>!Cs(u,s));return{arrayValue:{values:n}}}class $l extends Qr{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function mh(i){return Ui(i.integerValue||i.doubleValue)}function Bl(i){return ba(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class vu{constructor(e,n){this.field=e,this.transform=n}}class _h{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function np(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class vh{}function sd(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ul(i.key,Qi.none()):new oa(i.key,i.data,Qi.none());{const n=i.data,s=ho.empty();let u=new Vi(Fi.comparator);for(let d of e.fields)if(!u.has(d)){let p=n.field(d);null===p&&d.length>1&&(d=d.popLast(),p=n.field(d)),null===p?s.delete(d):s.set(d,p),u=u.add(d)}return new Na(i.key,s,new ls(u.toArray()),Qi.none())}}function yh(i,e,n){i instanceof oa?function(u,d,p){const M=u.value.clone(),L=ad(u.fieldTransforms,d,p.transformResults);M.setAll(L),d.convertToFoundDocument(p.version,M).setHasCommittedMutations()}(i,e,n):i instanceof Na?function(u,d,p){if(!np(u.precondition,d))return void d.convertToUnknownDocument(p.version);const M=ad(u.fieldTransforms,d,p.transformResults),L=d.data;L.setAll(ip(u)),L.setAll(M),d.convertToFoundDocument(p.version,L).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function sc(i,e,n,s){return i instanceof oa?function(d,p,M,L){if(!np(d.precondition,p))return M;const X=d.value.clone(),Ee=ld(d.fieldTransforms,L,p);return X.setAll(Ee),p.convertToFoundDocument(p.version,X).setHasLocalMutations(),null}(i,e,n,s):i instanceof Na?function(d,p,M,L){if(!np(d.precondition,p))return M;const X=ld(d.fieldTransforms,L,p),Ee=p.data;return Ee.setAll(ip(d)),Ee.setAll(X),p.convertToFoundDocument(p.version,Ee).setHasLocalMutations(),null===M?null:M.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(Je=>Je.field))}(i,e,n,s):(M=n,np(i.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):M);var p,M}function dm(i,e){let n=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),d=oc(s.transform,u||null);null!=d&&(null===n&&(n=ho.empty()),n.set(s.field,d))}return n||null}function rp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===u||s&&u&&ks(s,u,(d,p)=>function cm(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(s=i.transform)instanceof xa&&u instanceof xa||s instanceof Oa&&u instanceof Oa?ks(s.elements,u.elements,Cs):s instanceof $l&&u instanceof $l?Cs(s.Ie,u.Ie):s instanceof Ma&&u instanceof Ma);var s,u}(d,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,u}class oa extends vh{constructor(e,n,s,u=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Na extends vh{constructor(e,n,s,u,d=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function ip(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function ad(i,e,n){const s=new Map;Bn(i.length===n.length);for(let u=0;u<n.length;u++){const d=i[u],p=d.transform,M=e.data.field(d.field);s.set(d.field,ia(p,M,n[u]))}return s}function ld(i,e,n){const s=new Map;for(const u of i){const d=u.transform,p=n.data.field(u.field);s.set(u.field,Qo(d,p,e))}return s}class ul extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class op extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sp{constructor(e,n,s,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&yh(d,e,s[u])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=sc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=sc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=f();return this.mutations.forEach(u=>{const d=e.get(u.key),p=d.overlayedDocument;let M=this.applyToLocalView(p,d.mutatedFields);M=n.has(u.key)?null:M;const L=sd(p,M);null!==L&&s.set(u.key,L),p.isValidDocument()||p.convertToNoDocument(Yn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,s)=>rp(n,s))&&ks(this.baseMutations,e.baseMutations,(n,s)=>rp(n,s))}}class ap{constructor(e,n,s,u){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=u}static from(e,n,s){Bn(e.mutations.length===s.length);let u=S;const d=e.mutations;for(let p=0;p<d.length;p++)u=u.insert(d[p].key,s[p].version);return new ap(e,n,s,u)}}class Eh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pv{constructor(e,n){this.count=e,this.unchangedNames=n}}var To,gi;function up(i){switch(i){default:return Mn();case Ut.CANCELLED:case Ut.UNKNOWN:case Ut.DEADLINE_EXCEEDED:case Ut.RESOURCE_EXHAUSTED:case Ut.INTERNAL:case Ut.UNAVAILABLE:case Ut.UNAUTHENTICATED:return!1;case Ut.INVALID_ARGUMENT:case Ut.NOT_FOUND:case Ut.ALREADY_EXISTS:case Ut.PERMISSION_DENIED:case Ut.FAILED_PRECONDITION:case Ut.ABORTED:case Ut.OUT_OF_RANGE:case Ut.UNIMPLEMENTED:case Ut.DATA_LOSS:return!0}}function hm(i){if(void 0===i)return di("GRPC error has no .code"),Ut.UNKNOWN;switch(i){case To.OK:return Ut.OK;case To.CANCELLED:return Ut.CANCELLED;case To.UNKNOWN:return Ut.UNKNOWN;case To.DEADLINE_EXCEEDED:return Ut.DEADLINE_EXCEEDED;case To.RESOURCE_EXHAUSTED:return Ut.RESOURCE_EXHAUSTED;case To.INTERNAL:return Ut.INTERNAL;case To.UNAVAILABLE:return Ut.UNAVAILABLE;case To.UNAUTHENTICATED:return Ut.UNAUTHENTICATED;case To.INVALID_ARGUMENT:return Ut.INVALID_ARGUMENT;case To.NOT_FOUND:return Ut.NOT_FOUND;case To.ALREADY_EXISTS:return Ut.ALREADY_EXISTS;case To.PERMISSION_DENIED:return Ut.PERMISSION_DENIED;case To.FAILED_PRECONDITION:return Ut.FAILED_PRECONDITION;case To.ABORTED:return Ut.ABORTED;case To.OUT_OF_RANGE:return Ut.OUT_OF_RANGE;case To.UNIMPLEMENTED:return Ut.UNIMPLEMENTED;case To.DATA_LOSS:return Ut.DATA_LOSS;default:return Mn()}}(gi=To||(To={}))[gi.OK=0]="OK",gi[gi.CANCELLED=1]="CANCELLED",gi[gi.UNKNOWN=2]="UNKNOWN",gi[gi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gi[gi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gi[gi.NOT_FOUND=5]="NOT_FOUND",gi[gi.ALREADY_EXISTS=6]="ALREADY_EXISTS",gi[gi.PERMISSION_DENIED=7]="PERMISSION_DENIED",gi[gi.UNAUTHENTICATED=16]="UNAUTHENTICATED",gi[gi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gi[gi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gi[gi.ABORTED=10]="ABORTED",gi[gi.OUT_OF_RANGE=11]="OUT_OF_RANGE",gi[gi.UNIMPLEMENTED=12]="UNIMPLEMENTED",gi[gi.INTERNAL=13]="INTERNAL",gi[gi.UNAVAILABLE=14]="UNAVAILABLE",gi[gi.DATA_LOSS=15]="DATA_LOSS";function cs(){return new TextEncoder}const cp=new Sr([4294967295,4294967295],0);function dp(i){const e=cs().encode(i),n=new Mr;return n.update(e),new Uint8Array(n.digest())}function Ch(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Sr([n,s],0),new Sr([u,d],0)]}class ko{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new cl(`Invalid padding: ${n}`);if(s<0)throw new cl(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new cl(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new cl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Sr.fromNumber(this.Te)}de(e,n,s){let u=e.add(n.multiply(Sr.fromNumber(s)));return 1===u.compare(cp)&&(u=new Sr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=dp(e),[s,u]=Ch(n);for(let d=0;d<this.hashCount;d++){const p=this.de(s,u,d);if(!this.Ae(p))return!1}return!0}static create(e,n,s){const u=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),p=new ko(d,u,n);return s.forEach(M=>p.insert(M)),p}insert(e){if(0===this.Te)return;const n=dp(e),[s,u]=Ch(n);for(let d=0;d<this.hashCount;d++){const p=this.de(s,u,d);this.Re(p)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ac{constructor(e,n,s,u,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const u=new Map;return u.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ac(Yn.min(),u,new xi(Cr),Mo(),Ie())}}class lc{constructor(e,n,s,u,d){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new lc(s,n,Ie(),Ie(),Ie())}}class wh{constructor(e,n,s,u){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=u}}class hp{constructor(e,n){this.targetId=e,this.fe=n}}class fm{constructor(e,n,s=Zi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=u}}class fp{constructor(){this.ge=0,this.pe=pm(),this.ye=Zi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ie(),n=Ie(),s=Ie();return this.pe.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:s=s.add(u);break;default:Mn()}}),new lc(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=pm()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class gv{constructor(e){this.Le=e,this.ke=new Map,this.qe=Mo(),this.Qe=pp(),this.Ke=new xi(Cr)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Mn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,s=e.fe.count,u=this.Ye(n);if(u){const d=u.target;if(Jc(d))if(0===s){const p=new Vn(d.path);this.We(n,p,$i.newNoDocument(p,Yn.min()))}else Bn(1===s);else{const p=this.Ze(n);if(p!==s){const M=this.Xe(e),L=M?this.et(M,e,p):1;0!==L&&(this.He(n),this.Ke=this.Ke.insert(n,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:d=0}=n;let p,M;try{p=Ko(s).toUint8Array()}catch(L){if(L instanceof Yf)return wi("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{M=new ko(p,u,d)}catch(L){return wi(L instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===M.Te?null:M}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let u=0;return s.forEach(d=>{const p=this.Le.nt(),M=`projects/${p.projectId}/databases/${p.database}/documents/${d.path.canonicalString()}`;e.mightContain(M)||(this.We(n,d,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((d,p)=>{const M=this.Ye(p);if(M){if(d.current&&Jc(M.target)){const L=new Vn(M.target.path);null!==this.qe.get(L)||this.st(p,L)||this.We(p,L,$i.newNoDocument(L,e))}d.De&&(n.set(p,d.ve()),d.Fe())}});let s=Ie();this.Qe.forEach((d,p)=>{let M=!0;p.forEachWhile(L=>{const X=this.Ye(L);return!X||"TargetPurposeLimboResolution"===X.purpose||(M=!1,!1)}),M&&(s=s.add(d))}),this.qe.forEach((d,p)=>p.setReadTime(e));const u=new ac(e,n,this.Ke,this.qe,s);return this.qe=Mo(),this.Qe=pp(),this.Ke=new xi(Cr),u}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new fp,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Vi(Cr),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||tn("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new fp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function pp(){return new xi(Vn.comparator)}function pm(){return new xi(Vn.comparator)}const mv={asc:"ASCENDING",desc:"DESCENDING"},gp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mp={and:"AND",or:"OR"};class _v{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yu(i,e){return i.useProto3Json||B(e)?e:{value:e}}function uc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function mm(i,e){return uc(i,e.toTimestamp())}function fo(i){return Bn(!!i),Yn.fromTimestamp(function(n){const s=Is(n);return new Un(s.seconds,s.nanos)}(i))}function Dh(i,e){return(s=i,new ei(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function Eu(i){const e=ei.fromString(i);return Bn(Ip(e)),e}function Ul(i,e){return Dh(i.databaseId,e.path)}function sa(i,e){const n=Eu(e);if(n.get(1)!==i.databaseId.projectId)throw new dn(Ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new dn(Ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Vn(_m(n))}function ud(i,e){return Dh(i.databaseId,e)}function cd(i){const e=Eu(i);return 4===e.length?ei.emptyPath():_m(e)}function dd(i){return new ei(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _m(i){return Bn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function vm(i,e,n){return{name:Ul(i,e),fields:n.value.mapValue.fields}}function ym(i,e,n){const s=sa(i,e.name),u=fo(e.updateTime),d=e.createTime?fo(e.createTime):Yn.min(),p=new ho({mapValue:{fields:e.fields}}),M=$i.newFoundDocument(s,u,d,p);return n&&M.setHasCommittedMutations(),n?M.setHasCommittedMutations():M}function cc(i,e){let n;if(e instanceof oa)n={update:vm(i,e.key,e.value)};else if(e instanceof ul)n={delete:Ul(i,e.key)};else if(e instanceof Na)n={update:vm(i,e.key,e.data),updateMask:Ev(e.fieldMask)};else{if(!(e instanceof op))return Mn();n={verify:Ul(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(d,p){const M=p.transform;if(M instanceof Ma)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(M instanceof xa)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:M.elements}};if(M instanceof Oa)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:M.elements}};if(M instanceof $l)return{fieldPath:p.field.canonicalString(),increment:M.Ie};throw Mn()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:mm(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Mn()),n;var d}function dc(i,e){const n=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Qi.updateTime(fo(d.updateTime)):void 0!==d.exists?Qi.exists(d.exists):Qi.none():Qi.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(p,M){let L=null;"setToServerValue"in M?(Bn("REQUEST_TIME"===M.setToServerValue),L=new Ma):"appendMissingElements"in M?L=new xa(M.appendMissingElements.values||[]):"removeAllFromArray"in M?L=new Oa(M.removeAllFromArray.values||[]):"increment"in M?L=new $l(p,M.increment):Mn();const X=Fi.fromServerFormat(M.fieldPath);return new vu(X,L)}(i,u)):[];var d;if(e.update){const u=sa(i,e.update.name),d=new ho({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new ls((e.updateMask.fieldPaths||[]).map(Ee=>Fi.fromServerFormat(Ee)));return new Na(u,d,p,n,s)}return new oa(u,d,n,s)}if(e.delete){const u=sa(i,e.delete);return new ul(u,n)}if(e.verify){const u=sa(i,e.verify);return new op(u,n)}return Mn()}function Th(i,e){return{documents:[ud(i,e.path)]}}function vp(i,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=ud(i,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ud(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(L){if(0!==L.length)return fd(Oi.create(L,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(L){if(0!==L.length)return L.map(X=>{return{field:jl((Je=X).field),direction:Iu(Je.dir)};var Je})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=yu(i,e.limit);return null!==p&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt={before:(L=e.startAt).inclusive,values:L.position}),e.endAt&&(n.structuredQuery.endAt=function(L){return{before:!L.inclusive,values:L.position}}(e.endAt)),n;var L}function Em(i){let e=cd(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let u=null;if(s>0){Bn(1===s);const Ee=n.from[0];Ee.allDescendants?u=Ee.collectionId:e=e.child(Ee.collectionId)}let d=[];n.where&&(d=function(Je){const gt=Ep(Je);return gt instanceof Oi&&ch(gt)?gt.getFilters():[gt]}(n.where));let p=[];n.orderBy&&(p=n.orderBy.map(gt=>{return new js(hd((An=gt).field),function(Fn){switch(Fn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(An.direction));var An}));let M=null;n.limit&&(M=function(Je){let gt;return gt="object"==typeof Je?Je.value:Je,B(gt)?null:gt}(n.limit));let L=null;var Je;n.startAt&&(L=new Us((Je=n.startAt).values||[],!!Je.before));let X=null;return n.endAt&&(X=function(Je){return new Us(Je.values||[],!Je.before)}(n.endAt)),ea(e,u,p,d,M,"F",L,X)}function Ep(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=hd(n.unaryFilter.field);return zr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=hd(n.unaryFilter.field);return zr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=hd(n.unaryFilter.field);return zr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=hd(n.unaryFilter.field);return zr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return Mn()}}(i):void 0!==i.fieldFilter?zr.create(hd((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mn()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Oi.create(n.compositeFilter.filters.map(s=>Ep(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Mn()}}(n.compositeFilter.op))}(i):Mn();var n}function Iu(i){return mv[i]}function Im(i){return gp[i]}function Cm(i){return mp[i]}function jl(i){return{fieldPath:i.canonicalString()}}function hd(i){return Fi.fromServerFormat(i.fieldPath)}function fd(i){return i instanceof zr?function(n){if("=="===n.op){if(Xu(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NAN"}};if(Aa(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Xu(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NAN"}};if(Aa(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(n.field),op:Im(n.op),value:n.value}}}(i):i instanceof Oi?function(n){const s=n.getFilters().map(u=>fd(u));return 1===s.length?s[0]:{compositeFilter:{op:Cm(n.op),filters:s}}}(i):Mn()}function Ev(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ip(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class ka{constructor(e,n,s,u,d=Yn.min(),p=Yn.min(),M=Zi.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=M,this.expectedCount=L}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cp{constructor(e){this.ut=e}}function Dp(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Cu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ul(d=i.ut,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:uc(d,p.version.toTimestamp()),createTime:uc(d,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:aa(e.version)};else{if(!e.isUnknownDocument())return Mn();s.unknownDocument={path:n.path.toArray(),version:aa(e.version)}}var d,p;return s}function Cu(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function aa(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hl(i){const e=new Un(i.seconds,i.nanoseconds);return Yn.fromTimestamp(e)}function dl(i,e){const n=(e.baseMutations||[]).map(d=>dc(i.ut,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>dc(i.ut,d)),u=Un.fromMillis(e.localWriteTimeMs);return new sp(e.batchId,u,n,s)}function zl(i){const e=Hl(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Hl(i.lastLimboFreeSnapshotVersion):Yn.min();let s;return s=void 0!==i.query.documents?(Bn(1===(d=i.query).documents.length),jo(pu(cd(d.documents[0])))):function(d){return jo(Em(d))}(i.query),new ka(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,Zi.fromBase64String(i.resumeToken));var d}function Tp(i,e){const n=aa(e.snapshotVersion),s=aa(e.lastLimboFreeSnapshotVersion);let u;u=Jc(e.target)?Th(i.ut,e.target):vp(i.ut,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ds(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function pd(i){const e=Em({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?nd(e,e.limit,"L"):e}function wu(i,e){return new Eh(e.largestBatchId,dc(i.ut,e.overlayMutation))}function wm(i,e){const n=e.path.lastSegment();return[i,vt(e.path.popLast()),n]}function bp(i,e,n,s){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:aa(s.readTime),documentKey:vt(s.documentKey.path),largestBatchId:s.largestBatchId}}class Iv{getBundleMetadata(e,n){return Dm(e).get(n).next(s=>{if(s)return{id:(d=s).bundleId,createTime:Hl(d.createTime),version:d.version};var d})}saveBundleMetadata(e,n){return Dm(e).put({bundleId:(u=n).id,createTime:aa(fo(u.createTime)),version:u.version});var u}getNamedQuery(e,n){return Tm(e).get(n).next(s=>{if(s)return{name:(d=s).name,query:pd(d.bundledQuery),readTime:Hl(d.readTime)};var d})}saveNamedQuery(e,n){return Tm(e).put({name:(u=n).name,readTime:aa(fo(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Dm(i){return _o(i,"bundles")}function Tm(i){return _o(i,"namedQueries")}class gd{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new gd(e,n.uid||"")}getOverlay(e,n){return hc(e).get(wm(this.userId,n)).next(s=>s?wu(this.serializer,s):null)}getOverlays(e,n){const s=E();return Mt.forEach(n,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,n,s){const u=[];return s.forEach((d,p)=>{const M=new Eh(n,p);u.push(this.lt(e,M))}),Mt.waitFor(u)}removeOverlaysForBatchId(e,n,s){const u=new Set;n.forEach(p=>u.add(vt(p.getCollectionPath())));const d=[];return u.forEach(p=>{const M=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);d.push(hc(e).H("collectionPathOverlayIndex",M))}),Mt.waitFor(d)}getOverlaysForCollection(e,n,s){const u=E(),d=vt(n),p=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return hc(e).W("collectionPathOverlayIndex",p).next(M=>{for(const L of M){const X=wu(this.serializer,L);u.set(X.getKey(),X)}return u})}getOverlaysForCollectionGroup(e,n,s,u){const d=E();let p;const M=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return hc(e).Y({index:"collectionGroupOverlayIndex",range:M},(L,X,Ee)=>{const Je=wu(this.serializer,X);d.size()<u||Je.largestBatchId===p?(d.set(Je.getKey(),Je),p=Je.largestBatchId):Ee.done()}).next(()=>d)}lt(e,n){return hc(e).put(function(u,d,p){const[M,L,X]=wm(d,p.mutation.key);return{userId:d,collectionPath:L,documentId:X,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:cc(u.ut,p.mutation)}}(this.serializer,this.userId,n))}}function hc(i){return _o(i,"documentOverlays")}class Fa{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ui(e.integerValue));else if("doubleValue"in e){const s=Ui(e.doubleValue);isNaN(s)?this.Tt(n,13):(this.Tt(n,15),me(s)?n.Et(0):n.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(n,20),"string"==typeof s?n.dt(s):(n.dt(`${s.seconds||""}`),n.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ko(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(n,45),n.Et(s.latitude||0),n.Et(s.longitude||0)}else"mapValue"in e?Ra(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Mn()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const s=e.fields||{};this.Tt(n,55);for(const u of Object.keys(s))this.At(u,n),this.Pt(s[u],n)}yt(e,n){const s=e.values||[];this.Tt(n,50);for(const u of s)this.Pt(u,n)}ft(e,n){this.Tt(n,37),Vn.fromName(e).path.forEach(s=>{this.Tt(n,60),this.wt(s,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function Ap(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Du(i){const e=64-function(s){let u=0;for(let d=0;d<8;++d){const p=Ap(255&s[d]);if(u+=p,8!==p)break}return u}(i);return Math.ceil(e/8)}Fa.St=new Fa;class Cv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Dt(s.value),s=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ft(s.value),s=n.next();this.Mt()}xt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const u=n.codePointAt(0);this.Dt(240|u>>>18),this.Dt(128|63&u>>>12),this.Dt(128|63&u>>>6),this.Dt(128|63&u)}}this.Ct()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=n.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Nt(e){const n=this.Bt(e),s=Du(n);this.Lt(1+s),this.buffer[this.position++]=255&s;for(let u=n.length-s;u<n.length;++u)this.buffer[this.position++]=255&n[u]}kt(e){const n=this.Bt(e),s=Du(n);this.Lt(1+s),this.buffer[this.position++]=~(255&s);for(let u=n.length-s;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(d){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,d,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let u=1;u<n.length;++u)n[u]^=s?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class wv{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class k0{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class md{constructor(){this.Wt=new Cv,this.Gt=new wv(this.Wt),this.zt=new k0(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class hl{constructor(e,n,s,u){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=u}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new hl(this.indexId,this.documentKey,this.arrayValue,s)}}function Gl(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Tu(i.arrayValue,e.arrayValue),0!==n?n:(n=Tu(i.directionalValue,e.directionalValue),0!==n?n:Vn.comparator(i.documentKey,e.documentKey)))}function Tu(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class _d{constructor(e){this.Jt=new Vi((n,s)=>Fi.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(Bn(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=qu(e);if(void 0!==n&&!this.tn(n))return!1;const s=Fs(e);let u=new Set,d=0,p=0;for(;d<s.length&&this.tn(s[d]);++d)u=u.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Jt.size>0){const M=this.Jt.getIterator().getNext();if(!u.has(M.field.canonicalString())){const L=s[d];if(!this.nn(M,L)||!this.rn(this.Yt[p++],L))return!1}++d}for(;d<s.length;++d)if(p>=this.Yt.length||!this.rn(this.Yt[p++],s[d]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Vi(Fi.comparator);const n=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new Ca(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new Ca(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new Ca(s.field,"asc"===s.dir?0:1)));return new Uo(Uo.UNKNOWN_ID,this.collectionId,n,rn.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function bh(i){var e,n;if(Bn(i instanceof zr||i instanceof Oi),i instanceof zr){if(i instanceof fh){const u=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(d=>zr.create(i.field,"==",d)))||[];return Oi.create(u,"or")}return i}const s=i.filters.map(u=>bh(u));return Oi.create(s,i.op)}function bm(i){if(0===i.getFilters().length)return[];const e=Sp(bh(i));return Bn(Wl(e)),Ah(e)||Sh(e)?[e]:e.getFilters()}function Ah(i){return i instanceof zr}function Sh(i){return i instanceof Oi&&ch(i)}function Wl(i){return Ah(i)||Sh(i)||function(n){if(n instanceof Oi&&Xc(n)){for(const s of n.getFilters())if(!Ah(s)&&!Sh(s))return!1;return!0}return!1}(i)}function Sp(i){if(Bn(i instanceof zr||i instanceof Oi),i instanceof zr)return i;if(1===i.filters.length)return Sp(i.filters[0]);const e=i.filters.map(s=>Sp(s));let n=Oi.create(e,i.op);return n=Rh(n),Wl(n)?n:(Bn(n instanceof Oi),Bn(Nl(n)),Bn(n.filters.length>1),n.filters.reduce((s,u)=>Rp(s,u)))}function Rp(i,e){let n;return Bn(i instanceof zr||i instanceof Oi),Bn(e instanceof zr||e instanceof Oi),n=i instanceof zr?e instanceof zr?Oi.create([i,e],"and"):Am(i,e):e instanceof zr?Am(e,i):function(u,d){if(Bn(u.filters.length>0&&d.filters.length>0),Nl(u)&&Nl(d))return Qf(u,d.getFilters());const p=Xc(u)?u:d,M=Xc(u)?d:u,L=p.filters.map(X=>Rp(X,M));return Oi.create(L,"or")}(i,e),Rh(n)}function Am(i,e){if(Nl(e))return Qf(e,i.getFilters());{const n=e.filters.map(s=>Rp(i,s));return Oi.create(n,"or")}}function Rh(i){if(Bn(i instanceof zr||i instanceof Oi),i instanceof zr)return i;const e=i.getFilters();if(1===e.length)return Rh(e[0]);if(tc(i))return i;const n=e.map(u=>Rh(u)),s=[];return n.forEach(u=>{u instanceof zr?s.push(u):u instanceof Oi&&(u.op===i.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Oi.create(s,i.op)}class Dv{constructor(){this.on=new la}addToCollectionParentIndex(e,n){return this.on.add(n),Mt.resolve()}getCollectionParents(e,n){return Mt.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Mt.resolve()}deleteFieldIndex(e,n){return Mt.resolve()}deleteAllFieldIndexes(e){return Mt.resolve()}createTargetIndexes(e,n){return Mt.resolve()}getDocumentsMatchingTarget(e,n){return Mt.resolve(null)}getIndexType(e,n){return Mt.resolve(0)}getFieldIndexes(e,n){return Mt.resolve([])}getNextCollectionGroupToUpdate(e){return Mt.resolve(null)}getMinOffset(e,n){return Mt.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return Mt.resolve(Do.min())}updateCollectionGroup(e,n,s){return Mt.resolve()}updateIndexEntries(e,n){return Mt.resolve()}}class la{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n]||new Vi(ei.comparator),d=!u.has(s);return this.index[n]=u.add(s),d}has(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Vi(ei.comparator)).toArray()}}const fl=new Uint8Array(0);class Tv{constructor(e,n){this.user=e,this.databaseId=n,this._n=new la,this.an=new Hs(s=>Ds(s),(s,u)=>fu(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const s=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const d={collectionId:s,parent:vt(u)};return Sm(e).put(d)}return Mt.resolve()}getCollectionParents(e,n){const s=[],u=IDBKeyRange.bound([n,""],[ou(n),""],!1,!0);return Sm(e).W(u).next(d=>{for(const p of d){if(p.collectionId!==n)break;s.push(Rn(p.parent))}return s})}addFieldIndex(e,n){const s=vd(e),u={indexId:(M=n).indexId,collectionGroup:M.collectionGroup,fields:M.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var M;delete u.indexId;const d=s.add(u);if(n.indexState){const p=pc(e);return d.next(M=>{p.put(bp(M,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return d.next()}deleteFieldIndex(e,n){const s=vd(e),u=pc(e),d=fc(e);return s.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=vd(e),s=fc(e),u=pc(e);return n.H().next(()=>s.H()).next(()=>u.H())}createTargetIndexes(e,n){return Mt.forEach(this.un(n),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const d=new _d(s).sn();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,n){const s=fc(e);let u=!0;const d=new Map;return Mt.forEach(this.un(n),p=>this.cn(e,p).next(M=>{u&&(u=!!M),d.set(p,M)})).next(()=>{if(u){let p=Ie();const M=[];return Mt.forEach(d,(L,X)=>{var wr;tn("IndexedDbIndexManager",`Using index ${wr=L,`id=${wr.indexId}|cg=${wr.collectionGroup}|f=${wr.fields.map(gr=>`${gr.fieldPath}:${gr.kind}`).join(",")}`} to execute ${Ds(n)}`);const Ee=function(wr,gr){const ji=qu(gr);if(void 0===ji)return null;for(const Ni of nc(wr,ji.fieldPath))switch(Ni.op){case"array-contains-any":return Ni.value.arrayValue.values||[];case"array-contains":return[Ni.value]}return null}(X,L),Je=function(wr,gr){const ji=new Map;for(const Ni of Fs(gr))for(const Vo of nc(wr,Ni.fieldPath))switch(Vo.op){case"==":case"in":ji.set(Ni.fieldPath.canonicalString(),Vo.value);break;case"not-in":case"!=":return ji.set(Ni.fieldPath.canonicalString(),Vo.value),Array.from(ji.values())}return null}(X,L),gt=function(wr,gr){const ji=[];let Ni=!0;for(const Vo of Fs(gr)){const ma=0===Vo.kind?ep(wr,Vo.fieldPath,wr.startAt):Zo(wr,Vo.fieldPath,wr.startAt);ji.push(ma.value),Ni&&(Ni=ma.inclusive)}return new Us(ji,Ni)}(X,L),Ft=function(wr,gr){const ji=[];let Ni=!0;for(const Vo of Fs(gr)){const ma=0===Vo.kind?Zo(wr,Vo.fieldPath,wr.endAt):ep(wr,Vo.fieldPath,wr.endAt);ji.push(ma.value),Ni&&(Ni=ma.inclusive)}return new Us(ji,Ni)}(X,L),An=this.ln(L,X,gt),kn=this.ln(L,X,Ft),Fn=this.hn(L,X,Je),vr=this.Pn(L.indexId,Ee,An,gt.inclusive,kn,Ft.inclusive,Fn);return Mt.forEach(vr,Tr=>s.j(Tr,n.limit).next(wr=>{wr.forEach(gr=>{const ji=Vn.fromSegments(gr.documentKey);p.has(ji)||(p=p.add(ji),M.push(ji))})}))}).next(()=>M)}return Mt.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:bm(Oi.create(e.filters,"and")).map(s=>Fl(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,s,u,d,p,M){const L=(null!=n?n.length:1)*Math.max(s.length,d.length),X=L/(null!=n?n.length:1),Ee=[];for(let Je=0;Je<L;++Je){const gt=n?this.In(n[Je/X]):fl,Ft=this.Tn(e,gt,s[Je%X],u),An=this.En(e,gt,d[Je%X],p),kn=M.map(Fn=>this.Tn(e,gt,Fn,!0));Ee.push(...this.createRange(Ft,An,kn))}return Ee}Tn(e,n,s,u){const d=new hl(e,Vn.empty(),n,s);return u?d:d.Ht()}En(e,n,s,u){const d=new hl(e,Vn.empty(),n,s);return u?d.Ht():d}cn(e,n){const s=new _d(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let p=null;for(const M of d)s.en(M)&&(!p||M.fields.length>p.fields.length)&&(p=M);return p})}getIndexType(e,n){let s=2;const u=this.un(n);return Mt.forEach(u,d=>this.cn(e,d).next(p=>{p?0!==s&&p.fields.length<function(L){let X=new Vi(Fi.comparator),Ee=!1;for(const Je of L.filters)for(const gt of Je.getFlattenedFilters())gt.field.isKeyField()||("array-contains"===gt.op||"array-contains-any"===gt.op?Ee=!0:X=X.add(gt.field));for(const Je of L.orderBy)Je.field.isKeyField()||(X=X.add(Je.field));return X.size+(Ee?1:0)}(d)&&(s=1):s=0})).next(()=>null!==n.limit&&u.length>1&&2===s?1:s)}dn(e,n){const s=new md;for(const u of Fs(e)){const d=n.data.field(u.fieldPath);if(null==d)return null;const p=s.jt(u.kind);Fa.St.ht(d,p)}return s.Ut()}In(e){const n=new md;return Fa.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const s=new md;return Fa.St.ht(Ta(this.databaseId,n),s.jt(function(d){const p=Fs(d);return 0===p.length?0:p[p.length-1].kind}(e))),s.Ut()}hn(e,n,s){if(null===s)return[];let u=[];u.push(new md);let d=0;for(const p of Fs(e)){const M=s[d++];for(const L of u)if(this.Rn(n,p.fieldPath)&&ba(M))u=this.Vn(u,p,M);else{const X=L.jt(p.kind);Fa.St.ht(M,X)}}return this.mn(u)}ln(e,n,s){return this.hn(e,n,s.position)}mn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Ut();return n}Vn(e,n,s){const u=[...e],d=[];for(const p of s.arrayValue.values||[])for(const M of u){const L=new md;L.seed(M.Ut()),Fa.St.ht(p,L.jt(n.kind)),d.push(L)}return d}Rn(e,n){return!!e.filters.find(s=>s instanceof zr&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=vd(e),u=pc(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(d=>{const p=[];return Mt.forEach(d,M=>u.get([M.indexId,this.uid]).next(L=>{p.push(function(Ee,Je){const gt=Je?new rn(Je.sequenceNumber,new Do(Hl(Je.readTime),new Vn(Rn(Je.documentKey)),Je.largestBatchId)):rn.empty(),Ft=Ee.fields.map(([An,kn])=>new Ca(Fi.fromServerFormat(An),kn));return new Uo(Ee.indexId,Ee.collectionGroup,Ft,gt)}(M,L))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,u)=>{const d=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Cr(s.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const u=vd(e),d=pc(e);return this.fn(e).next(p=>u.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(M=>Mt.forEach(M,L=>d.put(bp(L.indexId,this.user,p,s)))))}updateIndexEntries(e,n){const s=new Map;return Mt.forEach(n,(u,d)=>{const p=s.get(u.collectionGroup);return(p?Mt.resolve(p):this.getFieldIndexes(e,u.collectionGroup)).next(M=>(s.set(u.collectionGroup,M),Mt.forEach(M,L=>this.gn(e,u,L).next(X=>{const Ee=this.pn(d,L);return X.isEqual(Ee)?Mt.resolve():this.yn(e,d,L,X,Ee)}))))})}wn(e,n,s,u){return fc(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.An(s,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,s,u){return fc(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.An(s,n.key),n.key.path.toArray()])}gn(e,n,s){const u=fc(e);let d=new Vi(Gl);return u.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,n)])},(p,M)=>{d=d.add(new hl(s.indexId,n,M.arrayValue,M.directionalValue))}).next(()=>d)}pn(e,n){let s=new Vi(Gl);const u=this.dn(n,e);if(null==u)return s;const d=qu(n);if(null!=d){const p=e.data.field(d.fieldPath);if(ba(p))for(const M of p.arrayValue.values||[])s=s.add(new hl(n.indexId,e.key,this.In(M),u))}else s=s.add(new hl(n.indexId,e.key,fl,u));return s}yn(e,n,s,u,d){tn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const p=[];return function(L,X,Ee,Je,gt){const Ft=L.getIterator(),An=X.getIterator();let kn=il(Ft),Fn=il(An);for(;kn||Fn;){let vr=!1,Tr=!1;if(kn&&Fn){const wr=Ee(kn,Fn);wr<0?Tr=!0:wr>0&&(vr=!0)}else null!=kn?Tr=!0:vr=!0;vr?(Je(Fn),Fn=il(An)):Tr?(gt(kn),kn=il(Ft)):(kn=il(Ft),Fn=il(An))}}(u,d,Gl,M=>{p.push(this.wn(e,n,s,M))},M=>{p.push(this.Sn(e,n,s,M))}),Mt.waitFor(p)}fn(e){let n=1;return pc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,d)=>{d.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((p,M)=>Gl(p,M)).filter((p,M,L)=>!M||0!==Gl(p,L[M-1]));const u=[];u.push(e);for(const p of s){const M=Gl(p,e),L=Gl(p,n);if(0===M)u[0]=e.Ht();else if(M>0&&L<0)u.push(p),u.push(p.Ht());else if(L>0)break}u.push(n);const d=[];for(let p=0;p<u.length;p+=2){if(this.bn(u[p],u[p+1]))return[];d.push(IDBKeyRange.bound([u[p].indexId,this.uid,u[p].arrayValue,u[p].directionalValue,fl,[]],[u[p+1].indexId,this.uid,u[p+1].arrayValue,u[p+1].directionalValue,fl,[]]))}return d}bn(e,n){return Gl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Rm)}getMinOffset(e,n){return Mt.mapArray(this.un(n),s=>this.cn(e,s).next(u=>u||Mn())).next(Rm)}}function Sm(i){return _o(i,"collectionParents")}function fc(i){return _o(i,"indexEntries")}function vd(i){return _o(i,"indexConfiguration")}function pc(i){return _o(i,"indexState")}function Rm(i){Bn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const u=i[s].indexState.offset;no(u,e)<0&&(e=u),n<u.largestBatchId&&(n=u.largestBatchId)}return new Do(e.readTime,e.documentKey,n)}const Pp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xo{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Xo(e,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Pm(i,e,n){const s=i.store("mutations"),u=i.store("documentMutations"),d=[],p=IDBKeyRange.only(n.batchId);let M=0;const L=s.Y({range:p},(Ee,Je,gt)=>(M++,gt.delete()));d.push(L.next(()=>{Bn(1===M)}));const X=[];for(const Ee of n.mutations){const Je=co(e,Ee.key.path,n.batchId);d.push(u.delete(Je)),X.push(Ee.key)}return Mt.waitFor(d).next(()=>X)}function Ph(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Mn();e=i.noDocument}return JSON.stringify(e).length}Xo.DEFAULT_COLLECTION_PERCENTILE=10,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xo.DEFAULT=new Xo(41943040,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xo.DISABLED=new Xo(-1,0,0);class Mh{constructor(e,n,s,u){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=u,this.Dn={}}static ct(e,n,s,u){Bn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Mh(d,n,s,u)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jo(e).Y({index:"userMutationsIndex",range:s},(u,d,p)=>{n=!1,p.done()}).next(()=>n)}addMutationBatch(e,n,s,u){const d=La(e),p=Jo(e);return p.add({}).next(M=>{Bn("number"==typeof M);const L=new sp(M,n,s,u),X=function(Ft,An,kn){const Fn=kn.baseMutations.map(Tr=>cc(Ft.ut,Tr)),vr=kn.mutations.map(Tr=>cc(Ft.ut,Tr));return{userId:An,batchId:kn.batchId,localWriteTimeMs:kn.localWriteTime.toMillis(),baseMutations:Fn,mutations:vr}}(this.serializer,this.userId,L),Ee=[];let Je=new Vi((gt,Ft)=>Cr(gt.canonicalString(),Ft.canonicalString()));for(const gt of u){const Ft=co(this.userId,gt.key.path,M);Je=Je.add(gt.key.path.popLast()),Ee.push(p.put(X)),Ee.push(d.put(Ft,fi))}return Je.forEach(gt=>{Ee.push(this.indexManager.addToCollectionParentIndex(e,gt))}),e.addOnCommittedListener(()=>{this.Dn[M]=L.keys()}),Mt.waitFor(Ee).next(()=>L)})}lookupMutationBatch(e,n){return Jo(e).get(n).next(s=>s?(Bn(s.userId===this.userId),dl(this.serializer,s)):null)}Cn(e,n){return this.Dn[n]?Mt.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const u=s.keys();return this.Dn[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,u=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Jo(e).Y({index:"userMutationsIndex",range:u},(p,M,L)=>{M.userId===this.userId&&(Bn(M.batchId>=s),d=dl(this.serializer,M)),L.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Jo(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(u,d,p)=>{s=d.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jo(e).W("userMutationsIndex",n).next(s=>s.map(u=>dl(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=hi(this.userId,n.path),u=IDBKeyRange.lowerBound(s),d=[];return La(e).Y({range:u},(p,M,L)=>{const[X,Ee,Je]=p,gt=Rn(Ee);if(X===this.userId&&n.path.isEqual(gt))return Jo(e).get(Je).next(Ft=>{if(!Ft)throw Mn();Bn(Ft.userId===this.userId),d.push(dl(this.serializer,Ft))});L.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vi(Cr);const u=[];return n.forEach(d=>{const p=hi(this.userId,d.path),M=IDBKeyRange.lowerBound(p),L=La(e).Y({range:M},(X,Ee,Je)=>{const[gt,Ft,An]=X,kn=Rn(Ft);gt===this.userId&&d.path.isEqual(kn)?s=s.add(An):Je.done()});u.push(L)}),Mt.waitFor(u).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,u=s.length+1,d=hi(this.userId,s),p=IDBKeyRange.lowerBound(d);let M=new Vi(Cr);return La(e).Y({range:p},(L,X,Ee)=>{const[Je,gt,Ft]=L,An=Rn(gt);Je===this.userId&&s.isPrefixOf(An)?An.length===u&&(M=M.add(Ft)):Ee.done()}).next(()=>this.vn(e,M))}vn(e,n){const s=[],u=[];return n.forEach(d=>{u.push(Jo(e).get(d).next(p=>{if(null===p)throw Mn();Bn(p.userId===this.userId),s.push(dl(this.serializer,p))}))}),Mt.waitFor(u).next(()=>s)}removeMutationBatch(e,n){return Pm(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),Mt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Mt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return La(e).Y({range:s},(d,p,M)=>{if(d[0]===this.userId){const L=Rn(d[1]);u.push(L)}else M.done()}).next(()=>{Bn(0===u.length)})})}containsKey(e,n){return yd(e,this.userId,n)}Mn(e){return Mp(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yd(i,e,n){const s=hi(e,n.path),u=s[1],d=IDBKeyRange.lowerBound(s);let p=!1;return La(i).Y({range:d,J:!0},(M,L,X)=>{const[Ee,Je,gt]=M;Ee===e&&Je===u&&(p=!0),X.done()}).next(()=>p)}function Jo(i){return _o(i,"mutations")}function La(i){return _o(i,"documentMutations")}function Mp(i){return _o(i,"mutationQueues")}class ql{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ql(0)}static Nn(){return new ql(-1)}}class Mm{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const s=new ql(n.highestTargetId);return n.highestTargetId=s.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Yn.fromTimestamp(new Un(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=n,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.Ln(e,u)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.qn(n,s),this.Ln(e,s))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ed(e).delete(n.targetId)).next(()=>this.Bn(e)).next(s=>(Bn(s.targetCount>0),s.targetCount-=1,this.Ln(e,s)))}removeTargets(e,n,s){let u=0;const d=[];return Ed(e).Y((p,M)=>{const L=zl(M);L.sequenceNumber<=n&&null===s.get(L.targetId)&&(u++,d.push(this.removeTargetData(e,L)))}).next(()=>Mt.waitFor(d)).next(()=>u)}forEachTarget(e,n){return Ed(e).Y((s,u)=>{const d=zl(u);n(d)})}Bn(e){return bv(e).get("targetGlobalKey").next(n=>(Bn(null!==n),n))}Ln(e,n){return bv(e).put("targetGlobalKey",n)}kn(e,n){return Ed(e).put(Tp(this.serializer,n))}qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const s=Ds(n),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Ed(e).Y({range:u,index:"queryTargetsIndex"},(p,M,L)=>{const X=zl(M);fu(n,X.target)&&(d=X,L.done())}).next(()=>d)}addMatchingKeys(e,n,s){const u=[],d=bu(e);return n.forEach(p=>{const M=vt(p.path);u.push(d.put({targetId:s,path:M})),u.push(this.referenceDelegate.addReference(e,s,p))}),Mt.waitFor(u)}removeMatchingKeys(e,n,s){const u=bu(e);return Mt.forEach(n,d=>{const p=vt(d.path);return Mt.waitFor([u.delete([s,p]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,n){const s=bu(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),u=bu(e);let d=Ie();return u.Y({range:s,J:!0},(p,M,L)=>{const X=Rn(p[1]),Ee=new Vn(X);d=d.add(Ee)}).next(()=>d)}containsKey(e,n){const s=vt(n.path),u=IDBKeyRange.bound([s],[ou(s)],!1,!0);let d=0;return bu(e).Y({index:"documentTargetsIndex",J:!0,range:u},([p,M],L,X)=>{0!==p&&(d++,X.done())}).next(()=>d>0)}_t(e,n){return Ed(e).get(n).next(s=>s?zl(s):null)}}function Ed(i){return _o(i,"targets")}function bv(i){return _o(i,"targetGlobal")}function bu(i){return _o(i,"targetDocuments")}function xh([i,e],[n,s]){const u=Cr(i,n);return 0===u?Cr(e,s):u}class xp{constructor(e){this.Qn=e,this.buffer=new Vi(xh),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xh(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Av{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;tn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,a.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){Po(s)?tn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield mo(s)}yield n.Gn(3e5)}))}}class F0{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return Mt.resolve(T._e);const s=new xp(n);return this.zn.forEachTarget(e,u=>s.Un(u.sequenceNumber)).next(()=>this.zn.Hn(e,u=>s.Un(u))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(tn("LruGarbageCollector","Garbage collection skipped; disabled"),Mt.resolve(Pp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(tn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pp):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let s,u,d,p,M,L,X;const Ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Je=>(Je>this.params.maximumSequenceNumbersToCollect?(tn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Je}`),u=this.params.maximumSequenceNumbersToCollect):u=Je,p=Date.now(),this.nthSequenceNumber(e,u))).next(Je=>(s=Je,M=Date.now(),this.removeTargets(e,s,n))).next(Je=>(d=Je,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(Je=>(X=Date.now(),Ci()<=F.in.DEBUG&&tn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-Ee}ms\n\tDetermined least recently used ${u} in `+(M-p)+`ms\n\tRemoved ${d} targets in `+(L-M)+`ms\n\tRemoved ${Je} documents in `+(X-L)+`ms\nTotal Duration: ${X-Ee}ms`),Mt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Je})))}}class Sv{constructor(e,n){this.db=e,this.garbageCollector=function Op(i,e){return new F0(i,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(u=>s+u))}Yn(e){let n=0;return this.Hn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(s,u)=>n(u))}addReference(e,n,s){return Oh(e,s)}removeReference(e,n,s){return Oh(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return Oh(e,n)}Xn(e,n){return function(u,d){let p=!1;return Mp(u).Z(M=>yd(u,M,d).next(L=>(L&&(p=!0),Mt.resolve(!L)))).next(()=>p)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Zn(e,(p,M)=>{if(M<=n){const L=this.Xn(e,p).next(X=>{if(!X)return d++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Yn.min()),bu(e).delete([0,vt(p.path)])))});u.push(L)}}).next(()=>Mt.waitFor(u)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return Oh(e,n)}Zn(e,n){const s=bu(e);let u,d=T._e;return s.Y({index:"documentTargetsIndex"},([p,M],{path:L,sequenceNumber:X})=>{0===p?(d!==T._e&&n(new Vn(Rn(u)),d),d=X,u=L):d=T._e}).next(()=>{d!==T._e&&n(new Vn(Rn(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Oh(i,e){return bu(i).put((u=i.currentSequenceNumber,{targetId:0,path:vt(e.path),sequenceNumber:u}));var u}class xm{constructor(){this.changes=new Hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Mt.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return pl(e).put(s)}removeEntry(e,n,s){return pl(e).delete(function(d,p){const M=d.path.toArray();return[M.slice(0,M.length-2),M[M.length-2],Cu(p),M[M.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.er(e,s)))}getEntry(e,n){let s=$i.newInvalidDocument(n);return pl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Id(n))},(u,d)=>{s=this.tr(n,d)}).next(()=>s)}nr(e,n){let s={size:0,document:$i.newInvalidDocument(n)};return pl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Id(n))},(u,d)=>{s={document:this.tr(n,d),size:Ph(d)}}).next(()=>s)}getEntries(e,n){let s=Mo();return this.rr(e,n,(u,d)=>{const p=this.tr(u,d);s=s.insert(u,p)}).next(()=>s)}ir(e,n){let s=Mo(),u=new xi(Vn.comparator);return this.rr(e,n,(d,p)=>{const M=this.tr(d,p);s=s.insert(d,M),u=u.insert(d,Ph(p))}).next(()=>({documents:s,sr:u}))}rr(e,n,s){if(n.isEmpty())return Mt.resolve();let u=new Vi(Om);n.forEach(L=>u=u.add(L));const d=IDBKeyRange.bound(Id(u.first()),Id(u.last())),p=u.getIterator();let M=p.getNext();return pl(e).Y({index:"documentKeyIndex",range:d},(L,X,Ee)=>{const Je=Vn.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;M&&Om(M,Je)<0;)s(M,null),M=p.getNext();M&&M.isEqual(Je)&&(s(M,X),M=p.hasNext()?p.getNext():null),M?Ee.U(Id(M)):Ee.done()}).next(()=>{for(;M;)s(M,null),M=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,n,s,u,d){const p=n.path,M=[p.popLast().toArray(),p.lastSegment(),Cu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],L=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pl(e).W(IDBKeyRange.bound(M,L,!0)).next(X=>{null==d||d.incrementDocumentReadCount(X.length);let Ee=Mo();for(const Je of X){const gt=this.tr(Vn.fromSegments(Je.prefixPath.concat(Je.collectionGroup,Je.documentId)),Je);gt.isFoundDocument()&&(ra(n,gt)||u.has(gt.key))&&(Ee=Ee.insert(gt.key,gt))}return Ee})}getAllFromCollectionGroup(e,n,s,u){let d=Mo();const p=Yl(n,s),M=Yl(n,Do.max());return pl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,M,!0)},(L,X,Ee)=>{const Je=this.tr(Vn.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);d=d.insert(Je.key,Je),d.size===u&&Ee.done()}).next(()=>d)}newChangeBuffer(e){return new Nh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return kp(e).get("remoteDocumentGlobalKey").next(n=>(Bn(!!n),n))}er(e,n){return kp(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const s=function wp(i,e){let n;if(e.document)n=ym(i.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Vn.fromSegments(e.noDocument.path),u=Hl(e.noDocument.readTime);n=$i.newNoDocument(s,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mn();{const s=Vn.fromSegments(e.unknownDocument.path),u=Hl(e.unknownDocument.version);n=$i.newUnknownDocument(s,u)}}return e.readTime&&n.setReadTime(function(u){const d=new Un(u[0],u[1]);return Yn.fromTimestamp(d)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(Yn.min()))return s}return $i.newInvalidDocument(e)}}function Np(i){return new Rv(i)}class Nh extends xm{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Hs(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const n=[];let s=0,u=new Vi((d,p)=>Cr(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const M=this.ar.get(d);if(n.push(this._r.removeEntry(e,d,M.readTime)),p.isValidDocument()){const L=Dp(this._r.serializer,p);u=u.add(d.path.popLast());const X=Ph(L);s+=X-M.size,n.push(this._r.addEntry(e,d,L))}else if(s-=M.size,this.trackRemovals){const L=Dp(this._r.serializer,p.convertToNoDocument(Yn.min()));n.push(this._r.addEntry(e,d,L))}}),u.forEach(d=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,d))}),n.push(this._r.updateMetadata(e,s)),Mt.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(s=>(this.ar.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:s,sr:u})=>(u.forEach((d,p)=>{this.ar.set(d,{size:p,readTime:s.get(d).readTime})}),s))}}function kp(i){return _o(i,"remoteDocumentGlobal")}function pl(i){return _o(i,"remoteDocumentsV14")}function Id(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yl(i,e){const n=e.documentKey.path.toArray();return[i,Cu(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Om(i,e){const n=i.path.toArray(),s=e.path.toArray();let u=0;for(let d=0;d<n.length-2&&d<s.length-2;++d)if(u=Cr(n[d],s[d]),u)return u;return u=Cr(n.length,s.length),u||(u=Cr(n[n.length-2],s[s.length-2]),u||Cr(n[n.length-1],s[s.length-1]))}class Pv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class kh{constructor(e,n,s,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==s&&sc(s.mutation,u,ls.empty(),Un.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ie()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ie()){const u=E();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,s).next(d=>{let p=_u();return d.forEach((M,L)=>{p=p.insert(M,L.overlayedDocument)}),p}))}getOverlayedDocuments(e,n){const s=E();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ie()))}populateOverlays(e,n,s){const u=[];return s.forEach(d=>{n.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((p,M)=>{n.set(p,M)})})}computeViews(e,n,s,u){let d=Mo();const p=g(),M=g();return n.forEach((L,X)=>{const Ee=s.get(X.key);u.has(X.key)&&(void 0===Ee||Ee.mutation instanceof Na)?d=d.insert(X.key,X):void 0!==Ee?(p.set(X.key,Ee.mutation.getFieldMask()),sc(Ee.mutation,X,Ee.mutation.getFieldMask(),Un.now())):p.set(X.key,ls.empty())}),this.recalculateAndSaveOverlays(e,d).next(L=>(L.forEach((X,Ee)=>p.set(X,Ee)),n.forEach((X,Ee)=>{var Je;return M.set(X,new Pv(Ee,null!==(Je=p.get(X))&&void 0!==Je?Je:null))}),M))}recalculateAndSaveOverlays(e,n){const s=g();let u=new xi((p,M)=>p-M),d=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(p=>{for(const M of p)M.keys().forEach(L=>{const X=n.get(L);if(null===X)return;let Ee=s.get(L)||ls.empty();Ee=M.applyToLocalView(X,Ee),s.set(L,Ee);const Je=(u.get(M.batchId)||Ie()).add(L);u=u.insert(M.batchId,Je)})}).next(()=>{const p=[],M=u.getReverseIterator();for(;M.hasNext();){const L=M.getNext(),X=L.key,Ee=L.value,Je=f();Ee.forEach(gt=>{if(!d.has(gt)){const Ft=sd(n.get(gt),s.get(gt));null!==Ft&&Je.set(gt,Ft),d=d.add(gt)}}),p.push(this.documentOverlayCache.saveOverlays(e,X,Je))}return Mt.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,u){return Vn.isDocumentKey((p=n).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):ed(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,u):this.getDocumentsMatchingCollectionQuery(e,n,s,u);var p}getNextDocuments(e,n,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,u).next(d=>{const p=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,u-d.size):Mt.resolve(E());let M=-1,L=d;return p.next(X=>Mt.forEach(X,(Ee,Je)=>(M<Je.largestBatchId&&(M=Je.largestBatchId),d.get(Ee)?Mt.resolve():this.remoteDocumentCache.getEntry(e,Ee).next(gt=>{L=L.insert(Ee,gt)}))).next(()=>this.populateOverlays(e,X,d)).next(()=>this.computeViews(e,L,X,Ie())).next(Ee=>({batchId:M,changes:gh(Ee)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Vn(n)).next(s=>{let u=_u();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,s,u){const d=n.collectionGroup;let p=_u();return this.indexManager.getCollectionParents(e,d).next(M=>Mt.forEach(M,L=>{const X=(Je=n,gt=L.child(d),new us(gt,null,Je.explicitOrderBy.slice(),Je.filters.slice(),Je.limit,Je.limitType,Je.startAt,Je.endAt));var Je,gt;return this.getDocumentsMatchingCollectionQuery(e,X,s,u).next(Ee=>{Ee.forEach((Je,gt)=>{p=p.insert(Je,gt)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,n,s,u){let d;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(p=>(d=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,d,u))).next(p=>{d.forEach((L,X)=>{const Ee=X.getKey();null===p.get(Ee)&&(p=p.insert(Ee,$i.newInvalidDocument(Ee)))});let M=_u();return p.forEach((L,X)=>{const Ee=d.get(L);void 0!==Ee&&sc(Ee.mutation,X,ls.empty(),Un.now()),ra(n,X)&&(M=M.insert(L,X))}),M})}}class Nm{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Mt.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:fo(u.createTime)}),Mt.resolve();var u}getNamedQuery(e,n){return Mt.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:pd(u.bundledQuery),readTime:fo(u.readTime)}),Mt.resolve();var u}}class Mv{constructor(){this.overlays=new xi(Vn.comparator),this.lr=new Map}getOverlay(e,n){return Mt.resolve(this.overlays.get(n))}getOverlays(e,n){const s=E();return Mt.forEach(n,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((u,d)=>{this.lt(e,n,d)}),Mt.resolve()}removeOverlaysForBatchId(e,n,s){const u=this.lr.get(s);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.lr.delete(s)),Mt.resolve()}getOverlaysForCollection(e,n,s){const u=E(),d=n.length+1,p=new Vn(n.child("")),M=this.overlays.getIteratorFrom(p);for(;M.hasNext();){const L=M.getNext().value,X=L.getKey();if(!n.isPrefixOf(X.path))break;X.path.length===d&&L.largestBatchId>s&&u.set(L.getKey(),L)}return Mt.resolve(u)}getOverlaysForCollectionGroup(e,n,s,u){let d=new xi((X,Ee)=>X-Ee);const p=this.overlays.getIterator();for(;p.hasNext();){const X=p.getNext().value;if(X.getKey().getCollectionGroup()===n&&X.largestBatchId>s){let Ee=d.get(X.largestBatchId);null===Ee&&(Ee=E(),d=d.insert(X.largestBatchId,Ee)),Ee.set(X.getKey(),X)}}const M=E(),L=d.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((X,Ee)=>M.set(X,Ee)),!(M.size()>=u)););return Mt.resolve(M)}lt(e,n,s){const u=this.overlays.get(s.key);if(null!==u){const p=this.lr.get(u.largestBatchId).delete(s.key);this.lr.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Eh(n,s));let d=this.lr.get(n);void 0===d&&(d=Ie(),this.lr.set(n,d)),this.lr.set(n,d.add(s.key))}}class Fp{constructor(){this.hr=new Vi(Fo.Pr),this.Ir=new Vi(Fo.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new Fo(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new Fo(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new Vn(new ei([])),s=new Fo(n,e),u=new Fo(n,e+1),d=[];return this.Ir.forEachInRange([s,u],p=>{this.dr(p),d.push(p.key)}),d}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Vn(new ei([])),s=new Fo(n,e),u=new Fo(n,e+1);let d=Ie();return this.Ir.forEachInRange([s,u],p=>{d=d.add(p.key)}),d}containsKey(e){const n=new Fo(e,0),s=this.hr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class Fo{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Vn.comparator(e.key,n.key)||Cr(e.gr,n.gr)}static Tr(e,n){return Cr(e.gr,n.gr)||Vn.comparator(e.key,n.key)}}class xv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Vi(Fo.Pr)}checkEmpty(e){return Mt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,u){const d=this.pr;this.pr++;const p=new sp(d,n,s,u);this.mutationQueue.push(p);for(const M of u)this.yr=this.yr.add(new Fo(M.key,d)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return Mt.resolve(p)}lookupMutationBatch(e,n){return Mt.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),d=u<0?0:u;return Mt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Mt.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Fo(n,0),u=new Fo(n,Number.POSITIVE_INFINITY),d=[];return this.yr.forEachInRange([s,u],p=>{const M=this.wr(p.gr);d.push(M)}),Mt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vi(Cr);return n.forEach(u=>{const d=new Fo(u,0),p=new Fo(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([d,p],M=>{s=s.add(M.gr)})}),Mt.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,u=s.length+1;let d=s;Vn.isDocumentKey(d)||(d=d.child(""));const p=new Fo(new Vn(d),0);let M=new Vi(Cr);return this.yr.forEachWhile(L=>{const X=L.key.path;return!!s.isPrefixOf(X)&&(X.length===u&&(M=M.add(L.gr)),!0)},p),Mt.resolve(this.br(M))}br(e){const n=[];return e.forEach(s=>{const u=this.wr(s);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Bn(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return Mt.forEach(n.mutations,u=>{const d=new Fo(u.key,n.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new Fo(n,0),u=this.yr.firstAfterOrEqual(s);return Mt.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Mt.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class km{constructor(e){this.Cr=e,this.docs=new xi(Vn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,u=this.docs.get(s),d=u?u.size:0,p=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Mt.resolve(s?s.document.mutableCopy():$i.newInvalidDocument(n))}getEntries(e,n){let s=Mo();return n.forEach(u=>{const d=this.docs.get(u);s=s.insert(u,d?d.document.mutableCopy():$i.newInvalidDocument(u))}),Mt.resolve(s)}getDocumentsMatchingQuery(e,n,s,u){let d=Mo();const p=n.path,M=new Vn(p.child("")),L=this.docs.getIteratorFrom(M);for(;L.hasNext();){const{key:X,value:{document:Ee}}=L.getNext();if(!p.isPrefixOf(X.path))break;X.path.length>p.length+1||no(su(Ee),s)<=0||(u.has(Ee.key)||ra(n,Ee))&&(d=d.insert(Ee.key,Ee.mutableCopy()))}return Mt.resolve(d)}getAllFromCollectionGroup(e,n,s,u){Mn()}vr(e,n){return Mt.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new L0(this)}getSize(e){return Mt.resolve(this.size)}}class L0 extends xm{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(s)}),Mt.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class V0{constructor(e){this.persistence=e,this.Fr=new Hs(n=>Ds(n),fu),this.lastRemoteSnapshotVersion=Yn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Fp,this.targetCount=0,this.Nr=ql.On()}forEachTarget(e,n){return this.Fr.forEach((s,u)=>n(u)),Mt.resolve()}getLastRemoteSnapshotVersion(e){return Mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Mt.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Mt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),Mt.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Mt.resolve()}updateTargetData(e,n){return this.kn(n),Mt.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Mt.resolve()}removeTargets(e,n,s){let u=0;const d=[];return this.Fr.forEach((p,M)=>{M.sequenceNumber<=n&&null===s.get(M.targetId)&&(this.Fr.delete(p),d.push(this.removeMatchingKeysForTargetId(e,M.targetId)),u++)}),Mt.waitFor(d).next(()=>u)}getTargetCount(e){return Mt.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return Mt.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),Mt.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const u=this.persistence.referenceDelegate,d=[];return u&&n.forEach(p=>{d.push(u.markPotentiallyOrphaned(e,p))}),Mt.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Mt.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return Mt.resolve(s)}containsKey(e,n){return Mt.resolve(this.Or.containsKey(n))}}class Au{constructor(e,n){this.Br={},this.overlays={},this.Lr=new T(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new V0(this),this.indexManager=new Dv,this.remoteDocumentCache=new km(s=>this.referenceDelegate.Qr(s)),this.serializer=new Cp(n),this.Kr=new Nm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new xv(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){tn("MemoryPersistence","Starting transaction:",e);const u=new Cd(this.Lr.next());return this.referenceDelegate.$r(),s(u).next(d=>this.referenceDelegate.Ur(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Wr(e,n){return Mt.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class Cd extends wa{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Gr=new Fp,this.zr=null}static jr(e){return new wd(e)}get Hr(){if(this.zr)return this.zr;throw Mn()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),Mt.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),Mt.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Mt.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(d=>this.Hr.add(d.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mt.forEach(this.Hr,s=>{const u=Vn.fromPath(s);return this.Jr(e,u).next(d=>{d||n.removeEntry(u,Yn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Mt.or([()=>Mt.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Lp{constructor(e){this.serializer=e}N(e,n,s,u){const d=new Ls("createOrUpgrade",n);var L;s<1&&u>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dr,{unique:!0}),L.createObjectStore("documentMutations"),Vp(e),function(L){L.createObjectStore("remoteDocuments")}(e));let p=Mt.resolve();return s<3&&u>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),Vp(e)),p=p.next(()=>function(L){const X=L.store("targetGlobal"),Ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yn.min().toTimestamp(),targetCount:0};return X.put("targetGlobalKey",Ee)}(d))),s<4&&u>=4&&(0!==s&&(p=p.next(()=>function(L,X){return X.store("mutations").W().next(Ee=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dr,{unique:!0});const Je=X.store("mutations"),gt=Ee.map(Ft=>Je.put(Ft));return Mt.waitFor(gt)})}(e,d))),p=p.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(p=p.next(()=>this.Zr(d))),s<6&&u>=6&&(p=p.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(d)))),s<7&&u>=7&&(p=p.next(()=>this.ei(d))),s<8&&u>=8&&(p=p.next(()=>this.ti(e,d))),s<9&&u>=9&&(p=p.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(p=p.next(()=>this.ni(d))),s<11&&u>=11&&(p=p.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(p=p.next(()=>{!function(L){const X=L.createObjectStore("documentOverlays",{keyPath:Yu});X.createIndex("collectionPathOverlayIndex",Ku,{unique:!1}),X.createIndex("collectionGroupOverlayIndex",Vs,{unique:!1})}(e)})),s<13&&u>=13&&(p=p.next(()=>function(L){const X=L.createObjectStore("remoteDocumentsV14",{keyPath:ro});X.createIndex("documentKeyIndex",ys),X.createIndex("collectionGroupIndex",nl)}(e)).next(()=>this.ri(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(p=p.next(()=>this.ii(e,d))),s<15&&u>=15&&(p=p.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:oh}).createIndex("sequenceNumberIndex",Wf,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:qf}).createIndex("documentKeyIndex",sh,{unique:!1})}(e))),p}Xr(e){let n=0;return e.store("remoteDocuments").Y((s,u)=>{n+=Ph(u)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(u=>Mt.forEach(u,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(M=>Mt.forEach(M,L=>{Bn(L.userId===d.userId);const X=dl(this.serializer,L);return Pm(e,d.userId,X).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return s.Y((p,M)=>{const L=new ei(p),X=[0,vt(L)];d.push(n.get(X).next(Ee=>Ee?Mt.resolve():n.put({targetId:0,path:vt(L),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Mt.waitFor(d))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Sl});const s=n.store("collectionParents"),u=new la,d=p=>{if(u.add(p)){const M=p.lastSegment(),L=p.popLast();return s.put({collectionId:M,parent:vt(L)})}};return n.store("remoteDocuments").Y({J:!0},(p,M)=>{const L=new ei(p);return d(L.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([p,M,L],X)=>{const Ee=Rn(M);return d(Ee.popLast())}))}ni(e){const n=e.store("targets");return n.Y((s,u)=>{const d=zl(u),p=Tp(this.serializer,d);return n.put(p)})}ri(e,n){const s=n.store("remoteDocuments"),u=[];return s.Y((d,p)=>{const M=n.store("remoteDocumentsV14"),L=(Je=p,Je.document?new Vn(ei.fromString(Je.document.name).popFirst(5)):Je.noDocument?Vn.fromSegments(Je.noDocument.path):Je.unknownDocument?Vn.fromSegments(Je.unknownDocument.path):Mn()).path.toArray(),X={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};var Je;u.push(M.put(X))}).next(()=>Mt.waitFor(u))}ii(e,n){const s=n.store("mutations"),u=Np(this.serializer),d=new Au(wd.jr,this.serializer.ut);return s.W().next(p=>{const M=new Map;return p.forEach(L=>{var X;let Ee=null!==(X=M.get(L.userId))&&void 0!==X?X:Ie();dl(this.serializer,L).keys().forEach(Je=>Ee=Ee.add(Je)),M.set(L.userId,Ee)}),Mt.forEach(M,(L,X)=>{const Ee=new Hn(X),Je=gd.ct(this.serializer,Ee),gt=d.getIndexManager(Ee),Ft=Mh.ct(Ee,this.serializer,gt,d.referenceDelegate);return new kh(u,Ft,Je,gt).recalculateAndSaveOverlaysForDocumentKeys(new Ml(n,T._e),L).next()})})}}function Vp(i){i.createObjectStore("targetDocuments",{keyPath:ss}).createIndex("documentTargetsIndex",Li,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",io,{unique:!0}),i.createObjectStore("targetGlobal")}const $p="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fh{constructor(e,n,s,u,d,p,M,L,X,Ee,Je=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.si=d,this.window=p,this.document=M,this.oi=X,this._i=Ee,this.ai=Je,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=gt=>Promise.resolve(),!Fh.D())throw new dn(Ut.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sv(this,u),this.Ii=n+"main",this.serializer=new Cp(L),this.Ti=new is(this.Ii,this.ai,new Lp(this.serializer)),this.qr=new Mm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Np(this.serializer),this.Kr=new Iv,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===Ee&&di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dn(Ut.FAILED_PRECONDITION,$p);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new T(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var s=(0,a.Z)(function*(u){if(n.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,a.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,a.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Su(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Po(e))return tn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return tn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return gc(e).get("owner").next(n=>Mt.resolve(this.wi(n)))}Si(e){return Su(e).delete(this.clientId)}bi(){var e=this;return(0,a.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=_o(s,"clientMetadata");return u.W().next(d=>{const p=e.Ci(d,18e5),M=d.filter(L=>-1===p.indexOf(L));return Mt.forEach(M,L=>u.delete(L.clientId)).next(()=>M)})}).catch(()=>[]);if(e.Ei)for(const s of n)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Mt.resolve(!0):gc(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new dn(Ut.FAILED_PRECONDITION,$p);return!1}}return!(!this.networkEnabled||!this.inForeground)||Su(e).W().next(s=>void 0===this.Ci(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(n=>(this.isPrimary!==n&&tn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,a.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new Ml(n,T._e);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(s=>this.Di(s.updateTimeMs,n)&&!this.Fi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Su(e).W().next(n=>this.Ci(n,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Mh.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Tv(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return gd.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,s){tn("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",d=15===(L=this.ai)?Pl:14===L?rl:13===L?lu:12===L?Rl:11===L?ah:void Mn();var L;let p;return this.Ti.runTransaction(e,u,d,M=>(p=new Ml(M,this.Lr?this.Lr.next():T._e),"readwrite-primary"===n?this.fi(p).next(L=>!!L||this.gi(p)).next(L=>{if(!L)throw di(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new dn(Ut.FAILED_PRECONDITION,el);return s(p)}).next(L=>this.yi(p).next(()=>L)):this.Li(p).next(()=>s(p)))).then(M=>(p.raiseOnCommittedEvent(),M))}Li(e){return gc(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new dn(Ut.FAILED_PRECONDITION,$p)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gc(e).put("owner",n)}static D(){return is.D()}pi(e){const n=gc(e);return n.get("owner").next(s=>this.wi(s)?(tn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Mt.resolve())}Di(e,n){const s=Date.now();return!(e<s-n||e>s&&(di(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,Y.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const s=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return tn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return di("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){di("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gc(i){return _o(i,"owner")}function Su(i){return _o(i,"clientMetadata")}function Fm(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Td{constructor(e,n,s,u){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=u}static Qi(e,n){let s=Ie(),u=Ie();for(const d of n.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Td(e,n.fromCache,s,u)}}class Ov{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Lh{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,u){const d={result:null};return this.zi(e,n).next(p=>{d.result=p}).next(()=>{if(!d.result)return this.ji(e,n,u,s).next(p=>{d.result=p})}).next(()=>{if(d.result)return;const p=new Ov;return this.Hi(e,n,p).next(M=>{if(d.result=M,this.$i)return this.Ji(e,n,p,M.size)})}).next(()=>d.result)}Ji(e,n,s,u){return s.documentReadCount<this.Ui?(Ci()<=F.in.DEBUG&&tn("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Mt.resolve()):(Ci()<=F.in.DEBUG&&tn("QueryEngine","Query:",na(n),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Wi*u?(Ci()<=F.in.DEBUG&&tn("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jo(n))):Mt.resolve())}zi(e,n){if(gu(n))return Mt.resolve(null);let s=jo(n);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=nd(n,null,"F"),s=jo(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const p=Ie(...d);return this.Gi.getDocuments(e,p).next(M=>this.indexManager.getMinOffset(e,s).next(L=>{const X=this.Yi(n,M);return this.Zi(n,X,p,L.readTime)?this.zi(e,nd(n,null,"F")):this.Xi(e,X,n,L)}))})))}ji(e,n,s,u){return gu(n)||u.isEqual(Yn.min())?Mt.resolve(null):this.Gi.getDocuments(e,s).next(d=>{const p=this.Yi(n,d);return this.Zi(n,p,s,u)?Mt.resolve(null):(Ci()<=F.in.DEBUG&&tn("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),na(n)),this.Xi(e,p,n,ur(u,-1)).next(M=>M))})}Yi(e,n){let s=new Vi(mu(e));return n.forEach((u,d)=>{ra(e,d)&&(s=s.add(d))}),s}Zi(e,n,s,u){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Hi(e,n,s){return Ci()<=F.in.DEBUG&&tn("QueryEngine","Using full collection scan to execute query:",na(n)),this.Gi.getDocumentsMatchingQuery(e,n,Do.min(),s)}Xi(e,n,s,u){return this.Gi.getDocumentsMatchingQuery(e,s,u).next(d=>(n.forEach(p=>{d=d.insert(p.key,p)}),d))}}class Lm{constructor(e,n,s,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new xi(Cr),this.ns=new Hs(d=>Ds(d),fu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kh(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Bp(i,e,n,s){return new Lm(i,e,n,s)}function Kl(i,e){return Up.apply(this,arguments)}function Up(){return Up=(0,a.Z)(function*(i,e){const n=Xt(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let u;return n.mutationQueue.getAllMutationBatches(s).next(d=>(u=d,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(d=>{const p=[],M=[];let L=Ie();for(const X of u){p.push(X.batchId);for(const Ee of X.mutations)L=L.add(Ee.key)}for(const X of d){M.push(X.batchId);for(const Ee of X.mutations)L=L.add(Ee.key)}return n.localDocuments.getDocuments(s,L).next(X=>({_s:X,removedBatchIds:p,addedBatchIds:M}))})})}),Up.apply(this,arguments)}function bd(i){const e=Xt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Vh(i,e,n){let s=Ie(),u=Ie();return n.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let p=Mo();return n.forEach((M,L)=>{const X=d.get(M);L.isFoundDocument()!==X.isFoundDocument()&&(u=u.add(M)),L.isNoDocument()&&L.version.isEqual(Yn.min())?(e.removeEntry(M,L.readTime),p=p.insert(M,L)):!X.isValidDocument()||L.version.compareTo(X.version)>0||0===L.version.compareTo(X.version)&&X.hasPendingWrites?(e.addEntry(L),p=p.insert(M,L)):tn("LocalStore","Ignoring outdated watch update for ",M,". Current version:",X.version," Watch version:",L.version)}),{us:p,cs:u}})}function $h(i,e){const n=Xt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ds(i,e){const n=Xt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return n.qr.getTargetData(s,e).next(d=>d?(u=d,Mt.resolve(u)):n.qr.allocateTargetId(s).next(p=>(u=new ka(e,p,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=n.ts.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}function ua(i,e,n){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,a.Z)(function*(i,e,n){const s=Xt(i),u=s.ts.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!Po(p))throw p;tn("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.ts=s.ts.remove(e),s.ns.delete(u.target)}),Ad.apply(this,arguments)}function Bh(i,e,n){const s=Xt(i);let u=Yn.min(),d=Ie();return s.persistence.runTransaction("Execute query","readwrite",p=>function(L,X,Ee){const Je=Xt(L),gt=Je.ns.get(Ee);return void 0!==gt?Mt.resolve(Je.ts.get(gt)):Je.qr.getTargetData(X,Ee)}(s,p,jo(e)).next(M=>{if(M)return u=M.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(p,M.targetId).next(L=>{d=L})}).next(()=>s.es.getDocumentsMatchingQuery(p,e,n?u:Yn.min(),n?d:Ie())).next(M=>(Ru(s,rd(e),M),{documents:M,ls:d})))}function Vm(i,e){const n=Xt(i),s=Xt(n.qr),u=n.ts.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(p=>p?p.target:null))}function Hp(i,e){const n=Xt(i),s=n.rs.get(e)||Yn.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.ss.getAllFromCollectionGroup(u,e,ur(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Ru(n,e,u),u))}function Ru(i,e,n){let s=i.rs.get(e)||Yn.min();n.forEach((u,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.rs.set(e,s)}function zp(){return zp=(0,a.Z)(function*(i,e,n,s){const u=Xt(i);let d=Ie(),p=Mo();for(const X of n){const Ee=e.hs(X.metadata.name);X.document&&(d=d.add(Ee));const Je=e.Ps(X);Je.setReadTime(e.Is(X.metadata.readTime)),p=p.insert(Ee,Je)}const M=u.ss.newChangeBuffer({trackRemovals:!0}),L=yield ds(u,(Ee=s,jo(pu(ei.fromString(`__bundle__/docs/${Ee}`)))));var Ee;return u.persistence.runTransaction("Apply bundle documents","readwrite",X=>Vh(X,M,p).next(Ee=>(M.apply(X),Ee)).next(Ee=>u.qr.removeMatchingKeysForTargetId(X,L.targetId).next(()=>u.qr.addMatchingKeys(X,d,L.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(X,Ee.us,Ee.cs)).next(()=>Ee.us)))}),zp.apply(this,arguments)}function Fv(i,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,a.Z)(function*(i,e,n=Ie()){const s=yield ds(i,jo(pd(e.bundledQuery))),u=Xt(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const p=fo(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return u.Kr.saveNamedQuery(d,e);const M=s.withResumeToken(Zi.EMPTY_BYTE_STRING,p);return u.ts=u.ts.insert(M.targetId,M),u.qr.updateTargetData(d,M).next(()=>u.qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>u.qr.addMatchingKeys(d,n,s.targetId)).next(()=>u.Kr.saveNamedQuery(d,e))})}),Sd.apply(this,arguments)}function Gp(i,e){return`firestore_clients_${i}_${e}`}function $m(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Uh(i,e){return`firestore_targets_${i}_${e}`}class mc{constructor(e,n,s,u){this.user=e,this.batchId=n,this.state=s,this.error=u}static Ts(e,n,s){const u=JSON.parse(s);let d,p="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return p&&u.error&&(p="string"==typeof u.error.message&&"string"==typeof u.error.code,p&&(d=new dn(u.error.code,u.error.message))),p?new mc(e,n,u.state,d):(di("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jh{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Ts(e,n){const s=JSON.parse(n);let u,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new dn(s.error.code,s.error.message))),d?new jh(e,s.state,u):(di("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const s=JSON.parse(n);let u="object"==typeof s&&s.activeTargetIds instanceof Array,d=jt();for(let p=0;u&&p<s.activeTargetIds.length;++p)u=ze(s.activeTargetIds[p]),d=d.add(s.activeTargetIds[p]);return u?new Wp(e,d):(di("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class qp{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new qp(n.clientId,n.onlineState):(di("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yp{constructor(){this.activeTargetIds=jt()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bm{constructor(e,n,s,u,d){this.window=e,this.si=n,this.persistenceKey=s,this.Rs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new xi(Cr),this.started=!1,this.ps=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ys=Gp(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Yp),this.Ss=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,a.Z)(function*(){const n=yield e.syncEngine.Bi();for(const u of n){if(u===e.Rs)continue;const d=e.getItem(Gp(e.persistenceKey,u));if(d){const p=Wp.Ts(u,d);p&&(e.gs=e.gs.insert(p.clientId,p))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const u=e.Ms(s);u&&e.xs(u)}for(const u of e.ps)e.fs(u);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((s,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,s){this.Ns(e,n,s),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Uh(this.persistenceKey,e));if(s){const u=jh.Ts(e,s);u&&(n=u.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Uh(this.persistenceKey,e))}updateQueryState(e,n,s){this.ks(e,n,s)}handleUserChange(e,n,s){n.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return tn("SharedClientState","READ",e,n),n}setItem(e,n){tn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){tn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(tn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,a.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ss.test(s.key)){if(null==s.newValue){const u=n.Ks(s.key);return n.$s(u,null)}{const u=n.Us(s.key,s.newValue);if(u)return n.$s(u.clientId,u)}}else if(n.bs.test(s.key)){if(null!==s.newValue){const u=n.Ws(s.key,s.newValue);if(u)return n.Gs(u)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const u=n.zs(s.key,s.newValue);if(u)return n.js(u)}}else if(s.key===n.Cs){if(null!==s.newValue){const u=n.Ms(s.newValue);if(u)return n.xs(u)}}else if(s.key===n.ws){const u=function(p){let M=T._e;if(null!=p)try{const L=JSON.parse(p);Bn("number"==typeof L),M=L}catch(L){di("SharedClientState","Failed to read sequence number from WebStorage",L)}return M}(s.newValue);u!==T._e&&n.sequenceNumberHandler(u)}else if(s.key===n.vs){const u=n.Hs(s.newValue);yield Promise.all(u.map(d=>n.syncEngine.Js(d)))}}else n.ps.push(s)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,s){const u=new mc(this.currentUser,e,n,s),d=$m(this.persistenceKey,this.currentUser,e);this.setItem(d,u.Es())}Bs(e){const n=$m(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,s){const u=Uh(this.persistenceKey,e),d=new jh(e,n,s);this.setItem(u,d.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const s=this.Ks(e);return Wp.Ts(s,n)}Ws(e,n){const s=this.bs.exec(e),u=Number(s[1]);return mc.Ts(new Hn(void 0!==s[2]?s[2]:null),u,n)}zs(e,n){const s=this.Ds.exec(e),u=Number(s[1]);return jh.Ts(u,n)}Ms(e){return qp.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,a.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);tn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const s=n?this.gs.insert(e,n):this.gs.remove(e),u=this.Os(this.gs),d=this.Os(s),p=[],M=[];return d.forEach(L=>{u.has(L)||p.push(L)}),u.forEach(L=>{d.has(L)||M.push(L)}),this.syncEngine.Xs(p,M).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=jt();return e.forEach((s,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class Lv{constructor(){this.eo=new Yp,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Yp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hh{ro(e){}shutdown(){}}class Um{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){tn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){tn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _c=null;function Rd(){return null===_c?_c=268435456+Math.round(2147483648*Math.random()):_c++,"0x"+_c.toString(16)}const vc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zh{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const xo="WebChannelConnection";class yc extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${u}/databases/${d}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${d}`}get yo(){return!1}wo(n,s,u,d,p){const M=Rd(),L=this.So(n,s);tn("RestConnection",`Sending RPC '${n}' ${M}:`,L,u);const X={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(X,d,p),this.Do(n,L,X,u).then(Ee=>(tn("RestConnection",`Received RPC '${n}' ${M}: `,Ee),Ee),Ee=>{throw wi("RestConnection",`RPC '${n}' ${M} failed with error: `,Ee,"url: ",L,"request:",u),Ee})}Co(n,s,u,d,p,M){return this.wo(n,s,u,d,p)}bo(n,s,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+ri,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,p)=>n[p]=d),u&&u.headers.forEach((d,p)=>n[p]=d)}So(n,s){return`${this.mo}/v1/${s}:${vc[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,u){const d=Rd();return new Promise((p,M)=>{const L=new _n;L.setWithCredentials(!0),L.listenOnce(Xe.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case H.NO_ERROR:const Ee=L.getResponseJson();tn(xo,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(Ee)),p(Ee);break;case H.TIMEOUT:tn(xo,`RPC '${e}' ${d} timed out`),M(new dn(Ut.DEADLINE_EXCEEDED,"Request time out"));break;case H.HTTP_ERROR:const Je=L.getStatus();if(tn(xo,`RPC '${e}' ${d} failed with status:`,Je,"response text:",L.getResponseText()),Je>0){let gt=L.getResponseJson();Array.isArray(gt)&&(gt=gt[0]);const Ft=null==gt?void 0:gt.error;if(Ft&&Ft.status&&Ft.message){const An=function(Fn){const vr=Fn.toLowerCase().replace(/_/g,"-");return Object.values(Ut).indexOf(vr)>=0?vr:Ut.UNKNOWN}(Ft.status);M(new dn(An,Ft.message))}else M(new dn(Ut.UNKNOWN,"Server responded with status "+L.getStatus()))}else M(new dn(Ut.UNAVAILABLE,"Connection failed."));break;default:Mn()}}finally{tn(xo,`RPC '${e}' ${d} completed.`)}});const X=JSON.stringify(u);tn(xo,`RPC '${e}' ${d} sending request:`,u),L.send(n,"POST",X,s,15)})}vo(e,n,s){const u=Rd(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=bl(),M=A(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;void 0!==X&&(L.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&(L.xmlHttpFactory=new lt({})),this.bo(L.initMessageHeaders,n,s),L.encodeInitMessageHeaders=!0;const Ee=d.join("");tn(xo,`Creating RPC '${e}' stream ${u}: ${Ee}`,L);const Je=p.createWebChannel(Ee,L);let gt=!1,Ft=!1;const An=new zh({co:Fn=>{Ft?tn(xo,`Not sending because RPC '${e}' stream ${u} is closed:`,Fn):(gt||(tn(xo,`Opening RPC '${e}' stream ${u} transport.`),Je.open(),gt=!0),tn(xo,`RPC '${e}' stream ${u} sending:`,Fn),Je.send(Fn))},lo:()=>Je.close()}),kn=(Fn,vr,Tr)=>{Fn.listen(vr,wr=>{try{Tr(wr)}catch(gr){setTimeout(()=>{throw gr},0)}})};return kn(Je,zt.EventType.OPEN,()=>{Ft||tn(xo,`RPC '${e}' stream ${u} transport opened.`)}),kn(Je,zt.EventType.CLOSE,()=>{Ft||(Ft=!0,tn(xo,`RPC '${e}' stream ${u} transport closed`),An.Ro())}),kn(Je,zt.EventType.ERROR,Fn=>{Ft||(Ft=!0,wi(xo,`RPC '${e}' stream ${u} transport errored:`,Fn),An.Ro(new dn(Ut.UNAVAILABLE,"The operation could not be completed")))}),kn(Je,zt.EventType.MESSAGE,Fn=>{var vr;if(!Ft){const Tr=Fn.data[0];Bn(!!Tr);const gr=Tr.error||(null===(vr=Tr[0])||void 0===vr?void 0:vr.error);if(gr){tn(xo,`RPC '${e}' stream ${u} received error:`,gr);const ji=gr.status;let Ni=function(qy){const Qg=To[qy];if(void 0!==Qg)return hm(Qg)}(ji),Vo=gr.message;void 0===Ni&&(Ni=Ut.INTERNAL,Vo="Unknown error status: "+ji+" with message "+gr.message),Ft=!0,An.Ro(new dn(Ni,Vo)),Je.close()}else tn(xo,`RPC '${e}' stream ${u} received:`,Tr),An.Vo(Tr)}}),kn(M,U.STAT_EVENT,Fn=>{Fn.stat===Fe.PROXY?tn(xo,`RPC '${e}' stream ${u} detected buffering proxy`):Fn.stat===Fe.NOPROXY&&tn(xo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{An.Ao()},0),An}}function Ec(){return typeof window<"u"?window:null}function gl(){return typeof document<"u"?document:null}function Pu(i){return new _v(i,!0)}class Ic{constructor(e,n,s=1e3,u=1.5,d=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=u,this.xo=d,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-s);u>0&&tn("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Cc{constructor(e,n,s,u,d,p,M,L){this.si=e,this.Ko=s,this.$o=u,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=M,this.listener=L,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ic(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,a.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,a.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var s=this;return(0,a.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():n&&n.code===Ut.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):n&&n.code===Ut.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Uo===n&&this.s_(s,u)},s=>{e(()=>{const u=new dn(Ut.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(u)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{s(()=>this.o_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,a.Z)(function*(){e.state=0,e.start()}))}o_(e){return tn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(tn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $0 extends Cc{constructor(e,n,s,u,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,u,p),this.serializer=d}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function yv(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(X=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:Mn(),u=e.targetChange.targetIds||[],d=function(X,Ee){return X.useProto3Json?(Bn(void 0===Ee||"string"==typeof Ee),Zi.fromBase64String(Ee||"")):(Bn(void 0===Ee||Ee instanceof Uint8Array),Zi.fromUint8Array(Ee||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,M=p&&function(X){const Ee=void 0===X.code?Ut.UNKNOWN:hm(X.code);return new dn(Ee,X.message||"")}(p);n=new fm(s,u,d,M||null)}else if("documentChange"in e){const s=e.documentChange,u=sa(i,s.document.name),d=fo(s.document.updateTime),p=s.document.createTime?fo(s.document.createTime):Yn.min(),M=new ho({mapValue:{fields:s.document.fields}}),L=$i.newFoundDocument(u,d,p,M);n=new wh(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,u=sa(i,s.document),d=s.readTime?fo(s.readTime):Yn.min(),p=$i.newNoDocument(u,d);n=new wh([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,u=sa(i,s.document);n=new wh([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Mn();{const s=e.filter,{count:u=0,unchangedNames:d}=s,p=new pv(u,d);n=new hp(s.targetId,p)}}var X;return n}(this.serializer,e),s=function(d){if(!("targetChange"in d))return Yn.min();const p=d.targetChange;return p.targetIds&&p.targetIds.length?Yn.min():p.readTime?fo(p.readTime):Yn.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=dd(this.serializer),n.addTarget=function(d,p){let M;const L=p.target;if(M=Jc(L)?{documents:Th(d,L)}:{query:vp(d,L)},M.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){M.resumeToken=gm(d,p.resumeToken);const X=yu(d,p.expectedCount);null!==X&&(M.expectedCount=X)}else if(p.snapshotVersion.compareTo(Yn.min())>0){M.readTime=uc(d,p.snapshotVersion.toTimestamp());const X=yu(d,p.expectedCount);null!==X&&(M.expectedCount=X)}return M}(this.serializer,e);const s=function yp(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=dd(this.serializer),n.removeTarget=e,this.e_(n)}}class Kp extends Cc{constructor(e,n,s,u,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,u,p),this.serializer=d,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function _p(i,e){return i&&i.length>0?(Bn(void 0!==e),i.map(n=>function(u,d){let p=fo(u.updateTime?u.updateTime:d);return p.isEqual(Yn.min())&&(p=fo(d)),new _h(p,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=fo(e.commitTime);return this.listener.I_(s,n)}return Bn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=dd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>cc(this.serializer,s))};this.e_(n)}}class Pd extends class{}{constructor(e,n,s,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new dn(Ut.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.wo(e,n,s,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dn(Ut.UNKNOWN,u.toString())})}Co(e,n,s,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,n,s,d,p,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dn(Ut.UNKNOWN,d.toString())})}terminate(){this.d_=!0}}class $v{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(di(n),this.f_=!1):tn("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Bv{constructor(e,n,s,u,d){var p=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=d,this.F_.ro(M=>{s.enqueueAndForget((0,a.Z)(function*(){var L;Va(p)&&(tn("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,a.Z)(function*(Ee){const Je=Xt(Ee);Je.C_.add(4),yield wc(Je),Je.M_.set("Unknown"),Je.C_.delete(4),yield Mu(Je)}),function X(Ee){return L.apply(this,arguments)})(p))}))}),this.M_=new $v(s,u)}}function Mu(i){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,a.Z)(function*(i){if(Va(i))for(const e of i.v_)yield e(!0)}),Wh.apply(this,arguments)}function wc(i){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,a.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Zp.apply(this,arguments)}function Qp(i,e){const n=Xt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Yh(n)?Xp(n):Tc(n).Ho()&&Dc(n,e))}function Md(i,e){const n=Xt(i),s=Tc(n);n.D_.delete(e),s.Ho()&&qh(n,e),0===n.D_.size&&(s.Ho()?s.Zo():Va(n)&&n.M_.set("Unknown"))}function Dc(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Yn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tc(i).u_(e)}function qh(i,e){i.x_.Oe(e),Tc(i).c_(e)}function Xp(i){i.x_=new gv({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Tc(i).start(),i.M_.g_()}function Yh(i){return Va(i)&&!Tc(i).jo()&&i.D_.size>0}function Va(i){return 0===Xt(i).C_.size}function xd(i){i.x_=void 0}function Uv(i){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,a.Z)(function*(i){i.D_.forEach((e,n)=>{Dc(i,e)})}),Kh.apply(this,arguments)}function jv(i,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,a.Z)(function*(i,e){xd(i),Yh(i)?(i.M_.w_(e),Xp(i)):i.M_.set("Unknown")}),Zh.apply(this,arguments)}function B0(i,e,n){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,a.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof fm&&2===e.state&&e.cause)try{yield(s=(0,a.Z)(function*(d,p){const M=p.cause;for(const L of p.targetIds)d.D_.has(L)&&(yield d.remoteSyncer.rejectListen(L,M),d.D_.delete(L),d.x_.removeTarget(L))}),function u(d,p){return s.apply(this,arguments)})(i,e)}catch(s){tn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield xu(i,s)}else if(e instanceof wh?i.x_.$e(e):e instanceof hp?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(Yn.min()))try{const s=yield bd(i.localStore);n.compareTo(s)>=0&&(yield function(d,p){const M=d.x_.it(p);return M.targetChanges.forEach((L,X)=>{if(L.resumeToken.approximateByteSize()>0){const Ee=d.D_.get(X);Ee&&d.D_.set(X,Ee.withResumeToken(L.resumeToken,p))}}),M.targetMismatches.forEach((L,X)=>{const Ee=d.D_.get(L);if(!Ee)return;d.D_.set(L,Ee.withResumeToken(Zi.EMPTY_BYTE_STRING,Ee.snapshotVersion)),qh(d,L);const Je=new ka(Ee.target,L,X,Ee.sequenceNumber);Dc(d,Je)}),d.remoteSyncer.applyRemoteEvent(M)}(i,n))}catch(s){tn("RemoteStore","Failed to raise snapshot:",s),yield xu(i,s)}var s}),Jp.apply(this,arguments)}function xu(i,e,n){return eg.apply(this,arguments)}function eg(){return eg=(0,a.Z)(function*(i,e,n){if(!Po(e))throw e;i.C_.add(1),yield wc(i),i.M_.set("Offline"),n||(n=()=>bd(i.localStore)),i.asyncQueue.enqueueRetryable((0,a.Z)(function*(){tn("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield Mu(i)}))}),eg.apply(this,arguments)}function Ou(i,e){return e().catch(n=>xu(i,n,e))}function $a(i){return tg.apply(this,arguments)}function tg(){return tg=(0,a.Z)(function*(i){const e=Xt(i),n=Zl(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;jm(e);)try{const u=yield $h(e.localStore,s);if(null===u){0===e.b_.length&&n.Zo();break}s=u.batchId,Hv(e,u)}catch(u){yield xu(e,u)}Hm(e)&&zm(e)}),tg.apply(this,arguments)}function jm(i){return Va(i)&&i.b_.length<10}function Hv(i,e){i.b_.push(e);const n=Zl(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function Hm(i){return Va(i)&&!Zl(i).jo()&&i.b_.length>0}function zm(i){Zl(i).start()}function Gm(i){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,a.Z)(function*(i){Zl(i).E_()}),Qh.apply(this,arguments)}function ng(i){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,a.Z)(function*(i){const e=Zl(i);for(const n of i.b_)e.P_(n.mutations)}),Wm.apply(this,arguments)}function rg(i,e,n){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,a.Z)(function*(i,e,n){const s=i.b_.shift(),u=ap.from(s,e,n);yield Ou(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield $a(i)}),Xh.apply(this,arguments)}function zv(i,e){return ig.apply(this,arguments)}function ig(){return ig=(0,a.Z)(function*(i,e){var n;e&&Zl(i).h_&&(yield(n=(0,a.Z)(function*(u,d){if(up(M=d.code)&&M!==Ut.ABORTED){const p=u.b_.shift();Zl(u).Yo(),yield Ou(u,()=>u.remoteSyncer.rejectFailedWrite(p.batchId,d)),yield $a(u)}var M}),function s(u,d){return n.apply(this,arguments)})(i,e)),Hm(i)&&zm(i)}),ig.apply(this,arguments)}function og(i,e){return sg.apply(this,arguments)}function sg(){return sg=(0,a.Z)(function*(i,e){const n=Xt(i);n.asyncQueue.verifyOperationInProgress(),tn("RemoteStore","RemoteStore received new credentials");const s=Va(n);n.C_.add(3),yield wc(n),s&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Mu(n)}),sg.apply(this,arguments)}function Jh(i,e){return ag.apply(this,arguments)}function ag(){return ag=(0,a.Z)(function*(i,e){const n=Xt(i);e?(n.C_.delete(2),yield Mu(n)):e||(n.C_.add(2),yield wc(n),n.M_.set("Unknown"))}),ag.apply(this,arguments)}function Tc(i){return i.O_||(i.O_=function(n,s,u){const d=Xt(n);return d.A_(),new $0(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)}(i.datastore,i.asyncQueue,{ho:Uv.bind(null,i),Io:jv.bind(null,i),a_:B0.bind(null,i)}),i.v_.push(function(){var e=(0,a.Z)(function*(n){n?(i.O_.Yo(),Yh(i)?Xp(i):i.M_.set("Unknown")):(yield i.O_.stop(),xd(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function Zl(i){return i.N_||(i.N_=function(n,s,u){const d=Xt(n);return d.A_(),new Kp(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)}(i.datastore,i.asyncQueue,{ho:Gm.bind(null,i),Io:zv.bind(null,i),T_:ng.bind(null,i),I_:rg.bind(null,i)}),i.v_.push(function(){var e=(0,a.Z)(function*(n){n?(i.N_.Yo(),yield $a(i)):(yield i.N_.stop(),i.b_.length>0&&(tn("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class ef{constructor(e,n,s,u,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=u,this.removalCallback=d,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,u,d){const p=Date.now()+s,M=new ef(e,n,p,u,d);return M.start(s),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dn(Ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nu(i,e){if(di("AsyncQueue",`${e}: ${i}`),Po(i))return new dn(Ut.UNAVAILABLE,`${e}: ${i}`);throw i}class es{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Vn.comparator(n.key,s.key):(n,s)=>Vn.comparator(n.key,s.key),this.keyedMap=_u(),this.sortedSet=new xi(this.comparator)}static emptySet(e){return new es(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof es)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=s.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new es;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class lg{constructor(){this.B_=new xi(Vn.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Mn():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Od{constructor(e,n,s,u,d,p,M,L,X){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=M,this.excludesMetadataChanges=L,this.hasCachedResults=X}static fromInitialDocuments(e,n,s,u,d){const p=[];return n.forEach(M=>{p.push({type:0,doc:M})}),new Od(e,n,es.emptySet(n),p,s,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ta(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==s[u].type||!n[u].doc.isEqual(s[u].doc))return!1;return!0}}class ug{constructor(){this.k_=void 0,this.listeners=[]}}class Ql{constructor(){this.queries=new Hs(e=>Ll(e),ta),this.onlineState="Unknown",this.q_=new Set}}function Nd(i,e){return cg.apply(this,arguments)}function cg(){return cg=(0,a.Z)(function*(i,e){const n=Xt(i),s=e.query;let u=!1,d=n.queries.get(s);if(d||(u=!0,d=new ug),u)try{d.k_=yield n.onListen(s)}catch(p){const M=Nu(p,`Initialization of query '${na(e.query)}' failed`);return void e.onError(M)}n.queries.set(s,d),d.listeners.push(e),e.Q_(n.onlineState),d.k_&&e.K_(d.k_)&&tf(n)}),cg.apply(this,arguments)}function qm(i,e){return dg.apply(this,arguments)}function dg(){return dg=(0,a.Z)(function*(i,e){const n=Xt(i),s=e.query;let u=!1;const d=n.queries.get(s);if(d){const p=d.listeners.indexOf(e);p>=0&&(d.listeners.splice(p,1),u=0===d.listeners.length)}if(u)return n.queries.delete(s),n.onUnlisten(s)}),dg.apply(this,arguments)}function hg(i,e){const n=Xt(i);let s=!1;for(const u of e){const p=n.queries.get(u.query);if(p){for(const M of p.listeners)M.K_(u)&&(s=!0);p.k_=u}}s&&tf(n)}function Ba(i,e,n){const s=Xt(i),u=s.queries.get(e);if(u)for(const d of u.listeners)d.onError(n);s.queries.delete(e)}function tf(i){i.q_.forEach(e=>{e.next()})}class fg{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Od(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class U0{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class Oo{constructor(e){this.serializer=e}hs(e){return sa(this.serializer,e)}Ps(e){return e.metadata.exists?ym(this.serializer,e.document,!1):$i.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return fo(e)}}class Gv{constructor(e,n,s){this.X_=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nf(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const s=ei.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,s=new Oo(this.serializer);for(const u of e)if(u.metadata.queries){const d=s.hs(u.metadata.name);for(const p of u.metadata.queries){const M=(n.get(p)||Ie()).add(d);n.set(p,M)}}return n}complete(){var e=this;return(0,a.Z)(function*(){const n=yield function kv(i,e,n,s){return zp.apply(this,arguments)}(e.localStore,new Oo(e.serializer),e.documents,e.X_.id),s=e.ta(e.documents);for(const u of e.queries)yield Fv(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function nf(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Ym{constructor(e){this.key=e}}class Km{constructor(e){this.key=e}}class rf{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ie(),this.mutatedKeys=Ie(),this._a=mu(e),this.aa=new es(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new lg,u=n?n.aa:this.aa;let d=n?n.mutatedKeys:this.mutatedKeys,p=u,M=!1;const L="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,X="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Ee,Je)=>{const gt=u.get(Ee),Ft=ra(this.query,Je)?Je:null,An=!!gt&&this.mutatedKeys.has(gt.key),kn=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let Fn=!1;gt&&Ft?gt.data.isEqual(Ft.data)?An!==kn&&(s.track({type:3,doc:Ft}),Fn=!0):this.ha(gt,Ft)||(s.track({type:2,doc:Ft}),Fn=!0,(L&&this._a(Ft,L)>0||X&&this._a(Ft,X)<0)&&(M=!0)):!gt&&Ft?(s.track({type:0,doc:Ft}),Fn=!0):gt&&!Ft&&(s.track({type:1,doc:gt}),Fn=!0,(L||X)&&(M=!0)),Fn&&(Ft?(p=p.add(Ft),d=kn?d.add(Ee):d.delete(Ee)):(p=p.delete(Ee),d=d.delete(Ee)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const Ee="F"===this.query.limitType?p.last():p.first();p=p.delete(Ee.key),d=d.delete(Ee.key),s.track({type:1,doc:Ee})}return{aa:p,la:s,Zi:M,mutatedKeys:d}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const d=e.la.L_();d.sort((X,Ee)=>function(gt,Ft){const An=kn=>{switch(kn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mn()}};return An(gt)-An(Ft)}(X.type,Ee.type)||this._a(X.doc,Ee.doc)),this.Pa(s);const p=n?this.Ia():[],M=0===this.oa.size&&this.current?1:0,L=M!==this.sa;return this.sa=M,0!==d.length||L?{snapshot:new Od(this.query,e.aa,u,d,e.mutatedKeys,0===M,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:p}:{Ta:p}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new lg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ie(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new Km(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new Ym(s))}),n}da(e){this.ia=e.ls,this.oa=Ie();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Od.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Zm{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Qm{constructor(e){this.key=e,this.Ra=!1}}class Wv{constructor(e,n,s,u,d,p){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.Va={},this.ma=new Hs(M=>Ll(M),ta),this.fa=new Map,this.ga=new Set,this.pa=new xi(Vn.comparator),this.ya=new Map,this.wa=new Fp,this.Sa={},this.ba=new Map,this.Da=ql.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Xm(i,e){return sf.apply(this,arguments)}function sf(){return sf=(0,a.Z)(function*(i,e){const n=Vd(i);let s,u;const d=n.ma.get(e);if(d)s=d.targetId,n.sharedClientState.addLocalQueryTarget(s),u=d.view.Aa();else{const p=yield ds(n.localStore,jo(e)),M=n.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,u=yield pg(n,e,s,"current"===M,p.resumeToken),n.isPrimaryClient&&Qp(n.remoteStore,p)}return u}),sf.apply(this,arguments)}function pg(i,e,n,s,u){return gg.apply(this,arguments)}function gg(){return gg=(0,a.Z)(function*(i,e,n,s,u){i.va=(Je,gt,Ft)=>{return(An=(0,a.Z)(function*(Fn,vr,Tr,wr){let gr=vr.view.ca(Tr);gr.Zi&&(gr=yield Bh(Fn.localStore,vr.query,!1).then(({documents:Vo})=>vr.view.ca(Vo,gr)));const ji=wr&&wr.targetChanges.get(vr.targetId),Ni=vr.view.applyChanges(gr,Fn.isPrimaryClient,ji);return n_(Fn,vr.targetId,Ni.Ta),Ni.snapshot}),function kn(Fn,vr,Tr,wr){return An.apply(this,arguments)})(i,Je,gt,Ft);var An};const d=yield Bh(i.localStore,e,!0),p=new rf(e,d.ls),M=p.ca(d.documents),L=lc.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,u),X=p.applyChanges(M,i.isPrimaryClient,L);n_(i,n,X.Ta);const Ee=new Zm(e,n,p);return i.ma.set(e,Ee),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),X.snapshot}),gg.apply(this,arguments)}function qv(i,e){return af.apply(this,arguments)}function af(){return af=(0,a.Z)(function*(i,e){const n=Xt(i),s=n.ma.get(e),u=n.fa.get(s.targetId);if(u.length>1)return n.fa.set(s.targetId,u.filter(d=>!ta(d,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ua(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Md(n.remoteStore,s.targetId),Ac(n,s.targetId)}).catch(mo))):(Ac(n,s.targetId),yield ua(n.localStore,s.targetId,!0))}),af.apply(this,arguments)}function ca(){return ca=(0,a.Z)(function*(i,e,n){const s=$d(i);try{const u=yield function(p,M){const L=Xt(p),X=Un.now(),Ee=M.reduce((Ft,An)=>Ft.add(An.key),Ie());let Je,gt;return L.persistence.runTransaction("Locally write mutations","readwrite",Ft=>{let An=Mo(),kn=Ie();return L.ss.getEntries(Ft,Ee).next(Fn=>{An=Fn,An.forEach((vr,Tr)=>{Tr.isValidDocument()||(kn=kn.add(vr))})}).next(()=>L.localDocuments.getOverlayedDocuments(Ft,An)).next(Fn=>{Je=Fn;const vr=[];for(const Tr of M){const wr=dm(Tr,Je.get(Tr.key).overlayedDocument);null!=wr&&vr.push(new Na(Tr.key,wr,Qc(wr.value.mapValue),Qi.exists(!0)))}return L.mutationQueue.addMutationBatch(Ft,X,vr,M)}).next(Fn=>{gt=Fn;const vr=Fn.applyToLocalDocumentSet(Je,kn);return L.documentOverlayCache.saveOverlays(Ft,Fn.batchId,vr)})}).then(()=>({batchId:gt.batchId,changes:gh(Je)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(p,M,L){let X=p.Sa[p.currentUser.toKey()];X||(X=new xi(Cr)),X=X.insert(M,L),p.Sa[p.currentUser.toKey()]=X}(s,u.batchId,n),yield Xl(s,u.changes),yield $a(s.remoteStore)}catch(u){const d=Nu(u,"Failed to persist write");n.reject(d)}}),ca.apply(this,arguments)}function ku(i,e){return mg.apply(this,arguments)}function mg(){return mg=(0,a.Z)(function*(i,e){const n=Xt(i);try{const s=yield function Nv(i,e){const n=Xt(i),s=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const M=[];e.targetChanges.forEach((Ee,Je)=>{const gt=u.get(Je);if(!gt)return;M.push(n.qr.removeMatchingKeys(d,Ee.removedDocuments,Je).next(()=>n.qr.addMatchingKeys(d,Ee.addedDocuments,Je)));let Ft=gt.withSequenceNumber(d.currentSequenceNumber);var kn,Fn,vr;null!==e.targetMismatches.get(Je)?Ft=Ft.withResumeToken(Zi.EMPTY_BYTE_STRING,Yn.min()).withLastLimboFreeSnapshotVersion(Yn.min()):Ee.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(Ee.resumeToken,s)),u=u.insert(Je,Ft),Fn=Ft,vr=Ee,(0===(kn=gt).resumeToken.approximateByteSize()||Fn.snapshotVersion.toMicroseconds()-kn.snapshotVersion.toMicroseconds()>=3e8||vr.addedDocuments.size+vr.modifiedDocuments.size+vr.removedDocuments.size>0)&&M.push(n.qr.updateTargetData(d,Ft))});let L=Mo(),X=Ie();if(e.documentUpdates.forEach(Ee=>{e.resolvedLimboDocuments.has(Ee)&&M.push(n.persistence.referenceDelegate.updateLimboDocument(d,Ee))}),M.push(Vh(d,p,e.documentUpdates).next(Ee=>{L=Ee.us,X=Ee.cs})),!s.isEqual(Yn.min())){const Ee=n.qr.getLastRemoteSnapshotVersion(d).next(Je=>n.qr.setTargetsMetadata(d,d.currentSequenceNumber,s));M.push(Ee)}return Mt.waitFor(M).next(()=>p.apply(d)).next(()=>n.localDocuments.getLocalViewOfDocuments(d,L,X)).next(()=>L)}).then(d=>(n.ts=u,d))}(n.localStore,e);e.targetChanges.forEach((u,d)=>{const p=n.ya.get(d);p&&(Bn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.Ra=!0:u.modifiedDocuments.size>0?Bn(p.Ra):u.removedDocuments.size>0&&(Bn(p.Ra),p.Ra=!1))}),yield Xl(n,s,e)}catch(s){yield mo(s)}}),mg.apply(this,arguments)}function Jm(i,e,n){const s=Xt(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const u=[];s.ma.forEach((d,p)=>{const M=p.view.Q_(e);M.snapshot&&u.push(M.snapshot)}),function(p,M){const L=Xt(p);L.onlineState=M;let X=!1;L.queries.forEach((Ee,Je)=>{for(const gt of Je.listeners)gt.Q_(M)&&(X=!0)}),X&&tf(L)}(s.eventManager,e),u.length&&s.Va.a_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function e_(i,e,n){return lf.apply(this,arguments)}function lf(){return lf=(0,a.Z)(function*(i,e,n){const s=Xt(i);s.sharedClientState.updateQueryState(e,"rejected",n);const u=s.ya.get(e),d=u&&u.key;if(d){let p=new xi(Vn.comparator);p=p.insert(d,$i.newNoDocument(d,Yn.min()));const M=Ie().add(d),L=new ac(Yn.min(),new Map,new xi(Cr),p,M);yield ku(s,L),s.pa=s.pa.remove(d),s.ya.delete(e),r_(s)}else yield ua(s.localStore,e,!1).then(()=>Ac(s,e,n)).catch(mo)}),lf.apply(this,arguments)}function _g(i,e){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,a.Z)(function*(i,e){const n=Xt(i),s=e.batch.batchId;try{const u=yield function jp(i,e){const n=Xt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),d=n.ss.newChangeBuffer({trackRemovals:!0});return function(M,L,X,Ee){const Je=X.batch,gt=Je.keys();let Ft=Mt.resolve();return gt.forEach(An=>{Ft=Ft.next(()=>Ee.getEntry(L,An)).next(kn=>{const Fn=X.docVersions.get(An);Bn(null!==Fn),kn.version.compareTo(Fn)<0&&(Je.applyToRemoteDocument(kn,X),kn.isValidDocument()&&(kn.setReadTime(X.commitVersion),Ee.addEntry(kn)))})}),Ft.next(()=>M.mutationQueue.removeMutationBatch(L,Je))}(n,s,e,d).next(()=>d.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(M){let L=Ie();for(let X=0;X<M.mutationResults.length;++X)M.mutationResults[X].transformResults.length>0&&(L=L.add(M.batch.mutations[X].key));return L}(e))).next(()=>n.localDocuments.getDocuments(s,u))})}(n.localStore,e);Eg(n,s,null),yg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Xl(n,u)}catch(u){yield mo(u)}}),Fu.apply(this,arguments)}function uf(i,e,n){return cf.apply(this,arguments)}function cf(){return cf=(0,a.Z)(function*(i,e,n){const s=Xt(i);try{const u=yield function(p,M){const L=Xt(p);return L.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let Ee;return L.mutationQueue.lookupMutationBatch(X,M).next(Je=>(Bn(null!==Je),Ee=Je.keys(),L.mutationQueue.removeMutationBatch(X,Je))).next(()=>L.mutationQueue.performConsistencyCheck(X)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(X,Ee,M)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(X,Ee)).next(()=>L.localDocuments.getDocuments(X,Ee))})}(s.localStore,e);Eg(s,e,n),yg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield Xl(s,u)}catch(u){yield mo(u)}}),cf.apply(this,arguments)}function vg(){return vg=(0,a.Z)(function*(i,e){const n=Xt(i);Va(n.remoteStore)||tn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const M=Xt(p);return M.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>M.mutationQueue.getHighestUnacknowledgedBatchId(L))}(n.localStore);if(-1===s)return void e.resolve();const u=n.ba.get(s)||[];u.push(e),n.ba.set(s,u)}catch(s){const u=Nu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),vg.apply(this,arguments)}function yg(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function Eg(i,e,n){const s=Xt(i);let u=s.Sa[s.currentUser.toKey()];if(u){const d=u.get(e);d&&(n?d.reject(n):d.resolve(),u=u.remove(e)),s.Sa[s.currentUser.toKey()]=u}}function Ac(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.fa.get(e))i.ma.delete(s),n&&i.Va.Fa(s,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(s=>{i.wa.containsKey(s)||Ig(i,s)})}function Ig(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Md(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),r_(i))}function n_(i,e,n){for(const s of n)s instanceof Ym?(i.wa.addReference(s.key,e),Yv(i,s)):s instanceof Km?(tn("SyncEngine","Document no longer in limbo: "+s.key),i.wa.removeReference(s.key,e),i.wa.containsKey(s.key)||Ig(i,s.key)):Mn()}function Yv(i,e){const n=e.key,s=n.path.canonicalString();i.pa.get(n)||i.ga.has(s)||(tn("SyncEngine","New document in limbo: "+n),i.ga.add(s),r_(i))}function r_(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new Vn(ei.fromString(e)),s=i.Da.next();i.ya.set(s,new Qm(n)),i.pa=i.pa.insert(n,s),Qp(i.remoteStore,new ka(jo(pu(n.path)),s,"TargetPurposeLimboResolution",T._e))}}function Xl(i,e,n){return df.apply(this,arguments)}function df(){return df=(0,a.Z)(function*(i,e,n){const s=Xt(i),u=[],d=[],p=[];var M;s.ma.isEmpty()||(s.ma.forEach((M,L)=>{p.push(s.va(L,e,n).then(X=>{if((X||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,null!=X&&X.fromCache?"not-current":"current"),X){u.push(X);const Ee=Td.Qi(L.targetId,X);d.push(Ee)}}))}),yield Promise.all(p),s.Va.a_(u),yield(M=(0,a.Z)(function*(X,Ee){const Je=Xt(X);try{yield Je.persistence.runTransaction("notifyLocalViewChanges","readwrite",gt=>Mt.forEach(Ee,Ft=>Mt.forEach(Ft.ki,An=>Je.persistence.referenceDelegate.addReference(gt,Ft.targetId,An)).next(()=>Mt.forEach(Ft.qi,An=>Je.persistence.referenceDelegate.removeReference(gt,Ft.targetId,An)))))}catch(gt){if(!Po(gt))throw gt;tn("LocalStore","Failed to update sequence numbers: "+gt)}for(const gt of Ee){const Ft=gt.targetId;if(!gt.fromCache){const An=Je.ts.get(Ft),Fn=An.withLastLimboFreeSnapshotVersion(An.snapshotVersion);Je.ts=Je.ts.insert(Ft,Fn)}}}),function L(X,Ee){return M.apply(this,arguments)})(s.localStore,d))}),df.apply(this,arguments)}function i_(i,e){return o_.apply(this,arguments)}function o_(){return o_=(0,a.Z)(function*(i,e){const n=Xt(i);if(!n.currentUser.isEqual(e)){tn("SyncEngine","User change. New user:",e.toKey());const s=yield Kl(n.localStore,e);n.currentUser=e,(d=n).ba.forEach(M=>{M.forEach(L=>{L.reject(new dn(Ut.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ba.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Xl(n,s._s)}var d}),o_.apply(this,arguments)}function kd(i,e){const n=Xt(i),s=n.ya.get(e);if(s&&s.Ra)return Ie().add(s.key);{let u=Ie();const d=n.fa.get(e);if(!d)return u;for(const p of d){const M=n.ma.get(p);u=u.unionWith(M.view.ua)}return u}}function s_(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,a.Z)(function*(i,e){const n=Xt(i),s=yield Bh(n.localStore,e.query,!0),u=e.view.da(s);return n.isPrimaryClient&&n_(n,e.targetId,u.Ta),u}),hf.apply(this,arguments)}function Kv(i,e){return ff.apply(this,arguments)}function ff(){return ff=(0,a.Z)(function*(i,e){const n=Xt(i);return Hp(n.localStore,e).then(s=>Xl(n,s))}),ff.apply(this,arguments)}function a_(i,e,n,s){return $r.apply(this,arguments)}function $r(){return $r=(0,a.Z)(function*(i,e,n,s){const u=Xt(i),d=yield function(M,L){const X=Xt(M),Ee=Xt(X.mutationQueue);return X.persistence.runTransaction("Lookup mutation documents","readonly",Je=>Ee.Cn(Je,L).next(gt=>gt?X.localDocuments.getDocuments(Je,gt):Mt.resolve(null)))}(u.localStore,e);var L;null!==d?("pending"===n?yield $a(u.remoteStore):"acknowledged"===n||"rejected"===n?(Eg(u,e,s||null),yg(u,e),L=e,Xt(Xt(u.localStore).mutationQueue).Fn(L)):Mn(),yield Xl(u,d)):tn("SyncEngine","Cannot apply mutation batch with id: "+e)}),$r.apply(this,arguments)}function pf(){return pf=(0,a.Z)(function*(i,e){const n=Xt(i);if(Vd(n),$d(n),!0===e&&!0!==n.Ca){const s=n.sharedClientState.getAllActiveQueryTargets(),u=yield Lu(n,s.toArray());n.Ca=!0,yield Jh(n.remoteStore,!0);for(const d of u)Qp(n.remoteStore,d)}else if(!1===e&&!1!==n.Ca){const s=[];let u=Promise.resolve();n.fa.forEach((d,p)=>{n.sharedClientState.isLocalQueryTarget(p)?s.push(p):u=u.then(()=>(Ac(n,p),ua(n.localStore,p,!0))),Md(n.remoteStore,p)}),yield u,yield Lu(n,s),function(p){const M=Xt(p);M.ya.forEach((L,X)=>{Md(M.remoteStore,X)}),M.wa.Vr(),M.ya=new Map,M.pa=new xi(Vn.comparator)}(n),n.Ca=!1,yield Jh(n.remoteStore,!1)}}),pf.apply(this,arguments)}function Lu(i,e,n){return gf.apply(this,arguments)}function gf(){return gf=(0,a.Z)(function*(i,e,n){const s=Xt(i),u=[],d=[];for(const p of e){let M;const L=s.fa.get(p);if(L&&0!==L.length){M=yield ds(s.localStore,jo(L[0]));for(const X of L){const Ee=s.ma.get(X),Je=yield s_(s,Ee);Je.snapshot&&d.push(Je.snapshot)}}else{const X=yield Vm(s.localStore,p);M=yield ds(s.localStore,X),yield pg(s,u_(X),p,!1,M.resumeToken)}u.push(M)}return s.Va.a_(d),u}),gf.apply(this,arguments)}function u_(i){return ea(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function mf(i){return n=Xt(i).localStore,Xt(Xt(n).persistence).Bi();var n}function Sc(i,e,n,s){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,a.Z)(function*(i,e,n,s){const u=Xt(i);if(u.Ca)return void tn("SyncEngine","Ignoring unexpected query state notification.");const d=u.fa.get(e);if(d&&d.length>0)switch(n){case"current":case"not-current":{const p=yield Hp(u.localStore,rd(d[0])),M=ac.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Zi.EMPTY_BYTE_STRING);yield Xl(u,p,M);break}case"rejected":yield ua(u.localStore,e,!0),Ac(u,e,s);break;default:Mn()}}),Fd.apply(this,arguments)}function Ld(i,e,n){return _f.apply(this,arguments)}function _f(){return _f=(0,a.Z)(function*(i,e,n){const s=Vd(i);if(s.Ca){for(const u of e){if(s.fa.has(u)){tn("SyncEngine","Adding an already active target "+u);continue}const d=yield Vm(s.localStore,u),p=yield ds(s.localStore,d);yield pg(s,u_(d),p.targetId,!1,p.resumeToken),Qp(s.remoteStore,p)}for(const u of n)s.fa.has(u)&&(yield ua(s.localStore,u,!1).then(()=>{Md(s.remoteStore,u),Ac(s,u)}).catch(mo))}}),_f.apply(this,arguments)}function Vd(i){const e=Xt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ku.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e_.bind(null,e),e.Va.a_=hg.bind(null,e.eventManager),e.Va.Fa=Ba.bind(null,e.eventManager),e}function $d(i){const e=Xt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_g.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uf.bind(null,e),e}class Rc{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,a.Z)(function*(){n.serializer=Pu(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Bp(this.persistence,new Lh,e.initialUser,this.serializer)}createPersistence(e){return new Au(wd.jr,this.serializer)}createSharedClientState(e){return new Lv}terminate(){var e=this;return(0,a.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Dg extends Rc{constructor(e,n,s){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,a.Z)(function*(){yield n().call(s,e),yield s.xa.initialize(s,e),yield $d(s.xa.syncEngine),yield $a(s.xa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Bp(this.persistence,new Lh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Av(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new k(n,this.persistence);return new P(e.asyncQueue,s)}createPersistence(e){const n=Fm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Xo.withCacheSize(this.cacheSizeBytes):Xo.DEFAULT;return new Fh(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,Ec(),gl(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Lv}}class c_ extends Dg{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,a.Z)(function*(){yield n().call(s,e);const u=s.xa.syncEngine;s.sharedClientState instanceof Bm&&(s.sharedClientState.syncEngine={Ys:a_.bind(null,u),Zs:Sc.bind(null,u),Xs:Ld.bind(null,u),Bi:mf.bind(null,u),Js:Kv.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var d=(0,a.Z)(function*(p){yield function l_(i,e){return pf.apply(this,arguments)}(s.xa.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Ec();if(!Bm.D(n))throw new dn(Ut.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Fm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bm(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class Pc{initialize(e,n){var s=this;return(0,a.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Jm(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=i_.bind(null,s.syncEngine),yield Jh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ql}createDatastore(e){const n=Pu(e.databaseInfo.databaseId),s=new yc(e.databaseInfo);return new Pd(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,u=this.datastore,d=e.asyncQueue,p=n=>Jm(this.syncEngine,n,0),M=Um.D()?new Um:new Hh,new Bv(s,u,d,p,M);var s,u,d,p,M}createSyncEngine(e,n){return function(u,d,p,M,L,X,Ee){const Je=new Wv(u,d,p,M,L,X);return Ee&&(Je.Ca=!0),Je}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,a.Z)(function*(s){const u=Xt(s);tn("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield wc(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(s){return e.apply(this,arguments)})(this.remoteStore);var e}}function Tg(i,e=10240){let n=0;return{read:()=>(0,a.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,a.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Zv{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new ii,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(s=>{s&&s.Z_()?this.metadata.resolve(s.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Y_)}`))},s=>this.metadata.reject(s))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,a.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,a.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,a.Z)(function*(){const n=yield e.qa();if(null===n)return null;const s=e.La.decode(n),u=Number(s);isNaN(u)&&e.Qa(`length string (${s}) is not valid number`);const d=yield e.Ka(u);return new U0(JSON.parse(d),n.length+u)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,a.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ka(e){var n=this;return(0,a.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const s=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,a.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class Qv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,a.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new dn(Ut.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(u=(0,a.Z)(function*(p,M){const L=Xt(p),X=dd(L.serializer)+"/documents",Ee={documents:M.map(An=>Ul(L.serializer,An))},Je=yield L.Co("BatchGetDocuments",X,Ee,M.length),gt=new Map;Je.forEach(An=>{const kn=function vv(i,e){return"found"in e?function(s,u){Bn(!!u.found);const d=sa(s,u.found.name),p=fo(u.found.updateTime),M=u.found.createTime?fo(u.found.createTime):Yn.min(),L=new ho({mapValue:{fields:u.found.fields}});return $i.newFoundDocument(d,p,M,L)}(i,e):"missing"in e?function(s,u){Bn(!!u.missing),Bn(!!u.readTime);const d=sa(s,u.missing),p=fo(u.readTime);return $i.newNoDocument(d,p)}(i,e):Mn()}(L.serializer,An);gt.set(kn.key.toString(),kn)});const Ft=[];return M.forEach(An=>{const kn=gt.get(An.toString());Bn(!!kn),Ft.push(kn)}),Ft}),function d(p,M){return u.apply(this,arguments)})(n.datastore,e);var u;return s.forEach(u=>n.recordVersion(u)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ul(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,a.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,u)=>{const d=Vn.fromPath(u);e.mutations.push(new op(d,e.precondition(d)))}),yield(s=(0,a.Z)(function*(d,p){const M=Xt(d),L=dd(M.serializer)+"/documents",X={writes:p.map(Ee=>cc(M.serializer,Ee))};yield M.wo("Commit",L,X)}),function u(d,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Mn();n=Yn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new dn(Ut.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Yn.min())?Qi.exists(!1):Qi.updateTime(n):Qi.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Yn.min()))throw new dn(Ut.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qi.updateTime(n)}return Qi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Xv{constructor(e,n,s,u,d){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=u,this.deferred=d,this.Wa=s.maxAttempts,this.zo=new Ic(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,a.Z)(function*(){const n=new Qv(e.datastore),s=e.za(n);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.ja(d)}))}).catch(u=>{e.ja(u)})}))}za(e){try{const n=this.updateFunction(e);return!B(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!up(n)}return!1}}class d_{constructor(e,n,s,u){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=u,this.user=Hn.UNAUTHENTICATED,this.clientId=rs.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,a.Z)(function*(M){tn("FirestoreClient","Received user=",M.uid),yield d.authCredentialListener(M),d.user=M});return function(M){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(tn("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,a.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dn(Ut.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,a.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const u=Nu(s,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Bd(i,e){return bg.apply(this,arguments)}function bg(){return bg=(0,a.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),tn("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,a.Z)(function*(d){s.isEqual(d)||(yield Kl(e.localStore,d),s=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),bg.apply(this,arguments)}function Ag(i,e){return hs.apply(this,arguments)}function hs(){return hs=(0,a.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Sg(i);tn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(n,s),i.setCredentialChangeListener(u=>og(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>og(e.remoteStore,d)),i._onlineComponents=e}),hs.apply(this,arguments)}function h_(i){return"FirebaseError"===i.name?i.code===Ut.FAILED_PRECONDITION||i.code===Ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Sg(i){return f_.apply(this,arguments)}function f_(){return f_=(0,a.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){tn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Bd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!h_(n))throw n;wi("Error using user provided cache. Falling back to memory cache: "+n),yield Bd(i,new Rc)}}else tn("FirestoreClient","Using default OfflineComponentProvider"),yield Bd(i,new Rc);return i._offlineComponents}),f_.apply(this,arguments)}function Mc(i){return yf.apply(this,arguments)}function yf(){return yf=(0,a.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(tn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ag(i,i._uninitializedComponentsProvider._online)):(tn("FirestoreClient","Using default OnlineComponentProvider"),yield Ag(i,new Pc))),i._onlineComponents}),yf.apply(this,arguments)}function p_(i){return Sg(i).then(e=>e.persistence)}function xc(i){return Sg(i).then(e=>e.localStore)}function g_(i){return Mc(i).then(e=>e.remoteStore)}function Ef(i){return Mc(i).then(e=>e.syncEngine)}function Oc(i){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,a.Z)(function*(i){const e=yield Mc(i),n=e.eventManager;return n.onListen=Xm.bind(null,e.syncEngine),n.onUnlisten=qv.bind(null,e.syncEngine),n}),Ud.apply(this,arguments)}function __(i,e,n={}){const s=new ii;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function(d,p,M,L,X){const Ee=new vf({next:gt=>{p.enqueueAndForget(()=>qm(d,Je));const Ft=gt.docs.has(M);!Ft&&gt.fromCache?X.reject(new dn(Ut.UNAVAILABLE,"Failed to get document because the client is offline.")):Ft&&gt.fromCache&&L&&"server"===L.source?X.reject(new dn(Ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(gt)},error:gt=>X.reject(gt)}),Je=new fg(pu(M.path),Ee,{includeMetadataChanges:!0,J_:!0});return Nd(d,Je)}(yield Oc(i),i.asyncQueue,e,n,s)})),s.promise}function da(i,e,n={}){const s=new ii;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function(d,p,M,L,X){const Ee=new vf({next:gt=>{p.enqueueAndForget(()=>qm(d,Je)),gt.fromCache&&"server"===L.source?X.reject(new dn(Ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):X.resolve(gt)},error:gt=>X.reject(gt)}),Je=new fg(M,Ee,{includeMetadataChanges:!0,J_:!0});return Nd(d,Je)}(yield Oc(i),i.asyncQueue,e,n,s)})),s.promise}function jd(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const If=new Map;function I_(i,e,n){if(!n)throw new dn(Ut.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Pg(i,e,n,s){if(!0===e&&!0===s)throw new dn(Ut.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Mg(i){if(!Vn.isDocumentKey(i))throw new dn(Ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function xg(i){if(Vn.isDocumentKey(i))throw new dn(Ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Hd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Mn()}function ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new dn(Ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hd(i);throw new dn(Ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ua(i,e){if(e<=0)throw new dn(Ut.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class C_{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new dn(Ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dn(Ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jd(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new dn(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new dn(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new dn(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,n,s,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dn(Ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dn(Ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Hc;switch(s.type){case"firstParty":return new iu(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dn(Ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=If.get(n);s&&(tn("ComponentProvider","Removing Datastore"),If.delete(n),s.terminate())}(this),Promise.resolve()}}function Cf(i,e,n,s={}){var u;const d=(i=ti(i,zd))._getSettings(),p=`${e}:${n}`;if("firestore.googleapis.com"!==d.host&&d.host!==p&&wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},d),{host:p,ssl:!1})),s.mockUserToken){let M,L;if("string"==typeof s.mockUserToken)M=s.mockUserToken,L=Hn.MOCK_USER;else{M=(0,Y.Sg)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const X=s.mockUserToken.sub||s.mockUserToken.user_id;if(!X)throw new dn(Ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new Hn(X)}i._authCredentials=new ya(new jc(M,L))}}class Ho{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class oo{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oo(this.firestore,e,this._key)}}class ja extends Ho{constructor(e,n,s){super(e,n,pu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oo(this.firestore,null,new Vn(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function wf(i,e,...n){if(i=(0,Y.m9)(i),I_("collection","path",e),i instanceof zd){const s=ei.fromString(e,...n);return xg(s),new ja(i,null,s)}{if(!(i instanceof oo||i instanceof ja))throw new dn(Ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ei.fromString(e,...n));return xg(s),new ja(i.firestore,null,s)}}function Gd(i,e){if(i=ti(i,zd),I_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dn(Ut.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ho(i,null,(s=e,new us(ei.emptyPath(),s)));var s}function Og(i,e,...n){if(i=(0,Y.m9)(i),1===arguments.length&&(e=rs.newId()),I_("doc","path",e),i instanceof zd){const s=ei.fromString(e,...n);return Mg(s),new oo(i,null,new Vn(s))}{if(!(i instanceof oo||i instanceof ja))throw new dn(Ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ei.fromString(e,...n));return Mg(s),new oo(i.firestore,i instanceof ja?i.converter:null,new Vn(s))}}function Df(i,e){return i=(0,Y.m9)(i),e=(0,Y.m9)(e),(i instanceof oo||i instanceof ja)&&(e instanceof oo||e instanceof ja)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function w_(i,e){return i=(0,Y.m9)(i),e=(0,Y.m9)(e),i instanceof Ho&&e instanceof Ho&&i.firestore===e.firestore&&ta(i._query,e._query)&&i.converter===e.converter}class oy{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ic(this,"async_queue_retry"),this.iu=()=>{const n=gl();n&&tn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=gl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=gl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new ii;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,a.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Po(n))throw n;tn("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,di("INTERNAL UNHANDLED ERROR: ",function(p){let M=p.message||"";return p.stack&&(M=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),M}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=ef.createAndSchedule(this,e,n,s,d=>this.au(d));return this.Xa.push(u),u}su(){this.eu&&Mn()}verifyOperationInProgress(){}uu(){var e=this;return(0,a.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Tf(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const u=n;for(const d of["next","error","complete"])if(d in u&&"function"==typeof u[d])return!0;return!1}(i)}class D_{constructor(){this._progressObserver={},this._taskCompletionResolver=new ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const sy=-1;class Wi extends zd{constructor(e,n,s,u){super(e,n,s,u),this.type="firestore",this._queue=new oy,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||b_(this),this._firestoreClient.terminate()}}function T_(i,e){const n="object"==typeof i?i:(0,_.getApp)(),s="string"==typeof i?i:e||"(default)",u=(0,_._getProvider)(n,"firestore").getImmediate({identifier:s});if(!u._initialized){const d=(0,Y.P0)("firestore");d&&Cf(u,...d)}return u}function qi(i){return i._firestoreClient||b_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function b_(i){var e,n,s;const u=i._freezeSettings(),d=(L=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Kf(i._databaseId,L,i._persistenceKey,(Ee=u).host,Ee.ssl,Ee.experimentalForceLongPolling,Ee.experimentalAutoDetectLongPolling,jd(Ee.experimentalLongPollingOptions),Ee.useFetchStreams));var L,Ee;i._firestoreClient=new d_(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function A_(i,e){P_(i=ti(i,Wi));const n=qi(i);if(n._uninitializedComponentsProvider)throw new dn(Ut.FAILED_PRECONDITION,"SDK cache is already specified.");wi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),u=new Pc;return R_(n,u,new Dg(u,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function S_(i){P_(i=ti(i,Wi));const e=qi(i);if(e._uninitializedComponentsProvider)throw new dn(Ut.FAILED_PRECONDITION,"SDK cache is already specified.");wi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new Pc;return R_(e,s,new c_(s,n.cacheSizeBytes))}function R_(i,e,n){const s=new ii;return i.asyncQueue.enqueue((0,a.Z)(function*(){try{yield Bd(i,n),yield Ag(i,e),s.resolve()}catch(u){const d=u;if(!h_(d))throw d;wi("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function ly(i){if(i._initialized&&!i._terminated)throw new dn(Ut.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ii;return i._queue.enqueueAndForgetEvenWhileRestricted((0,a.Z)(function*(){try{yield(n=(0,a.Z)(function*(u){if(!is.D())return Promise.resolve();const d=u+"main";yield is.delete(d)}),function s(u){return n.apply(this,arguments)})(Fm(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Wd(i){return function(n){const s=new ii;return n.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function t_(i,e){return vg.apply(this,arguments)}(yield Ef(n),s)})),s.promise}(qi(i=ti(i,Wi)))}function uy(i){return function Jv(i){return i.asyncQueue.enqueue((0,a.Z)(function*(){const e=yield p_(i),n=yield g_(i);return e.setNetworkEnabled(!0),function(u){const d=Xt(u);return d.C_.delete(0),Mu(d)}(n)}))}(qi(i=ti(i,Wi)))}function cy(i){return function ey(i){return i.asyncQueue.enqueue((0,a.Z)(function*(){const e=yield p_(i),n=yield g_(i);return e.setNetworkEnabled(!1),(s=(0,a.Z)(function*(d){const p=Xt(d);p.C_.add(0),yield wc(p),p.M_.set("Offline")}),function u(d){return s.apply(this,arguments)})(n);var s}))}(qi(i=ti(i,Wi)))}function dy(i,e){const n=qi(i=ti(i,Wi)),s=new D_;return function ry(i,e,n,s){const u=function(p,M){let L;return L="string"==typeof p?cs().encode(p):p,Ee=function(Ee,Je){if(Ee instanceof Uint8Array)return Tg(Ee,void 0);if(Ee instanceof ArrayBuffer)return Tg(new Uint8Array(Ee),void 0);if(Ee instanceof ReadableStream)return Ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Zv(Ee,M);var Ee}(n,Pu(e));i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){!function Cg(i,e,n){const s=Xt(i);var u;(u=(0,a.Z)(function*(p,M,L){try{const X=yield M.getMetadata();if(yield function(An,kn){const Fn=Xt(An),vr=fo(kn.createTime);return Fn.persistence.runTransaction("hasNewerBundle","readonly",Tr=>Fn.Kr.getBundleMetadata(Tr,kn.id)).then(Tr=>!!Tr&&Tr.createTime.compareTo(vr)>=0)}(p.localStore,X))return yield M.close(),L._completeWith({taskState:"Success",documentsLoaded:(An=X).totalDocuments,bytesLoaded:An.totalBytes,totalDocuments:An.totalDocuments,totalBytes:An.totalBytes}),Promise.resolve(new Set);L._updateProgress(nf(X));const Ee=new Gv(X,p.localStore,M.serializer);let Je=yield M.Ma();for(;Je;){const Ft=yield Ee.ea(Je);Ft&&L._updateProgress(Ft),Je=yield M.Ma()}const gt=yield Ee.complete();return yield Xl(p,gt.ra,void 0),yield function(An,kn){const Fn=Xt(An);return Fn.persistence.runTransaction("Save bundle","readwrite",vr=>Fn.Kr.saveBundleMetadata(vr,kn))}(p.localStore,X),L._completeWith(gt.progress),Promise.resolve(gt.na)}catch(X){return wi("SyncEngine",`Loading bundle failed with ${X}`),L._failWith(X),Promise.resolve(new Set)}var An}),function d(p,M,L){return u.apply(this,arguments)})(s,e,n).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Ef(i),u,s)}))}(n,i._databaseId,e,s),s}function hy(i,e){return function v_(i,e){return i.asyncQueue.enqueue((0,a.Z)(function*(){return function(s,u){const d=Xt(s);return d.persistence.runTransaction("Get named query","readonly",p=>d.Kr.getNamedQuery(p,u))}(yield xc(i),e)}))}(qi(i=ti(i,Wi)),e).then(n=>n?new Ho(i,null,n.query):null)}function P_(i){if(i._initialized||i._terminated)throw new dn(Ut.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(Zi.fromBase64String(e))}catch(n){throw new dn(Ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(Zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ha{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new dn(Ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class za{constructor(e){this._methodName=e}}class bf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new dn(Ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new dn(Ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cr(this._lat,e._lat)||Cr(this._long,e._long)}}const py=/^__.*__$/;class gy{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new Na(e,this.data,this.fieldMask,n,this.fieldTransforms):new oa(e,this.data,n,this.fieldTransforms)}}class M_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mn()}}class Af{constructor(e,n,s,u,d,p){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===d&&this.Pu(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:s,du:!1});return u.Au(e),u}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:s,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return kc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(x_(this.Iu)&&py.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class my{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Pu(e)}pu(e,n,s,u=!1){return new Af({Iu:e,methodName:n,gu:s,path:Fi.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jl(i){const e=i._freezeSettings(),n=Pu(i._databaseId);return new my(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Yd(i,e,n,s,u,d={}){const p=i.pu(d.merge||d.mergeFields?2:0,e,n,u);Lo("Data must be an object, but it was:",p,s);const M=ha(s,p);let L,X;if(d.merge)L=new ls(p.fieldMask),X=p.fieldTransforms;else if(d.mergeFields){const Ee=[];for(const Je of d.mergeFields){const gt=fa(e,Je,n);if(!p.contains(gt))throw new dn(Ut.INVALID_ARGUMENT,`Field '${gt}' is specified in your field mask but missing from your input data.`);$u(Ee,gt)||Ee.push(gt)}L=new ls(Ee),X=p.fieldTransforms.filter(Je=>L.covers(Je.field))}else L=null,X=p.fieldTransforms;return new gy(new ho(M),L,X)}class Kd extends za{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kd}}function _y(i,e,n){return new Af({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sf extends za{_toFieldTransform(e){return new vu(e.path,new Ma)}isEqual(e){return e instanceof Sf}}class O_ extends za{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=_y(this,e,!0),s=this.yu.map(d=>Vu(d,n)),u=new xa(s);return new vu(e.path,u)}isEqual(e){return this===e}}class z0 extends za{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=_y(this,e,!0),s=this.yu.map(d=>Vu(d,n)),u=new Oa(s);return new vu(e.path,u)}isEqual(e){return this===e}}class Rf extends za{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new $l(e.serializer,sr(e.serializer,this.wu));return new vu(e.path,n)}isEqual(e){return this===e}}function Ng(i,e,n,s){const u=i.pu(1,e,n);Lo("Data must be an object, but it was:",u,s);const d=[],p=ho.empty();as(s,(L,X)=>{const Ee=fs(e,L,n);X=(0,Y.m9)(X);const Je=u.Ru(Ee);if(X instanceof Kd)d.push(Ee);else{const gt=Vu(X,Je);null!=gt&&(d.push(Ee),p.set(Ee,gt))}});const M=new ls(d);return new M_(p,M,u.fieldTransforms)}function kg(i,e,n,s,u,d){const p=i.pu(1,e,n),M=[fa(e,s,n)],L=[u];if(d.length%2!=0)throw new dn(Ut.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let gt=0;gt<d.length;gt+=2)M.push(fa(e,d[gt])),L.push(d[gt+1]);const X=[],Ee=ho.empty();for(let gt=M.length-1;gt>=0;--gt)if(!$u(X,M[gt])){const Ft=M[gt];let An=L[gt];An=(0,Y.m9)(An);const kn=p.Ru(Ft);if(An instanceof Kd)X.push(Ft);else{const Fn=Vu(An,kn);null!=Fn&&(X.push(Ft),Ee.set(Ft,Fn))}}const Je=new ls(X);return new M_(Ee,Je,p.fieldTransforms)}function Pf(i,e,n,s=!1){return Vu(n,i.pu(s?4:3,e))}function Vu(i,e){if(Nc(i=(0,Y.m9)(i)))return Lo("Unsupported field value:",e,i),ha(i,e);if(i instanceof za)return function(s,u){if(!x_(u.Iu))throw u.mu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(u);d&&u.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,u){const d=[];let p=0;for(const M of s){let L=Vu(M,u.Vu(p));null==L&&(L={nullValue:"NULL_VALUE"}),d.push(L),p++}return{arrayValue:{values:d}}}(i,e)}return function(s,u){if(null===(s=(0,Y.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return sr(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Un.fromDate(s);return{timestampValue:uc(u.serializer,d)}}if(s instanceof Un){const d=new Un(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uc(u.serializer,d)}}if(s instanceof bf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ml)return{bytesValue:gm(u.serializer,s._byteString)};if(s instanceof oo){const d=u.databaseId,p=s.firestore._databaseId;if(!p.isEqual(d))throw u.mu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Dh(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.mu(`Unsupported field value: ${Hd(s)}`)}(i,e)}function ha(i,e){const n={};return Es(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(i,(s,u)=>{const d=Vu(u,e.Eu(s));null!=d&&(n[s]=d)}),{mapValue:{fields:n}}}function Nc(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Un||i instanceof bf||i instanceof ml||i instanceof oo||i instanceof za)}function Lo(i,e,n){if(!Nc(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Hd(n);throw e.mu("an object"===s?i+" a custom object":i+" "+s)}var u}function fa(i,e,n){if((e=(0,Y.m9)(e))instanceof Ha)return e._internalPath;if("string"==typeof e)return fs(i,e);throw kc("Field path arguments must be of type string or ",i,!1,void 0,n)}const Mf=new RegExp("[~\\*/\\[\\]]");function fs(i,e,n){if(e.search(Mf)>=0)throw kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ha(...e.split("."))._internalPath}catch{throw kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function kc(i,e,n,s,u){const d=s&&!s.isEmpty(),p=void 0!==u;let M=`Function ${e}() called with invalid data`;n&&(M+=" (via `toFirestore()`)"),M+=". ";let L="";return(d||p)&&(L+=" (found",d&&(L+=` in field ${s}`),p&&(L+=` in document ${u}`),L+=")"),new dn(Ut.INVALID_ARGUMENT,M+i+L)}function $u(i,e){return i.some(n=>n.isEqual(e))}class Ga{constructor(e,n,s,u,d){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new oo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_l("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Fc extends Ga{data(){return super.data()}}function _l(i,e){return"string"==typeof e?fs(i,e):e instanceof Ha?e._internalPath:e._delegate._internalPath}function Bu(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new dn(Ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eu{}class Wa extends eu{}function Lc(i,e,...n){let s=[];e instanceof eu&&s.push(e),s=s.concat(n),function(d){const p=d.filter(L=>L instanceof Uu).length,M=d.filter(L=>L instanceof qa).length;if(p>1||p>0&&M>0)throw new dn(Ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)i=u._apply(i);return i}class qa extends Wa{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new qa(e,n,s)}_apply(e){const n=this._parse(e);return $_(e._query,n),new Ho(e.firestore,e.converter,td(e._query,n))}_parse(e){const n=Jl(e.firestore);return function(d,p,M,L,X,Ee,Je){let gt;if(X.isKeyField()){if("array-contains"===Ee||"array-contains-any"===Ee)throw new dn(Ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ee}' queries on documentId().`);if("in"===Ee||"not-in"===Ee){Dy(Je,Ee);const Ft=[];for(const An of Je)Ft.push(V_(L,d,An));gt={arrayValue:{values:Ft}}}else gt=V_(L,d,Je)}else"in"!==Ee&&"not-in"!==Ee&&"array-contains-any"!==Ee||Dy(Je,Ee),gt=Pf(M,"where",Je,"in"===Ee||"not-in"===Ee);return zr.create(X,Ee,gt)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function N_(i,e,n){const s=e,u=_l("where",i);return qa._create(u,s,n)}class Uu extends eu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Uu(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,d){let p=u;const M=d.getFlattenedFilters();for(const L of M)$_(p,L),p=td(p,L)}(e._query,n),new Ho(e.firestore,e.converter,td(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xf extends Wa{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xf(e,n)}_apply(e){const n=function(u,d,p){if(null!==u.startAt)throw new dn(Ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new dn(Ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new js(d,p)}(e._query,this._field,this._direction);return new Ho(e.firestore,e.converter,function(u,d){const p=u.explicitOrderBy.concat([d]);return new us(u.path,u.collectionGroup,p,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,n))}}function k_(i,e="asc"){const n=e,s=_l("orderBy",i);return xf._create(s,n)}class Zd extends Wa{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Zd(e,n,s)}_apply(e){return new Ho(e.firestore,e.converter,nd(e._query,this._limit,this._limitType))}}function F_(i){return Ua("limit",i),Zd._create("limit",i,"F")}function L_(i){return Ua("limitToLast",i),Zd._create("limitToLast",i,"L")}class Vc extends Wa{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Vc(e,n,s)}_apply(e){const n=wy(e,this.type,this._docOrFields,this._inclusive);return new Ho(e.firestore,e.converter,(d=n,new us((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,d,u.endAt)));var u,d}}function Ey(...i){return Vc._create("startAt",i,!0)}function G0(...i){return Vc._create("startAfter",i,!1)}class Fg extends Wa{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Fg(e,n,s)}_apply(e){const n=wy(e,this.type,this._docOrFields,this._inclusive);return new Ho(e.firestore,e.converter,(d=n,new us((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,d)));var u,d}}function Iy(...i){return Fg._create("endBefore",i,!1)}function Cy(...i){return Fg._create("endAt",i,!0)}function wy(i,e,n,s){if(n[0]=(0,Y.m9)(n[0]),n[0]instanceof Ga)return function(d,p,M,L,X){if(!L)throw new dn(Ut.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${M}().`);const Ee=[];for(const Je of ll(d))if(Je.field.isKeyField())Ee.push(Ta(p,L.key));else{const gt=L.data.field(Je.field);if(Yc(gt))throw new dn(Ut.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Je.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===gt){const Ft=Je.field.canonicalString();throw new dn(Ut.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ft}' (used as the orderBy) does not exist.`)}Ee.push(gt)}return new Us(Ee,X)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const u=Jl(i.firestore);return function(p,M,L,X,Ee,Je){const gt=p.explicitOrderBy;if(Ee.length>gt.length)throw new dn(Ut.INVALID_ARGUMENT,`Too many arguments provided to ${X}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ft=[];for(let An=0;An<Ee.length;An++){const kn=Ee[An];if(gt[An].field.isKeyField()){if("string"!=typeof kn)throw new dn(Ut.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${X}(), but got a ${typeof kn}`);if(!ed(p)&&-1!==kn.indexOf("/"))throw new dn(Ut.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${X}() must be a plain document ID, but '${kn}' contains a slash.`);const Fn=p.path.child(ei.fromString(kn));if(!Vn.isDocumentKey(Fn))throw new dn(Ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${X}() must result in a valid document path, but '${Fn}' is not because it contains an odd number of segments.`);const vr=new Vn(Fn);Ft.push(Ta(M,vr))}else{const Fn=Pf(L,X,kn);Ft.push(Fn)}}return new Us(Ft,Je)}(i._query,i.firestore._databaseId,u,e,n,s)}}function V_(i,e,n){if("string"==typeof(n=(0,Y.m9)(n))){if(""===n)throw new dn(Ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ed(e)&&-1!==n.indexOf("/"))throw new dn(Ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ei.fromString(n));if(!Vn.isDocumentKey(s))throw new dn(Ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ta(i,new Vn(s))}if(n instanceof oo)return Ta(i,n._key);throw new dn(Ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(n)}.`)}function Dy(i,e){if(!Array.isArray(i)||0===i.length)throw new dn(Ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $_(i,e){const n=function(u,d){for(const p of u)for(const M of p.getFlattenedFilters())if(d.indexOf(M.op)>=0)return M.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new dn(Ut.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Lg{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Mn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return as(e,(u,d)=>{s[u]=this.convertValue(d,n)}),s}convertGeoPoint(e){return new bf(Ui(e.latitude),Ui(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zs(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){const n=Is(e);return new Un(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ei.fromString(e);Bn(Ip(s));const u=new yo(s.get(1),s.get(3)),d=new Vn(s.popFirst(5));return u.isEqual(n)||di(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function $c(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Qd extends Lg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new oo(this.firestore,null,n)}}class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends Ga{constructor(e,n,s,u,d,p){super(e,n,s,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(_l("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Xd extends pa{data(e={}){return super.data(e)}}class Hu{constructor(e,n,s,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new ju(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Xd(this._firestore,this._userDataWriter,s.key,s,new ju(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dn(Ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,d){if(u._snapshot.oldDocs.isEmpty()){let p=0;return u._snapshot.docChanges.map(M=>({type:"added",doc:new Xd(u._firestore,u._userDataWriter,M.doc.key,M.doc,new ju(u._snapshot.mutatedKeys.has(M.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:p++}))}{let p=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(M=>d||3!==M.type).map(M=>{const L=new Xd(u._firestore,u._userDataWriter,M.doc.key,M.doc,new ju(u._snapshot.mutatedKeys.has(M.doc.key),u._snapshot.fromCache),u.query.converter);let X=-1,Ee=-1;return 0!==M.type&&(X=p.indexOf(M.doc.key),p=p.delete(M.doc.key)),1!==M.type&&(p=p.add(M.doc),Ee=p.indexOf(M.doc.key)),{type:by(M.type),doc:L,oldIndex:X,newIndex:Ee}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function by(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mn()}}function Ay(i,e){return i instanceof pa&&e instanceof pa?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Hu&&e instanceof Hu&&i._firestore===e._firestore&&w_(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function $g(i){i=ti(i,oo);const e=ti(i.firestore,Wi);return __(qi(e),i._key).then(n=>Ug(e,i,n))}class ga extends Lg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new oo(this.firestore,null,n)}}function Nf(i){i=ti(i,oo);const e=ti(i.firestore,Wi),n=qi(e),s=new ga(e);return function ty(i,e){const n=new ii;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return(s=(0,a.Z)(function*(d,p,M){try{const L=yield function(Ee,Je){const gt=Xt(Ee);return gt.persistence.runTransaction("read document","readonly",Ft=>gt.localDocuments.getDocument(Ft,Je))}(d,p);L.isFoundDocument()?M.resolve(L):L.isNoDocument()?M.resolve(null):M.reject(new dn(Ut.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const X=Nu(L,`Failed to get document '${p} from cache`);M.reject(X)}}),function u(d,p,M){return s.apply(this,arguments)})(yield xc(i),e,n);var s})),n.promise}(n,i._key).then(u=>new pa(e,s,i._key,u,new ju(null!==u&&u.hasLocalMutations,!0),i.converter))}function W0(i){i=ti(i,oo);const e=ti(i.firestore,Wi);return __(qi(e),i._key,{source:"server"}).then(n=>Ug(e,i,n))}function Sy(i){i=ti(i,Ho);const e=ti(i.firestore,Wi),n=qi(e),s=new ga(e);return Bu(i._query),da(n,i._query).then(u=>new Hu(e,s,i,u))}function Ry(i){i=ti(i,Ho);const e=ti(i.firestore,Wi),n=qi(e),s=new ga(e);return function ny(i,e){const n=new ii;return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return(s=(0,a.Z)(function*(d,p,M){try{const L=yield Bh(d,p,!0),X=new rf(p,L.ls),Ee=X.ca(L.documents),Je=X.applyChanges(Ee,!1);M.resolve(Je.snapshot)}catch(L){const X=Nu(L,`Failed to execute query '${p} against cache`);M.reject(X)}}),function u(d,p,M){return s.apply(this,arguments)})(yield xc(i),e,n);var s})),n.promise}(n,i._query).then(u=>new Hu(e,s,i,u))}function Bg(i){i=ti(i,Ho);const e=ti(i.firestore,Wi),n=qi(e),s=new ga(e);return da(n,i._query,{source:"server"}).then(u=>new Hu(e,s,i,u))}function Py(i,e,n){i=ti(i,oo);const s=ti(i.firestore,Wi),u=$c(i.converter,e,n);return zu(s,[Yd(Jl(s),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Qi.none())])}function H_(i,e,n,...s){i=ti(i,oo);const u=ti(i.firestore,Wi),d=Jl(u);let p;return p="string"==typeof(e=(0,Y.m9)(e))||e instanceof Ha?kg(d,"updateDoc",i._key,e,n,s):Ng(d,"updateDoc",i._key,e),zu(u,[p.toMutation(i._key,Qi.exists(!0))])}function My(i){return zu(ti(i.firestore,Wi),[new ul(i._key,Qi.none())])}function xy(i,e){const n=ti(i.firestore,Wi),s=Og(i),u=$c(i.converter,e);return zu(n,[Yd(Jl(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,Qi.exists(!1))]).then(()=>s)}function z_(i,...e){var n,s,u;i=(0,Y.m9)(i);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Tf(e[p])||(d=e[p],p++);const M={includeMetadataChanges:d.includeMetadataChanges};if(Tf(e[p])){const Je=e[p];e[p]=null===(n=Je.next)||void 0===n?void 0:n.bind(Je),e[p+1]=null===(s=Je.error)||void 0===s?void 0:s.bind(Je),e[p+2]=null===(u=Je.complete)||void 0===u?void 0:u.bind(Je)}let L,X,Ee;if(i instanceof oo)X=ti(i.firestore,Wi),Ee=pu(i._key.path),L={next:Je=>{e[p]&&e[p](Ug(X,i,Je))},error:e[p+1],complete:e[p+2]};else{const Je=ti(i,Ho);X=ti(Je.firestore,Wi),Ee=Je._query;const gt=new ga(X);L={next:Ft=>{e[p]&&e[p](new Hu(X,gt,Je,Ft))},error:e[p+1],complete:e[p+2]},Bu(i._query)}return function(gt,Ft,An,kn){const Fn=new vf(kn),vr=new fg(Ft,Fn,An);return gt.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return Nd(yield Oc(gt),vr)})),()=>{Fn.Na(),gt.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return qm(yield Oc(gt),vr)}))}}(qi(X),Ee,M,L)}function G_(i,e){return function Rg(i,e){const n=new vf(e);return i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return u=yield Oc(i),d=n,Xt(u).q_.add(d),void d.next();var u,d})),()=>{n.Na(),i.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return u=yield Oc(i),d=n,void Xt(u).q_.delete(d);var u,d}))}}(qi(i=ti(i,Wi)),Tf(e)?e:{next:e})}function zu(i,e){return function(s,u){const d=new ii;return s.asyncQueue.enqueueAndForget((0,a.Z)(function*(){return function bc(i,e,n){return ca.apply(this,arguments)}(yield Ef(s),u,d)})),d.promise}(qi(i),e)}function Ug(i,e,n){const s=n.docs.get(e._key),u=new ga(i);return new pa(i,u,e._key,s,new ju(n.hasPendingWrites,n.fromCache),e.converter)}const Wg={maxAttempts:5};class kf{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jl(e)}set(e,n,s){this._verifyNotCommitted();const u=vl(e,this._firestore),d=$c(u.converter,n,s),p=Yd(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,s);return this._mutations.push(p.toMutation(u._key,Qi.none())),this}update(e,n,s,...u){this._verifyNotCommitted();const d=vl(e,this._firestore);let p;return p="string"==typeof(n=(0,Y.m9)(n))||n instanceof Ha?kg(this._dataReader,"WriteBatch.update",d._key,n,s,u):Ng(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(p.toMutation(d._key,Qi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=vl(e,this._firestore);return this._mutations=this._mutations.concat(new ul(n._key,Qi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dn(Ut.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vl(i,e){if((i=(0,Y.m9)(i)).firestore!==e)throw new dn(Ut.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class By extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=Jl(n)}get(n){const s=vl(n,this._firestore),u=new Qd(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return Mn();const p=d[0];if(p.isFoundDocument())return new Ga(this._firestore,u,p.key,p,s.converter);if(p.isNoDocument())return new Ga(this._firestore,u,s._key,null,s.converter);throw Mn()})}set(n,s,u){const d=vl(n,this._firestore),p=$c(d.converter,s,u),M=Yd(this._dataReader,"Transaction.set",d._key,p,null!==d.converter,u);return this._transaction.set(d._key,M),this}update(n,s,u,...d){const p=vl(n,this._firestore);let M;return M="string"==typeof(s=(0,Y.m9)(s))||s instanceof Ha?kg(this._dataReader,"Transaction.update",p._key,s,u,d):Ng(this._dataReader,"Transaction.update",p._key,s),this._transaction.update(p._key,M),this}delete(n){const s=vl(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=vl(e,this._firestore),s=new ga(this._firestore);return super.get(e).then(u=>new pa(this._firestore,s,n._key,u._document,new ju(!1,!1),n.converter))}}function Uy(i,e,n){i=ti(i,Wi);const s=Object.assign(Object.assign({},Wg),n);return function(d){if(d.maxAttempts<1)throw new dn(Ut.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,p,M){const L=new ii;return d.asyncQueue.enqueueAndForget((0,a.Z)(function*(){const X=yield function m_(i){return Mc(i).then(e=>e.datastore)}(d);new Xv(d.asyncQueue,X,M,p,L).run()})),L.promise}(qi(i),u=>e(new By(i,u)),s)}function Y_(){return new Kd("deleteField")}function qg(){return new Sf("serverTimestamp")}function K_(...i){return new O_("arrayUnion",i)}function Yg(...i){return new z0("arrayRemove",i)}function Z_(i){return new Rf("increment",i)}!function(e,n=!0){ri=_.SDK_VERSION,(0,_._registerComponent)(new N.wA("firestore",(s,{instanceIdentifier:u,options:d})=>{const p=s.getProvider("app").getImmediate(),M=new Wi(new Ro(s.getProvider("auth-internal")),new Ps(s.getProvider("app-check-internal")),function(X,Ee){if(!Object.prototype.hasOwnProperty.apply(X.options,["projectId"]))throw new dn(Ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(X.options.projectId,Ee)}(p,u),p);return d=Object.assign({useFetchStreams:n},d),M._setSettings(d),M},"PUBLIC").setMultipleInstances(!0)),(0,_.registerVersion)(Kr,"4.3.2",e),(0,_.registerVersion)(Kr,"4.3.2","esm2017")}()},8153:(Lt,Ce,I)=>{"use strict";I.d(Ce,{$Y:()=>Zn,B0:()=>Pr,FN:()=>vi,IX:()=>Or,Jt:()=>Ii,UJ:()=>cr,Ym:()=>bn,a1:()=>Bi,aF:()=>Ur,bm:()=>hn,cF:()=>Vr,g6:()=>Mi,gE:()=>Rt,gH:()=>De,iH:()=>Pi,oq:()=>Xi,pb:()=>ir,qm:()=>Sn,sd:()=>or,sf:()=>In,y4:()=>Te});var a=I(5861),_=I(534),N=I(9058),F=I(4537);const Y="firebasestorage.googleapis.com",Z="storageBucket";class K extends N.ZR{constructor(b,re,Pe=0){super(ge(b),`Firebase Storage: ${re} (${ge(b)})`),this.status_=Pe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,K.prototype)}get status(){return this.status_}set status(b){this.status_=b}_codeEquals(b){return ge(b)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(b){this.customData.serverResponse=b,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var le=function(v){return v.UNKNOWN="unknown",v.OBJECT_NOT_FOUND="object-not-found",v.BUCKET_NOT_FOUND="bucket-not-found",v.PROJECT_NOT_FOUND="project-not-found",v.QUOTA_EXCEEDED="quota-exceeded",v.UNAUTHENTICATED="unauthenticated",v.UNAUTHORIZED="unauthorized",v.UNAUTHORIZED_APP="unauthorized-app",v.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",v.INVALID_CHECKSUM="invalid-checksum",v.CANCELED="canceled",v.INVALID_EVENT_NAME="invalid-event-name",v.INVALID_URL="invalid-url",v.INVALID_DEFAULT_BUCKET="invalid-default-bucket",v.NO_DEFAULT_BUCKET="no-default-bucket",v.CANNOT_SLICE_BLOB="cannot-slice-blob",v.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",v.NO_DOWNLOAD_URL="no-download-url",v.INVALID_ARGUMENT="invalid-argument",v.INVALID_ARGUMENT_COUNT="invalid-argument-count",v.APP_DELETED="app-deleted",v.INVALID_ROOT_OPERATION="invalid-root-operation",v.INVALID_FORMAT="invalid-format",v.INTERNAL_ERROR="internal-error",v.UNSUPPORTED_ENVIRONMENT="unsupported-environment",v}(le||{});function ge(v){return"storage/"+v}function we(){return new K(le.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ze(){return new K(le.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ot(){return new K(le.CANCELED,"User canceled the upload/download.")}function _e(){return new K(le.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function De(v){return new K(le.INVALID_ARGUMENT,v)}function Ae(){return new K(le.APP_DELETED,"The Firebase app was deleted.")}function Te(v){return new K(le.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ve(v,b){return new K(le.INVALID_FORMAT,"String does not match format '"+v+"': "+b)}function _t(v){throw new K(le.INTERNAL_ERROR,"Internal error: "+v)}class Rt{constructor(b,re){this.bucket=b,this.path_=re}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const b=encodeURIComponent;return"/b/"+b(this.bucket)+"/o/"+b(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(b,re){let Pe;try{Pe=Rt.makeFromUrl(b,re)}catch{return new Rt(b,"")}if(""===Pe.path)return Pe;throw function Ge(v){return new K(le.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(b)}static makeFromUrl(b,re){let Pe=null;const et="([A-Za-z0-9.\\-_]+)",qt=new RegExp("^gs://"+et+"(/(.*))?$","i");function zn(zi){zi.path_=decodeURIComponent(zi.path)}const jn=re.replace(/[.]/g,"\\."),Hr=[{regex:qt,indices:{bucket:1,path:3},postModify:function dt(zi){"/"===zi.path.charAt(zi.path.length-1)&&(zi.path_=zi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${jn}/v[A-Za-z0-9_]+/b/${et}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:zn},{regex:new RegExp(`^https?://${re===Y?"(?:storage.googleapis.com|storage.cloud.google.com)":re}/${et}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:zn}];for(let zi=0;zi<Hr.length;zi++){const Ir=Hr[zi],Jr=Ir.regex.exec(b);if(Jr){let Ji=Jr[Ir.indices.path];Ji||(Ji=""),Pe=new Rt(Jr[Ir.indices.bucket],Ji),Ir.postModify(Pe);break}}if(null==Pe)throw function ue(v){return new K(le.INVALID_URL,"Invalid URL '"+v+"'.")}(b);return Pe}}class At{constructor(b){this.promise_=Promise.reject(b)}getPromise(){return this.promise_}cancel(b=!1){}}function Ke(v){return"string"==typeof v||v instanceof String}function qe(v){return ft()&&v instanceof Blob}function ft(){return typeof Blob<"u"&&!(0,N.UG)()}function ht(v,b,re,Pe){if(Pe<b)throw De(`Invalid value for '${v}'. Expected ${b} or greater.`);if(Pe>re)throw De(`Invalid value for '${v}'. Expected ${re} or less.`)}function bt(v,b,re){let Pe=b;return null==re&&(Pe=`https://${b}`),`${re}://${Pe}/v0${v}`}function mt(v){const b=encodeURIComponent;let re="?";for(const Pe in v)v.hasOwnProperty(Pe)&&(re=re+(b(Pe)+"=")+b(v[Pe])+"&");return re=re.slice(0,-1),re}var Kt=function(v){return v[v.NO_ERROR=0]="NO_ERROR",v[v.NETWORK_ERROR=1]="NETWORK_ERROR",v[v.ABORT=2]="ABORT",v}(Kt||{});function Dt(v,b){const re=v>=500&&v<600,et=-1!==[408,429].indexOf(v),dt=-1!==b.indexOf(v);return re||et||dt}class Tt{constructor(b,re,Pe,et,dt,$t,qt,gn,zn,ar,jn,jr=!0){this.url_=b,this.method_=re,this.headers_=Pe,this.body_=et,this.successCodes_=dt,this.additionalRetryCodes_=$t,this.callback_=qt,this.errorCallback_=gn,this.timeout_=zn,this.progressCallback_=ar,this.connectionFactory_=jn,this.retry=jr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ai,Yr)=>{this.resolve_=ai,this.reject_=Yr,this.start_()})}start_(){const re=(Pe,et)=>{const dt=this.resolve_,$t=this.reject_,qt=et.connection;if(et.wasSuccessCode)try{const gn=this.callback_(qt,qt.getResponse());!function he(v){return void 0!==v}(gn)?dt():dt(gn)}catch(gn){$t(gn)}else if(null!==qt){const gn=we();gn.serverResponse=qt.getErrorText(),$t(this.errorCallback_?this.errorCallback_(qt,gn):gn)}else $t(et.canceled?this.appDelete_?Ae():ot():Ze())};this.canceled_?re(0,new Ct(!1,null,!0)):this.backoffId_=function rt(v,b,re){let Pe=1,et=null,dt=null,$t=!1,qt=0;function gn(){return 2===qt}let zn=!1;function ar(...Xr){zn||(zn=!0,b.apply(null,Xr))}function jn(Xr){et=setTimeout(()=>{et=null,v(ai,gn())},Xr)}function jr(){dt&&clearTimeout(dt)}function ai(Xr,...mi){if(zn)return void jr();if(Xr)return jr(),void ar.call(null,Xr,...mi);if(gn()||$t)return jr(),void ar.call(null,Xr,...mi);let Hr;Pe<64&&(Pe*=2),1===qt?(qt=2,Hr=0):Hr=1e3*(Pe+Math.random()),jn(Hr)}let Yr=!1;function pr(Xr){Yr||(Yr=!0,jr(),!zn&&(null!==et?(Xr||(qt=2),clearTimeout(et),jn(0)):Xr||(qt=1)))}return jn(0),dt=setTimeout(()=>{$t=!0,pr(!0)},re),pr}((Pe,et)=>{if(et)return void Pe(!1,new Ct(!1,null,!0));const dt=this.connectionFactory_();this.pendingConnection_=dt;const $t=qt=>{null!==this.progressCallback_&&this.progressCallback_(qt.loaded,qt.lengthComputable?qt.total:-1)};null!==this.progressCallback_&&dt.addUploadProgressListener($t),dt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&dt.removeUploadProgressListener($t),this.pendingConnection_=null;const qt=dt.getErrorCode()===Kt.NO_ERROR,gn=dt.getStatus();if(!qt||Dt(gn,this.additionalRetryCodes_)&&this.retry){const ar=dt.getErrorCode()===Kt.ABORT;return void Pe(!1,new Ct(!1,null,ar))}const zn=-1!==this.successCodes_.indexOf(gn);Pe(!0,new Ct(zn,dt))})},re,this.timeout_)}getPromise(){return this.promise_}cancel(b){this.canceled_=!0,this.appDelete_=b||!1,null!==this.backoffId_&&function fe(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ct{constructor(b,re,Pe){this.wasSuccessCode=b,this.connection=re,this.canceled=!!Pe}}function Dn(...v){const b=function Jt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==b){const re=new b;for(let Pe=0;Pe<v.length;Pe++)re.append(v[Pe]);return re.getBlob()}if(ft())return new Blob(v);throw new K(le.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xn{constructor(b,re){this.data=b,this.contentType=re||null}}function Sn(v,b){switch(v){case hn.RAW:return new xn(Qn(b));case hn.BASE64:case hn.BASE64URL:return new xn(_r(v,b));case hn.DATA_URL:return new xn(function Ln(v){const b=new en(v);return b.base64?_r(hn.BASE64,b.rest):function mr(v){let b;try{b=decodeURIComponent(v)}catch{throw Ve(hn.DATA_URL,"Malformed data URL.")}return Qn(b)}(b.rest)}(b),function xr(v){return new en(v).contentType}(b))}throw we()}function Qn(v){const b=[];for(let re=0;re<v.length;re++){let Pe=v.charCodeAt(re);Pe<=127?b.push(Pe):Pe<=2047?b.push(192|Pe>>6,128|63&Pe):55296==(64512&Pe)?re<v.length-1&&56320==(64512&v.charCodeAt(re+1))?(Pe=65536|(1023&Pe)<<10|1023&v.charCodeAt(++re),b.push(240|Pe>>18,128|Pe>>12&63,128|Pe>>6&63,128|63&Pe)):b.push(239,191,189):56320==(64512&Pe)?b.push(239,191,189):b.push(224|Pe>>12,128|Pe>>6&63,128|63&Pe)}return new Uint8Array(b)}function _r(v,b){switch(v){case hn.BASE64:{const et=-1!==b.indexOf("-"),dt=-1!==b.indexOf("_");if(et||dt)throw Ve(v,"Invalid character '"+(et?"-":"_")+"' found: is it base64url encoded?");break}case hn.BASE64URL:{const et=-1!==b.indexOf("+"),dt=-1!==b.indexOf("/");if(et||dt)throw Ve(v,"Invalid character '"+(et?"+":"/")+"' found: is it base64 encoded?");b=b.replace(/-/g,"+").replace(/_/g,"/");break}}let re;try{re=function fr(v){if(typeof atob>"u")throw function Le(v){return new K(le.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(b)}catch(et){throw et.message.includes("polyfill")?et:Ve(v,"Invalid character found")}const Pe=new Uint8Array(re.length);for(let et=0;et<re.length;et++)Pe[et]=re.charCodeAt(et);return Pe}class en{constructor(b){this.base64=!1,this.contentType=null;const re=b.match(/^data:([^,]+)?,/);if(null===re)throw Ve(hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Pe=re[1]||null;null!=Pe&&(this.base64=function sn(v,b){return v.length>=b.length&&v.substring(v.length-b.length)===b}(Pe,";base64"),this.contentType=this.base64?Pe.substring(0,Pe.length-7):Pe),this.rest=b.substring(b.indexOf(",")+1)}}class cr{constructor(b,re){let Pe=0,et="";qe(b)?(this.data_=b,Pe=b.size,et=b.type):b instanceof ArrayBuffer?(re?this.data_=new Uint8Array(b):(this.data_=new Uint8Array(b.byteLength),this.data_.set(new Uint8Array(b))),Pe=this.data_.length):b instanceof Uint8Array&&(re?this.data_=b:(this.data_=new Uint8Array(b.length),this.data_.set(b)),Pe=b.length),this.size_=Pe,this.type_=et}size(){return this.size_}type(){return this.type_}slice(b,re){if(qe(this.data_)){const et=function On(v,b,re){return v.webkitSlice?v.webkitSlice(b,re):v.mozSlice?v.mozSlice(b,re):v.slice?v.slice(b,re):null}(this.data_,b,re);return null===et?null:new cr(et)}{const Pe=new Uint8Array(this.data_.buffer,b,re-b);return new cr(Pe,!0)}}static getBlob(...b){if(ft()){const re=b.map(Pe=>Pe instanceof cr?Pe.data_:Pe);return new cr(Dn.apply(null,re))}{const re=b.map($t=>Ke($t)?Sn(hn.RAW,$t).data:$t.data_);let Pe=0;re.forEach($t=>{Pe+=$t.byteLength});const et=new Uint8Array(Pe);let dt=0;return re.forEach($t=>{for(let qt=0;qt<$t.length;qt++)et[dt++]=$t[qt]}),new cr(et,!0)}}uploadData(){return this.data_}}function an(v){let b;try{b=JSON.parse(v)}catch{return null}return function Se(v){return"object"==typeof v&&!Array.isArray(v)}(b)?b:null}function br(v){const b=v.lastIndexOf("/",v.length-2);return-1===b?v:v.slice(b+1)}function Gn(v,b){return b}class Pn{constructor(b,re,Pe,et){this.server=b,this.local=re||b,this.writable=!!Pe,this.xform=et||Gn}}let Nt=null;function ee(){if(Nt)return Nt;const v=[];v.push(new Pn("bucket")),v.push(new Pn("generation")),v.push(new Pn("metageneration")),v.push(new Pn("name","fullPath",!0));const re=new Pn("name");re.xform=function b(dt,$t){return function ye(v){return!Ke(v)||v.length<2?v:br(v)}($t)},v.push(re);const et=new Pn("size");return et.xform=function Pe(dt,$t){return void 0!==$t?Number($t):$t},v.push(et),v.push(new Pn("timeCreated")),v.push(new Pn("updated")),v.push(new Pn("md5Hash",null,!0)),v.push(new Pn("cacheControl",null,!0)),v.push(new Pn("contentDisposition",null,!0)),v.push(new Pn("contentEncoding",null,!0)),v.push(new Pn("contentLanguage",null,!0)),v.push(new Pn("contentType",null,!0)),v.push(new Pn("metadata","customMetadata",!0)),Nt=v,Nt}function je(v,b,re){const Pe=an(b);return null===Pe?null:function st(v,b,re){const Pe={type:"file"},et=re.length;for(let dt=0;dt<et;dt++){const $t=re[dt];Pe[$t.local]=$t.xform(Pe,b[$t.server])}return function Ne(v,b){Object.defineProperty(v,"ref",{get:function re(){const dt=new Rt(v.bucket,v.fullPath);return b._makeStorageReference(dt)}})}(Pe,v),Pe}(v,Pe,re)}function ke(v,b){const re={},Pe=b.length;for(let et=0;et<Pe;et++){const dt=b[et];dt.writable&&(re[dt.server]=v[dt.local])}return JSON.stringify(re)}const J="prefixes",$="items";class j{constructor(b,re,Pe,et){this.url=b,this.method=re,this.handler=Pe,this.timeout=et,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ce(v){if(!v)throw we()}function tt(v,b){return function re(Pe,et){const dt=je(v,et,b);return ce(null!==dt),dt}}function Pt(v){return function b(re,Pe){let et;return et=401===re.getStatus()?re.getErrorText().includes("Firebase App Check token is invalid")?function We(){return new K(le.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function nt(){return new K(le.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===re.getStatus()?function $e(v){return new K(le.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===re.getStatus()?function He(v){return new K(le.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):Pe,et.status=re.getStatus(),et.serverResponse=Pe.serverResponse,et}}function Bt(v){const b=Pt(v);return function re(Pe,et){let dt=b(Pe,et);return 404===Pe.getStatus()&&(dt=function Be(v){return new K(le.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),dt.serverResponse=et.serverResponse,dt}}function Zt(v,b,re){const et=bt(b.fullServerUrl(),v.host,v._protocol),$t=v.maxOperationRetryTime,qt=new j(et,"GET",tt(v,re),$t);return qt.errorHandler=Bt(b),qt}function nn(v,b,re,Pe,et){const dt={};dt.prefix=b.isRoot?"":b.path+"/",re&&re.length>0&&(dt.delimiter=re),Pe&&(dt.pageToken=Pe),et&&(dt.maxResults=et);const qt=bt(b.bucketOnlyServerUrl(),v.host,v._protocol),zn=v.maxOperationRetryTime,ar=new j(qt,"GET",function pt(v,b){return function re(Pe,et){const dt=function w(v,b,re){const Pe=an(re);return null===Pe?null:function R(v,b,re){const Pe={prefixes:[],items:[],nextPageToken:re.nextPageToken};if(re[J])for(const et of re[J]){const dt=et.replace(/\/$/,""),$t=v._makeStorageReference(new Rt(b,dt));Pe.prefixes.push($t)}if(re[$])for(const et of re[$]){const dt=v._makeStorageReference(new Rt(b,et.name));Pe.items.push(dt)}return Pe}(v,b,Pe)}(v,b,et);return ce(null!==dt),dt}}(v,b.bucket),zn);return ar.urlParams=dt,ar.errorHandler=Pt(b),ar}function yn(v,b,re){const Pe=Object.assign({},re);return Pe.fullPath=v.path,Pe.size=b.size(),Pe.contentType||(Pe.contentType=function Gt(v,b){return v&&v.contentType||b&&b.type()||"application/octet-stream"}(null,b)),Pe}function Nn(v,b,re,Pe,et){const dt=b.bucketOnlyServerUrl(),$t={"X-Goog-Upload-Protocol":"multipart"},gn=function qt(){let Hr="";for(let zi=0;zi<2;zi++)Hr+=Math.random().toString().slice(2);return Hr}();$t["Content-Type"]="multipart/related; boundary="+gn;const zn=yn(b,Pe,et),ar=ke(zn,re),ai=cr.getBlob("--"+gn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ar+"\r\n--"+gn+"\r\nContent-Type: "+zn.contentType+"\r\n\r\n",Pe,"\r\n--"+gn+"--");if(null===ai)throw _e();const Yr={name:zn.fullPath},pr=bt(dt,v.host,v._protocol),mi=v.maxUploadRetryTime,Hi=new j(pr,"POST",tt(v,re),mi);return Hi.urlParams=Yr,Hi.headers=$t,Hi.body=ai.uploadData(),Hi.errorHandler=Pt(b),Hi}class pn{constructor(b,re,Pe,et){this.current=b,this.total=re,this.finalized=!!Pe,this.metadata=et||null}}function tr(v,b){let re=null;try{re=v.getResponseHeader("X-Goog-Upload-Status")}catch{ce(!1)}return ce(!!re&&-1!==(b||["active"]).indexOf(re)),re}const vi={STATE_CHANGED:"state_changed"},Zn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ai(v){switch(v){case"running":case"pausing":case"canceling":return Zn.RUNNING;case"paused":return Zn.PAUSED;case"success":return Zn.SUCCESS;case"canceled":return Zn.CANCELED;default:return Zn.ERROR}}class Rr{constructor(b,re,Pe){if(function Ue(v){return"function"==typeof v}(b)||null!=re||null!=Pe)this.next=b,this.error=null!=re?re:void 0,this.complete=null!=Pe?Pe:void 0;else{const dt=b;this.next=dt.next,this.error=dt.error,this.complete=dt.complete}}}function rr(v){return(...b)=>{Promise.resolve().then(()=>v(...b))}}let Er=null;class yi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kt.NO_ERROR,this.sendPromise_=new Promise(b=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kt.ABORT,b()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kt.NETWORK_ERROR,b()}),this.xhr_.addEventListener("load",()=>{b()})})}send(b,re,Pe,et){if(this.sent_)throw _t("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(re,b,!0),void 0!==et)for(const dt in et)et.hasOwnProperty(dt)&&this.xhr_.setRequestHeader(dt,et[dt].toString());return void 0!==Pe?this.xhr_.send(Pe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _t("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _t("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _t("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _t("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(b){return this.xhr_.getResponseHeader(b)}addUploadProgressListener(b){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",b)}removeUploadProgressListener(b){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",b)}}class Ei extends yi{initXhr(){this.xhr_.responseType="text"}}function Fr(){return Er?Er():new Ei}class Or{constructor(b,re,Pe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=b,this._blob=re,this._metadata=Pe,this._mappings=ee(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=et=>{if(this._request=void 0,this._chunkMultiplier=1,et._codeEquals(le.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const dt=this.isExponentialBackoffExpired();if(Dt(et.status,[])){if(!dt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();et=Ze()}this._error=et,this._transition("error")}},this._metadataErrorHandler=et=>{this._request=void 0,et._codeEquals(le.CANCELED)?this.completeTransitions_():(this._error=et,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((et,dt)=>{this._resolve=et,this._reject=dt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const b=this._transferred;return re=>this._updateProgress(b+re)}_shouldDoResumable(b){return b.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(b){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([re,Pe])=>{switch(this._state){case"running":b(re,Pe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((b,re)=>{const Pe=function Br(v,b,re,Pe,et){const dt=b.bucketOnlyServerUrl(),$t=yn(b,Pe,et),qt={name:$t.fullPath},gn=bt(dt,v.host,v._protocol),ar={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Pe.size()}`,"X-Goog-Upload-Header-Content-Type":$t.contentType,"Content-Type":"application/json; charset=utf-8"},jn=ke($t,re),Yr=new j(gn,"POST",function ai(pr){let Xr;tr(pr);try{Xr=pr.getResponseHeader("X-Goog-Upload-URL")}catch{ce(!1)}return ce(Ke(Xr)),Xr},v.maxUploadRetryTime);return Yr.urlParams=qt,Yr.headers=ar,Yr.body=jn,Yr.errorHandler=Pt(b),Yr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),et=this._ref.storage._makeRequest(Pe,Fr,b,re);this._request=et,et.getPromise().then(dt=>{this._request=void 0,this._uploadUrl=dt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const b=this._uploadUrl;this._resolveToken((re,Pe)=>{const et=function yr(v,b,re,Pe){const gn=new j(re,"POST",function dt(zn){const ar=tr(zn,["active","final"]);let jn=null;try{jn=zn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ce(!1)}jn||ce(!1);const jr=Number(jn);return ce(!isNaN(jr)),new pn(jr,Pe.size(),"final"===ar)},v.maxUploadRetryTime);return gn.headers={"X-Goog-Upload-Command":"query"},gn.errorHandler=Pt(b),gn}(this._ref.storage,this._ref._location,b,this._blob),dt=this._ref.storage._makeRequest(et,Fr,re,Pe);this._request=dt,dt.getPromise().then($t=>{this._request=void 0,this._updateProgress($t.current),this._needToFetchStatus=!1,$t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const b=262144*this._chunkMultiplier,re=new pn(this._transferred,this._blob.size()),Pe=this._uploadUrl;this._resolveToken((et,dt)=>{let $t;try{$t=function Wr(v,b,re,Pe,et,dt,$t,qt){const gn=new pn(0,0);if($t?(gn.current=$t.current,gn.total=$t.total):(gn.current=0,gn.total=Pe.size()),Pe.size()!==gn.total)throw function te(){return new K(le.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const zn=gn.total-gn.current;let ar=zn;et>0&&(ar=Math.min(ar,et));const jn=gn.current;let ai="";ai=0===ar?"finalize":zn===ar?"upload, finalize":"upload";const Yr={"X-Goog-Upload-Command":ai,"X-Goog-Upload-Offset":`${gn.current}`},pr=Pe.slice(jn,jn+ar);if(null===pr)throw _e();const Hr=new j(re,"POST",function Xr(zi,Ir){const Jr=tr(zi,["active","final"]),ts=gn.current+ar,Ji=Pe.size();let bo;return bo="final"===Jr?tt(b,dt)(zi,Ir):null,new pn(ts,Ji,"final"===Jr,bo)},b.maxUploadRetryTime);return Hr.headers=Yr,Hr.body=pr.uploadData(),Hr.progressCallback=qt||null,Hr.errorHandler=Pt(v),Hr}(this._ref._location,this._ref.storage,Pe,this._blob,b,this._mappings,re,this._makeProgressCallback())}catch(gn){return this._error=gn,void this._transition("error")}const qt=this._ref.storage._makeRequest($t,Fr,et,dt,!1);this._request=qt,qt.getPromise().then(gn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(gn.current),gn.finalized?(this._metadata=gn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((b,re)=>{const Pe=Zt(this._ref.storage,this._ref._location,this._mappings),et=this._ref.storage._makeRequest(Pe,Fr,b,re);this._request=et,et.getPromise().then(dt=>{this._request=void 0,this._metadata=dt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((b,re)=>{const Pe=Nn(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),et=this._ref.storage._makeRequest(Pe,Fr,b,re);this._request=et,et.getPromise().then(dt=>{this._request=void 0,this._metadata=dt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(b){const re=this._transferred;this._transferred=b,this._transferred!==re&&this._notifyObservers()}_transition(b){if(this._state!==b)switch(b){case"canceling":case"pausing":this._state=b,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const re="paused"===this._state;this._state=b,re&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=b,this._notifyObservers();break;case"canceled":this._error=ot(),this._state=b,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const b=Ai(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:b,metadata:this._metadata,task:this,ref:this._ref}}on(b,re,Pe,et){const dt=new Rr(re||void 0,Pe||void 0,et||void 0);return this._addObserver(dt),()=>{this._removeObserver(dt)}}then(b,re){return this._promise.then(b,re)}catch(b){return this.then(null,b)}_addObserver(b){this._observers.push(b),this._notifyObserver(b)}_removeObserver(b){const re=this._observers.indexOf(b);-1!==re&&this._observers.splice(re,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(re=>{this._notifyObserver(re)})}_finishPromise(){if(void 0!==this._resolve){let b=!0;switch(Ai(this._state)){case Zn.SUCCESS:rr(this._resolve.bind(null,this.snapshot))();break;case Zn.CANCELED:case Zn.ERROR:rr(this._reject.bind(null,this._error))();break;default:b=!1}b&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(b){switch(Ai(this._state)){case Zn.RUNNING:case Zn.PAUSED:b.next&&rr(b.next.bind(b,this.snapshot))();break;case Zn.SUCCESS:b.complete&&rr(b.complete.bind(b))();break;default:b.error&&rr(b.error.bind(b,this._error))()}}resume(){const b="paused"===this._state||"pausing"===this._state;return b&&this._transition("running"),b}pause(){const b="running"===this._state;return b&&this._transition("pausing"),b}cancel(){const b="running"===this._state||"pausing"===this._state;return b&&this._transition("canceling"),b}}class ni{constructor(b,re){this._service=b,this._location=re instanceof Rt?re:Rt.makeFromUrl(re,b.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(b,re){return new ni(b,re)}get root(){const b=new Rt(this._location.bucket,"");return this._newRef(this._service,b)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return br(this._location.path)}get storage(){return this._service}get parent(){const b=function Wn(v){if(0===v.length)return null;const b=v.lastIndexOf("/");return-1===b?"":v.slice(0,b)}(this._location.path);if(null===b)return null;const re=new Rt(this._location.bucket,b);return new ni(this._service,re)}_throwIfRoot(b){if(""===this._location.path)throw Te(b)}}function Ot(v,b,re){return ct.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(v,b,re){const et=yield Yt(v,{pageToken:re});b.prefixes.push(...et.prefixes),b.items.push(...et.items),null!=et.nextPageToken&&(yield Ot(v,b,et.nextPageToken))})).apply(this,arguments)}function Yt(v,b){null!=b&&"number"==typeof b.maxResults&&ht("options.maxResults",1,1e3,b.maxResults);const re=b||{},Pe=nn(v.storage,v._location,"/",re.pageToken,re.maxResults);return v.storage.makeRequestWithTokens(Pe,Fr)}function O(v){v._throwIfRoot("getDownloadURL");const b=function Gr(v,b,re){const et=bt(b.fullServerUrl(),v.host,v._protocol),$t=v.maxOperationRetryTime,qt=new j(et,"GET",function wt(v,b){return function re(Pe,et){const dt=je(v,et,b);return ce(null!==dt),function St(v,b,re,Pe){const et=an(b);if(null===et||!Ke(et.downloadTokens))return null;const dt=et.downloadTokens;if(0===dt.length)return null;const $t=encodeURIComponent;return dt.split(",").map(zn=>{const jn=v.fullPath;return bt("/b/"+$t(v.bucket)+"/o/"+$t(jn),re,Pe)+mt({alt:"media",token:zn})})[0]}(dt,et,v.host,v._protocol)}}(v,re),$t);return qt.errorHandler=Bt(b),qt}(v.storage,v._location,ee());return v.storage.makeRequestWithTokens(b,Fr).then(re=>{if(null===re)throw function W(){return new K(le.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return re})}function at(v,b){const re=function kr(v,b){const re=b.split("/").filter(Pe=>Pe.length>0).join("/");return 0===v.length?re:v+"/"+re}(v._location.path,b),Pe=new Rt(v._location.bucket,re);return new ni(v.storage,Pe)}function Ar(v,b){if(v instanceof hr){const re=v;if(null==re._bucket)throw function be(){return new K(le.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Z+"' property when initializing the app?")}();const Pe=new ni(re,re._bucket);return null!=b?Ar(Pe,b):Pe}return void 0!==b?at(v,b):v}function Dr(v,b){if(b&&function Tn(v){return/^[A-Za-z]+:\/\//.test(v)}(b)){if(v instanceof hr)return function Xn(v,b){return new ni(v,b)}(v,b);throw De("To use ref(service, url), the first argument must be a Storage instance.")}return Ar(v,b)}function Jn(v,b){const re=null==b?void 0:b[Z];return null==re?null:Rt.makeFromBucketSpec(re,v)}class hr{constructor(b,re,Pe,et,dt){this.app=b,this._authProvider=re,this._appCheckProvider=Pe,this._url=et,this._firebaseVersion=dt,this._bucket=null,this._host=Y,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=et?Rt.makeFromBucketSpec(et,this._host):Jn(this._host,this.app.options)}get host(){return this._host}set host(b){this._host=b,this._bucket=null!=this._url?Rt.makeFromBucketSpec(this._url,b):Jn(b,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(b){ht("time",0,Number.POSITIVE_INFINITY,b),this._maxUploadRetryTime=b}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(b){ht("time",0,Number.POSITIVE_INFINITY,b),this._maxOperationRetryTime=b}_getAuthToken(){var b=this;return(0,a.Z)(function*(){if(b._overrideAuthToken)return b._overrideAuthToken;const re=b._authProvider.getImmediate({optional:!0});if(re){const Pe=yield re.getToken();if(null!==Pe)return Pe.accessToken}return null})()}_getAppCheckToken(){var b=this;return(0,a.Z)(function*(){const re=b._appCheckProvider.getImmediate({optional:!0});return re?(yield re.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(b=>b.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(b){return new ni(this,b)}_makeRequest(b,re,Pe,et,dt=!0){if(this._deleted)return new At(Ae());{const $t=function wn(v,b,re,Pe,et,dt,$t=!0){const qt=mt(v.urlParams),gn=v.url+qt,zn=Object.assign({},v.headers);return function on(v,b){b&&(v["X-Firebase-GMPID"]=b)}(zn,b),function Vt(v,b){null!==b&&b.length>0&&(v.Authorization="Firebase "+b)}(zn,re),function Ht(v,b){v["X-Firebase-Storage-Version"]="webjs/"+(null!=b?b:"AppManager")}(zn,dt),function cn(v,b){null!==b&&(v["X-Firebase-AppCheck"]=b)}(zn,Pe),new Tt(gn,v.method,zn,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,et,$t)}(b,this._appId,Pe,et,re,this._firebaseVersion,dt);return this._requests.add($t),$t.getPromise().then(()=>this._requests.delete($t),()=>this._requests.delete($t)),$t}}makeRequestWithTokens(b,re){var Pe=this;return(0,a.Z)(function*(){const[et,dt]=yield Promise.all([Pe._getAuthToken(),Pe._getAppCheckToken()]);return Pe._makeRequest(b,re,et,dt).getPromise()})()}}const Lr="@firebase/storage",fn="storage";function In(v,b,re,Pe){return function Qe(v,b,re=hn.RAW,Pe){v._throwIfRoot("uploadString");const et=Sn(re,b),dt=Object.assign({},Pe);return null==dt.contentType&&null!=et.contentType&&(dt.contentType=et.contentType),function ve(v,b,re){v._throwIfRoot("uploadBytes");const Pe=Nn(v.storage,v._location,ee(),new cr(b,!0),re);return v.storage.makeRequestWithTokens(Pe,Fr).then(et=>({metadata:et,ref:v}))}(v,et.data,dt)}(v=(0,N.m9)(v),b,re,Pe)}function Pr(v,b,re){return function ie(v,b,re){return v._throwIfRoot("uploadBytesResumable"),new Or(v,new cr(b),re)}(v=(0,N.m9)(v),b,re)}function or(v){return function y(v){v._throwIfRoot("getMetadata");const b=Zt(v.storage,v._location,ee());return v.storage.makeRequestWithTokens(b,Fr)}(v=(0,N.m9)(v))}function bn(v,b){return function ae(v,b){v._throwIfRoot("updateMetadata");const re=function xt(v,b,re,Pe){const dt=bt(b.fullServerUrl(),v.host,v._protocol),qt=ke(re,Pe),zn=v.maxOperationRetryTime,ar=new j(dt,"PATCH",tt(v,Pe),zn);return ar.headers={"Content-Type":"application/json; charset=utf-8"},ar.body=qt,ar.errorHandler=Bt(b),ar}(v.storage,v._location,b,ee());return v.storage.makeRequestWithTokens(re,Fr)}(v=(0,N.m9)(v),b)}function ir(v,b){return Yt(v=(0,N.m9)(v),b)}function Ur(v){return function it(v){const b={prefixes:[],items:[]};return Ot(v,b).then(()=>b)}(v=(0,N.m9)(v))}function Ii(v){return O(v=(0,N.m9)(v))}function Xi(v){return function de(v){v._throwIfRoot("deleteObject");const b=function Et(v,b){const Pe=bt(b.fullServerUrl(),v.host,v._protocol),qt=new j(Pe,"DELETE",function $t(gn,zn){},v.maxOperationRetryTime);return qt.successCodes=[200,204],qt.errorHandler=Bt(b),qt}(v.storage,v._location);return v.storage.makeRequestWithTokens(b,Fr)}(v=(0,N.m9)(v))}function Pi(v,b){return Dr(v=(0,N.m9)(v),b)}function Mi(v,b){return at(v,b)}function Vr(v=(0,_.getApp)(),b){v=(0,N.m9)(v);const Pe=(0,_._getProvider)(v,fn).getImmediate({identifier:b}),et=(0,N.P0)("storage");return et&&Bi(Pe,...et),Pe}function Bi(v,b,re,Pe={}){!function qr(v,b,re,Pe={}){v.host=`${b}:${re}`,v._protocol="http";const{mockUserToken:et}=Pe;et&&(v._overrideAuthToken="string"==typeof et?et:(0,N.Sg)(et,v.app.options.projectId))}(v,b,re,Pe)}function pe(v,{instanceIdentifier:b}){const re=v.getProvider("app").getImmediate(),Pe=v.getProvider("auth-internal"),et=v.getProvider("app-check-internal");return new hr(re,Pe,et,b,_.SDK_VERSION)}!function Re(){(0,_._registerComponent)(new F.wA(fn,pe,"PUBLIC").setMultipleInstances(!0)),(0,_.registerVersion)(Lr,"0.11.2",""),(0,_.registerVersion)(Lr,"0.11.2","esm2017")}()},9058:(Lt,Ce,I)=>{"use strict";I.d(Ce,{BH:()=>be,G6:()=>rt,L:()=>Me,LL:()=>qe,P0:()=>ot,Pz:()=>Ge,Sg:()=>_e,UG:()=>Le,ZB:()=>ge,ZR:()=>Ke,aH:()=>ue,b$:()=>Te,eu:()=>he,hl:()=>fe,jU:()=>De,m9:()=>St,ne:()=>Qn,pd:()=>xn,q4:()=>Ze,r3:()=>Ht,ru:()=>Ae,tV:()=>K,uI:()=>W,vZ:()=>Jt,w1:()=>_t,xO:()=>fr,xb:()=>cn,z$:()=>te,zd:()=>hn});const F=function(ke){const J=[];let $=0;for(let R=0;R<ke.length;R++){let w=ke.charCodeAt(R);w<128?J[$++]=w:w<2048?(J[$++]=w>>6|192,J[$++]=63&w|128):55296==(64512&w)&&R+1<ke.length&&56320==(64512&ke.charCodeAt(R+1))?(w=65536+((1023&w)<<10)+(1023&ke.charCodeAt(++R)),J[$++]=w>>18|240,J[$++]=w>>12&63|128,J[$++]=w>>6&63|128,J[$++]=63&w|128):(J[$++]=w>>12|224,J[$++]=w>>6&63|128,J[$++]=63&w|128)}return J},Z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ke,J){if(!Array.isArray(ke))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let w=0;w<ke.length;w+=3){const j=ke[w],ce=w+1<ke.length,tt=ce?ke[w+1]:0,pt=w+2<ke.length,wt=pt?ke[w+2]:0;let Zt=(15&tt)<<2|wt>>6,nn=63&wt;pt||(nn=64,ce||(Zt=64)),R.push($[j>>2],$[(3&j)<<4|tt>>4],$[Zt],$[nn])}return R.join("")},encodeString(ke,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(ke):this.encodeByteArray(F(ke),J)},decodeString(ke,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(ke):function(ke){const J=[];let $=0,R=0;for(;$<ke.length;){const w=ke[$++];if(w<128)J[R++]=String.fromCharCode(w);else if(w>191&&w<224){const j=ke[$++];J[R++]=String.fromCharCode((31&w)<<6|63&j)}else if(w>239&&w<365){const pt=((7&w)<<18|(63&ke[$++])<<12|(63&ke[$++])<<6|63&ke[$++])-65536;J[R++]=String.fromCharCode(55296+(pt>>10)),J[R++]=String.fromCharCode(56320+(1023&pt))}else{const j=ke[$++],ce=ke[$++];J[R++]=String.fromCharCode((15&w)<<12|(63&j)<<6|63&ce)}}return J.join("")}(this.decodeStringToByteArray(ke,J))},decodeStringToByteArray(ke,J){this.init_();const $=J?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let w=0;w<ke.length;){const j=$[ke.charAt(w++)],tt=w<ke.length?$[ke.charAt(w)]:0;++w;const wt=w<ke.length?$[ke.charAt(w)]:64;++w;const Bt=w<ke.length?$[ke.charAt(w)]:64;if(++w,null==j||null==tt||null==wt||null==Bt)throw new Q;R.push(j<<2|tt>>4),64!==wt&&(R.push(tt<<4&240|wt>>2),64!==Bt&&R.push(wt<<6&192|Bt))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ke=0;ke<this.ENCODED_VALS.length;ke++)this.byteToCharMap_[ke]=this.ENCODED_VALS.charAt(ke),this.charToByteMap_[this.byteToCharMap_[ke]]=ke,this.byteToCharMapWebSafe_[ke]=this.ENCODED_VALS_WEBSAFE.charAt(ke),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ke]]=ke,ke>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ke)]=ke,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ke)]=ke)}}};class Q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(ke){return function(ke){const J=F(ke);return Z.encodeByteArray(J,!0)}(ke).replace(/\./g,"")},K=function(ke){try{return Z.decodeString(ke,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function ge(ke,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===ke&&(ke={});break;case Array:ke=[];break;default:return J}for(const $ in J)!J.hasOwnProperty($)||!we($)||(ke[$]=ge(ke[$],J[$]));return ke}function we(ke){return"__proto__"!==ke}const He=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ke=process.env.__FIREBASE_DEFAULTS__;return ke?JSON.parse(ke):void 0})()||(()=>{if(typeof document>"u")return;let ke;try{ke=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=ke&&K(ke[1]);return J&&JSON.parse(J)})()}catch(ke){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ke}`)}},Ze=ke=>{var J,$;return null===($=null===(J=He())||void 0===J?void 0:J.emulatorHosts)||void 0===$?void 0:$[ke]},ot=ke=>{const J=Ze(ke);if(!J)return;const $=J.lastIndexOf(":");if($<=0||$+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const R=parseInt(J.substring($+1),10);return"["===J[0]?[J.substring(1,$-1),R]:[J.substring(0,$),R]},ue=()=>{var ke;return null===(ke=He())||void 0===ke?void 0:ke.config},Ge=ke=>{var J;return null===(J=He())||void 0===J?void 0:J[`_${ke}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,$)=>{this.resolve=J,this.reject=$})}wrapCallback(J){return($,R)=>{$?this.reject($):this.resolve(R),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J($):J($,R))}}}function _e(ke,J){if(ke.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=J||"demo-project",w=ke.iat||0,j=ke.sub||ke.user_id;if(!j)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ce=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:w,exp:w+3600,auth_time:w,sub:j,user_id:j,firebase:{sign_in_provider:"custom",identities:{}}},ke);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(ce)),""].join(".")}function te(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(te())}function Le(){var ke;const J=null===(ke=He())||void 0===ke?void 0:ke.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function De(){return"object"==typeof self&&self.self===self}function Ae(){const ke="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ke&&void 0!==ke.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _t(){const ke=te();return ke.indexOf("MSIE ")>=0||ke.indexOf("Trident/")>=0}function rt(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){try{return"object"==typeof indexedDB}catch{return!1}}function he(){return new Promise((ke,J)=>{try{let $=!0;const R="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(R);w.onsuccess=()=>{w.result.close(),$||self.indexedDB.deleteDatabase(R),ke(!0)},w.onupgradeneeded=()=>{$=!1},w.onerror=()=>{var j;J((null===(j=w.error)||void 0===j?void 0:j.message)||"")}}catch($){J($)}})}class Ke extends Error{constructor(J,$,R){super($),this.code=J,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(J,$,R){this.service=J,this.serviceName=$,this.errors=R}create(J,...$){const R=$[0]||{},w=`${this.service}/${J}`,j=this.errors[J],ce=j?function ft(ke,J){return ke.replace(ht,($,R)=>{const w=J[R];return null!=w?String(w):`<${R}?>`})}(j,R):"Error";return new Ke(w,`${this.serviceName}: ${ce} (${w}).`,R)}}const ht=/\{\$([^}]+)}/g;function Ht(ke,J){return Object.prototype.hasOwnProperty.call(ke,J)}function cn(ke){for(const J in ke)if(Object.prototype.hasOwnProperty.call(ke,J))return!1;return!0}function Jt(ke,J){if(ke===J)return!0;const $=Object.keys(ke),R=Object.keys(J);for(const w of $){if(!R.includes(w))return!1;const j=ke[w],ce=J[w];if(Dn(j)&&Dn(ce)){if(!Jt(j,ce))return!1}else if(j!==ce)return!1}for(const w of R)if(!$.includes(w))return!1;return!0}function Dn(ke){return null!==ke&&"object"==typeof ke}function fr(ke){const J=[];for(const[$,R]of Object.entries(ke))Array.isArray(R)?R.forEach(w=>{J.push(encodeURIComponent($)+"="+encodeURIComponent(w))}):J.push(encodeURIComponent($)+"="+encodeURIComponent(R));return J.length?"&"+J.join("&"):""}function hn(ke){const J={};return ke.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[w,j]=R.split("=");J[decodeURIComponent(w)]=decodeURIComponent(j)}}),J}function xn(ke){const J=ke.indexOf("?");if(!J)return"";const $=ke.indexOf("#",J);return ke.substring(J,$>0?$:void 0)}function Qn(ke,J){const $=new mr(ke,J);return $.subscribe.bind($)}class mr{constructor(J,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{J(this)}).catch(R=>{this.error(R)})}next(J){this.forEachObserver($=>{$.next(J)})}error(J){this.forEachObserver($=>{$.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,$,R){let w;if(void 0===J&&void 0===$&&void 0===R)throw new Error("Missing Observer.");w=function en(ke,J){if("object"!=typeof ke||null===ke)return!1;for(const $ of J)if($ in ke&&"function"==typeof ke[$])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:$,complete:R},void 0===w.next&&(w.next=Ln),void 0===w.error&&(w.error=Ln),void 0===w.complete&&(w.complete=Ln);const j=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?w.error(this.finalError):w.complete()}catch{}}),this.observers.push(w),j}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,J)}sendOne(J,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{$(this.observers[J])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}function St(ke){return ke&&ke._delegate?ke._delegate:ke}},3630:(Lt,Ce,I)=>{"use strict";I.d(Ce,{c:()=>N,r:()=>le});const N=(te,W)=>{te.componentOnReady?te.componentOnReady().then(Le=>W(Le)):le(()=>W(te))},le=te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te)},191:(Lt,Ce,I)=>{"use strict";I.d(Ce,{L:()=>a,a:()=>_,b:()=>N,c:()=>F,d:()=>Y,g:()=>te});const a="ionViewWillEnter",_="ionViewDidEnter",N="ionViewWillLeave",F="ionViewDidLeave",Y="ionViewWillUnload",te=W=>W.classList.contains("ion-page")?W:W.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||W},6410:(Lt,Ce,I)=>{"use strict";I.d(Ce,{c:()=>nt});var a=I(6225),_=I(839);let N;const Y=We=>We.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z=We=>(void 0===N&&(N=void 0===We.style.animationName&&void 0!==We.style.webkitAnimationName?"-webkit-":""),N),Q=(We,He,Ze)=>{const ot=He.startsWith("animation")?Z(We):"";We.style.setProperty(ot+He,Ze)},ne=(We,He)=>{const Ze=He.startsWith("animation")?Z(We):"";We.style.removeProperty(Ze+He)},le=[],$e=(We=[],He)=>{if(void 0!==He){const Ze=Array.isArray(He)?He:[He];return[...We,...Ze]}return We},nt=We=>{let He,Ze,ot,ue,Ge,be,De,fe,he,Ue,Se,ht,bt,_e=[],te=[],W=[],Le=!1,Ae={},Te=[],Ve=[],_t={},Rt=0,At=!1,rt=!1,Ke=!0,qe=!1,ft=!0,mt=!1;const Kt=We,Dt=[],Tt=[],Ct=[],Vt=[],Ht=[],on=[],cn=[],wn=[],Jt=[],Dn=[],On=[],fr="function"==typeof AnimationEffect||void 0!==a.w&&"function"==typeof a.w.AnimationEffect,hn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&fr,Sn=()=>On,Ln=(ie,Qe)=>{const it=Qe.findIndex(Ot=>Ot.c===ie);it>-1&&Qe.splice(it,1)},sn=(ie,Qe)=>((null!=Qe&&Qe.oneTimeCallback?Tt:Dt).push({c:ie,o:Qe}),bt),an=()=>{if(hn)On.forEach(ie=>{ie.cancel()}),On.length=0;else{const ie=Vt.slice();(0,_.r)(()=>{ie.forEach(Qe=>{ne(Qe,"animation-name"),ne(Qe,"animation-duration"),ne(Qe,"animation-timing-function"),ne(Qe,"animation-iteration-count"),ne(Qe,"animation-delay"),ne(Qe,"animation-play-state"),ne(Qe,"animation-fill-mode"),ne(Qe,"animation-direction")})})}},Wn=()=>{on.forEach(ie=>{null!=ie&&ie.parentNode&&ie.parentNode.removeChild(ie)}),on.length=0},J=()=>void 0!==Ge?Ge:De?De.getFill():"both",$=()=>void 0!==he?he:void 0!==be?be:De?De.getDirection():"normal",R=()=>At?"linear":void 0!==ot?ot:De?De.getEasing():"linear",w=()=>rt?0:void 0!==Ue?Ue:void 0!==Ze?Ze:De?De.getDuration():0,j=()=>void 0!==ue?ue:De?De.getIterations():1,ce=()=>void 0!==Se?Se:void 0!==He?He:De?De.getDelay():0,pn=()=>{0!==Rt&&(Rt--,0===Rt&&((()=>{Fr(),Jt.forEach(ct=>ct()),Dn.forEach(ct=>ct());const ie=Ke?1:0,Qe=Te,it=Ve,Ot=_t;Vt.forEach(ct=>{const Yt=ct.classList;Qe.forEach(y=>Yt.add(y)),it.forEach(y=>Yt.remove(y));for(const y in Ot)Ot.hasOwnProperty(y)&&Q(ct,y,Ot[y])}),Dt.forEach(ct=>ct.c(ie,bt)),Tt.forEach(ct=>ct.c(ie,bt)),Tt.length=0,ft=!0,Ke&&(qe=!0),Ke=!0})(),De&&De.animationFinish()))},tr=(ie=!0)=>{Wn();const Qe=(We=>(We.forEach(He=>{for(const Ze in He)if(He.hasOwnProperty(Ze)){const ot=He[Ze];if("easing"===Ze)He["animation-timing-function"]=ot,delete He[Ze];else{const ue=Y(Ze);ue!==Ze&&(He[ue]=ot,delete He[Ze])}}}),We))(_e);Vt.forEach(it=>{if(Qe.length>0){const Ot=((We=[])=>We.map(He=>{const Ze=He.offset,ot=[];for(const ue in He)He.hasOwnProperty(ue)&&"offset"!==ue&&ot.push(`${ue}: ${He[ue]};`);return`${100*Ze}% { ${ot.join(" ")} }`}).join(" "))(Qe);ht=void 0!==We?We:(We=>{let He=le.indexOf(We);return He<0&&(He=le.push(We)-1),`ion-animation-${He}`})(Ot);const ct=((We,He,Ze)=>{var ot;const ue=(We=>{const He=void 0!==We.getRootNode?We.getRootNode():We;return He.head||He})(Ze),Ge=Z(Ze),be=ue.querySelector("#"+We);if(be)return be;const _e=(null!==(ot=Ze.ownerDocument)&&void 0!==ot?ot:document).createElement("style");return _e.id=We,_e.textContent=`@${Ge}keyframes ${We} { ${He} } @${Ge}keyframes ${We}-alt { ${He} }`,ue.appendChild(_e),_e})(ht,Ot,it);on.push(ct),Q(it,"animation-duration",`${w()}ms`),Q(it,"animation-timing-function",R()),Q(it,"animation-delay",`${ce()}ms`),Q(it,"animation-fill-mode",J()),Q(it,"animation-direction",$());const Yt=j()===1/0?"infinite":j().toString();Q(it,"animation-iteration-count",Yt),Q(it,"animation-play-state","paused"),ie&&Q(it,"animation-name",`${ct.id}-alt`),(0,_.r)(()=>{Q(it,"animation-name",ct.id||null)})}})},yr=(ie=!0)=>{(()=>{cn.forEach(Ot=>Ot()),wn.forEach(Ot=>Ot());const ie=te,Qe=W,it=Ae;Vt.forEach(Ot=>{const ct=Ot.classList;ie.forEach(Yt=>ct.add(Yt)),Qe.forEach(Yt=>ct.remove(Yt));for(const Yt in it)it.hasOwnProperty(Yt)&&Q(Ot,Yt,it[Yt])})})(),_e.length>0&&(hn?(Vt.forEach(ie=>{const Qe=ie.animate(_e,{id:Kt,delay:ce(),duration:w(),easing:R(),iterations:j(),fill:J(),direction:$()});Qe.pause(),On.push(Qe)}),On.length>0&&(On[0].onfinish=()=>{pn()})):tr(ie)),Le=!0},ci=ie=>{if(ie=Math.min(Math.max(ie,0),.9999),hn)On.forEach(Qe=>{Qe.currentTime=Qe.effect.getComputedTiming().delay+w()*ie,Qe.pause()});else{const Qe=`-${w()*ie}ms`;Vt.forEach(it=>{_e.length>0&&(Q(it,"animation-delay",Qe),Q(it,"animation-play-state","paused"))})}},Wr=ie=>{On.forEach(Qe=>{Qe.effect.updateTiming({delay:ce(),duration:w(),easing:R(),iterations:j(),fill:J(),direction:$()})}),void 0!==ie&&ci(ie)},vi=(ie=!0,Qe)=>{(0,_.r)(()=>{Vt.forEach(it=>{Q(it,"animation-name",ht||null),Q(it,"animation-duration",`${w()}ms`),Q(it,"animation-timing-function",R()),Q(it,"animation-delay",void 0!==Qe?`-${Qe*w()}ms`:`${ce()}ms`),Q(it,"animation-fill-mode",J()||null),Q(it,"animation-direction",$()||null);const Ot=j()===1/0?"infinite":j().toString();Q(it,"animation-iteration-count",Ot),ie&&Q(it,"animation-name",`${ht}-alt`),(0,_.r)(()=>{Q(it,"animation-name",ht||null)})})})},Zn=(ie=!1,Qe=!0,it)=>(ie&&Ht.forEach(Ot=>{Ot.update(ie,Qe,it)}),hn?Wr(it):vi(Qe,it),bt),Er=()=>{Le&&(hn?On.forEach(ie=>{ie.pause()}):Vt.forEach(ie=>{Q(ie,"animation-play-state","paused")}),mt=!0)},Ei=()=>{fe=void 0,pn()},Fr=()=>{fe&&clearTimeout(fe)},Or=ie=>new Promise(Qe=>{null!=ie&&ie.sync&&(rt=!0,sn(()=>rt=!1,{oneTimeCallback:!0})),Le||yr(),qe&&(hn?(ci(0),Wr()):vi(),qe=!1),ft&&(Rt=Ht.length+1,ft=!1);const it=()=>{Ln(Ot,Tt),Qe()},Ot=()=>{Ln(it,Ct),Qe()};sn(Ot,{oneTimeCallback:!0}),((ie,Qe)=>{Ct.push({c:ie,o:{oneTimeCallback:!0}})})(it),Ht.forEach(ct=>{ct.play()}),hn?(On.forEach(ie=>{ie.play()}),(0===_e.length||0===Vt.length)&&pn()):(()=>{if(Fr(),(0,_.r)(()=>{Vt.forEach(ie=>{_e.length>0&&Q(ie,"animation-play-state","running")})}),0===_e.length||0===Vt.length)pn();else{const ie=ce()||0,Qe=w()||0,it=j()||1;isFinite(it)&&(fe=setTimeout(Ei,ie+Qe*it+100)),((We,He)=>{let Ze;const ot={passive:!0},Ge=be=>{We===be.target&&(Ze&&Ze(),Fr(),(0,_.r)(()=>{Vt.forEach(ie=>{ne(ie,"animation-duration"),ne(ie,"animation-delay"),ne(ie,"animation-play-state")}),(0,_.r)(pn)}))};We&&(We.addEventListener("webkitAnimationEnd",Ge,ot),We.addEventListener("animationend",Ge,ot),Ze=()=>{We.removeEventListener("webkitAnimationEnd",Ge,ot),We.removeEventListener("animationend",Ge,ot)})})(Vt[0])}})(),mt=!1}),ki=(ie,Qe)=>{const it=_e[0];return void 0===it||void 0!==it.offset&&0!==it.offset?_e=[{offset:0,[ie]:Qe},..._e]:it[ie]=Qe,bt};return bt={parentAnimation:De,elements:Vt,childAnimations:Ht,id:Kt,animationFinish:pn,from:ki,to:(ie,Qe)=>{const it=_e[_e.length-1];return void 0===it||void 0!==it.offset&&1!==it.offset?_e=[..._e,{offset:1,[ie]:Qe}]:it[ie]=Qe,bt},fromTo:(ie,Qe,it)=>ki(ie,Qe).to(ie,it),parent:ie=>(De=ie,bt),play:Or,pause:()=>(Ht.forEach(ie=>{ie.pause()}),Er(),bt),stop:()=>{Ht.forEach(ie=>{ie.stop()}),Le&&(an(),Le=!1),At=!1,rt=!1,ft=!0,he=void 0,Ue=void 0,Se=void 0,Rt=0,qe=!1,Ke=!0,mt=!1,Ct.forEach(ie=>ie.c(0,bt)),Ct.length=0},destroy:ie=>(Ht.forEach(Qe=>{Qe.destroy(ie)}),(ie=>{an(),ie&&Wn()})(ie),Vt.length=0,Ht.length=0,_e.length=0,Dt.length=0,Tt.length=0,Le=!1,ft=!0,bt),keyframes:ie=>{const Qe=_e!==ie;return _e=ie,Qe&&(ie=>{hn?Sn().forEach(Qe=>{const it=Qe.effect;if(it.setKeyframes)it.setKeyframes(ie);else{const Ot=new KeyframeEffect(it.target,ie,it.getTiming());Qe.effect=Ot}}):tr()})(_e),bt},addAnimation:ie=>{if(null!=ie)if(Array.isArray(ie))for(const Qe of ie)Qe.parent(bt),Ht.push(Qe);else ie.parent(bt),Ht.push(ie);return bt},addElement:ie=>{if(null!=ie)if(1===ie.nodeType)Vt.push(ie);else if(ie.length>=0)for(let Qe=0;Qe<ie.length;Qe++)Vt.push(ie[Qe]);else console.error("Invalid addElement value");return bt},update:Zn,fill:ie=>(Ge=ie,Zn(!0),bt),direction:ie=>(be=ie,Zn(!0),bt),iterations:ie=>(ue=ie,Zn(!0),bt),duration:ie=>(!hn&&0===ie&&(ie=1),Ze=ie,Zn(!0),bt),easing:ie=>(ot=ie,Zn(!0),bt),delay:ie=>(He=ie,Zn(!0),bt),getWebAnimations:Sn,getKeyframes:()=>_e,getFill:J,getDirection:$,getDelay:ce,getIterations:j,getEasing:R,getDuration:w,afterAddRead:ie=>(Jt.push(ie),bt),afterAddWrite:ie=>(Dn.push(ie),bt),afterClearStyles:(ie=[])=>{for(const Qe of ie)_t[Qe]="";return bt},afterStyles:(ie={})=>(_t=ie,bt),afterRemoveClass:ie=>(Ve=$e(Ve,ie),bt),afterAddClass:ie=>(Te=$e(Te,ie),bt),beforeAddRead:ie=>(cn.push(ie),bt),beforeAddWrite:ie=>(wn.push(ie),bt),beforeClearStyles:(ie=[])=>{for(const Qe of ie)Ae[Qe]="";return bt},beforeStyles:(ie={})=>(Ae=ie,bt),beforeRemoveClass:ie=>(W=$e(W,ie),bt),beforeAddClass:ie=>(te=$e(te,ie),bt),onFinish:sn,isRunning:()=>0!==Rt&&!mt,progressStart:(ie=!1,Qe)=>(Ht.forEach(it=>{it.progressStart(ie,Qe)}),Er(),At=ie,Le||yr(),Zn(!1,!0,Qe),bt),progressStep:ie=>(Ht.forEach(Qe=>{Qe.progressStep(ie)}),ci(ie),bt),progressEnd:(ie,Qe,it)=>(At=!1,Ht.forEach(Ot=>{Ot.progressEnd(ie,Qe,it)}),void 0!==it&&(Ue=it),qe=!1,Ke=!0,0===ie?(he="reverse"===$()?"normal":"reverse","reverse"===he&&(Ke=!1),hn?(Zn(),ci(1-Qe)):(Se=(1-Qe)*w()*-1,Zn(!1,!1))):1===ie&&(hn?(Zn(),ci(Qe)):(Se=Qe*w()*-1,Zn(!1,!1))),void 0!==ie&&(sn(()=>{Ue=void 0,he=void 0,Se=void 0},{oneTimeCallback:!0}),De||Or()),bt)}}},3365:(Lt,Ce,I)=>{"use strict";I.d(Ce,{E:()=>K,a:()=>a,s:()=>ne});const a=le=>{try{if(le instanceof Q)return le.value;if(!F()||"string"!=typeof le||""===le)return le;if(le.includes("onload="))return"";const ge=document.createDocumentFragment(),we=document.createElement("div");ge.appendChild(we),we.innerHTML=le,Z.forEach(We=>{const He=ge.querySelectorAll(We);for(let Ze=He.length-1;Ze>=0;Ze--){const ot=He[Ze];ot.parentNode?ot.parentNode.removeChild(ot):ge.removeChild(ot);const ue=N(ot);for(let Ge=0;Ge<ue.length;Ge++)_(ue[Ge])}});const Be=N(ge);for(let We=0;We<Be.length;We++)_(Be[We]);const $e=document.createElement("div");$e.appendChild(ge);const nt=$e.querySelector("div");return null!==nt?nt.innerHTML:$e.innerHTML}catch(ge){return console.error(ge),""}},_=le=>{if(le.nodeType&&1!==le.nodeType)return;if(typeof NamedNodeMap<"u"&&!(le.attributes instanceof NamedNodeMap))return void le.remove();for(let we=le.attributes.length-1;we>=0;we--){const Be=le.attributes.item(we),$e=Be.name;if(!Y.includes($e.toLowerCase())){le.removeAttribute($e);continue}const nt=Be.value,We=le[$e];(null!=nt&&nt.toLowerCase().includes("javascript:")||null!=We&&We.toLowerCase().includes("javascript:"))&&le.removeAttribute($e)}const ge=N(le);for(let we=0;we<ge.length;we++)_(ge[we])},N=le=>null!=le.children?le.children:le.childNodes,F=()=>{var le;const ge=window,we=null===(le=null==ge?void 0:ge.Ionic)||void 0===le?void 0:le.config;return!we||(we.get?we.get("sanitizerEnabled",!0):!0===we.sanitizerEnabled||void 0===we.sanitizerEnabled)},Y=["class","id","href","src","name","slot"],Z=["script","style","iframe","meta","link","object","embed"];class Q{constructor(ge){this.value=ge}}const ne=le=>{const ge=window,we=ge.Ionic;if(!we||!we.config||"Object"===we.config.constructor.name)return ge.Ionic=ge.Ionic||{},ge.Ionic.config=Object.assign(Object.assign({},ge.Ionic.config),le),ge.Ionic.config},K=!1},6559:(Lt,Ce,I)=>{"use strict";I.d(Ce,{C:()=>Y,a:()=>N,d:()=>F});var a=I(5861),_=I(839);const N=function(){var Z=(0,a.Z)(function*(Q,ne,Me,K,le,ge){var we;if(Q)return Q.attachViewToDom(ne,Me,le,K);if(!(ge||"string"==typeof Me||Me instanceof HTMLElement))throw new Error("framework delegate is missing");const Be="string"==typeof Me?null===(we=ne.ownerDocument)||void 0===we?void 0:we.createElement(Me):Me;return K&&K.forEach($e=>Be.classList.add($e)),le&&Object.assign(Be,le),ne.appendChild(Be),yield new Promise($e=>(0,_.c)(Be,$e)),Be});return function(ne,Me,K,le,ge,we){return Z.apply(this,arguments)}}(),F=(Z,Q)=>{if(Q){if(Z)return Z.removeViewFromDom(Q.parentElement,Q);Q.remove()}return Promise.resolve()},Y=()=>{let Z,Q;return{attachViewToDom:function(){var K=(0,a.Z)(function*(le,ge,we={},Be=[]){var $e,nt;let We;if(Z=le,ge){const Ze="string"==typeof ge?null===($e=Z.ownerDocument)||void 0===$e?void 0:$e.createElement(ge):ge;Be.forEach(ot=>Ze.classList.add(ot)),Object.assign(Ze,we),Z.appendChild(Ze),We=Ze,yield new Promise(ot=>(0,_.c)(Ze,ot))}else if(Z.children.length>0&&("ION-MODAL"===Z.tagName||"ION-POPOVER"===Z.tagName)&&!(We=Z.children[0]).classList.contains("ion-delegate-host")){const ot=null===(nt=Z.ownerDocument)||void 0===nt?void 0:nt.createElement("div");ot.classList.add("ion-delegate-host"),Be.forEach(ue=>ot.classList.add(ue)),ot.append(...Z.children),Z.appendChild(ot),We=ot}const He=document.querySelector("ion-app")||document.body;return Q=document.createComment("ionic teleport"),Z.parentNode.insertBefore(Q,Z),He.appendChild(Z),null!=We?We:Z});return function(ge,we){return K.apply(this,arguments)}}(),removeViewFromDom:()=>(Z&&Q&&(Q.parentNode.insertBefore(Z,Q),Q.remove()),Promise.resolve())}}},619:(Lt,Ce,I)=>{"use strict";I.d(Ce,{G:()=>Y});class _{constructor(Q,ne,Me,K,le){this.id=ne,this.name=Me,this.disableScroll=le,this.priority=1e6*K+ne,this.ctrl=Q}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Q=this.ctrl.capture(this.name,this.id,this.priority);return Q&&this.disableScroll&&this.ctrl.disableScroll(this.id),Q}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class N{constructor(Q,ne,Me,K){this.id=ne,this.disable=Me,this.disableScroll=K,this.ctrl=Q}block(){if(this.ctrl){if(this.disable)for(const Q of this.disable)this.ctrl.disableGesture(Q,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Q of this.disable)this.ctrl.enableGesture(Q,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const F="backdrop-no-scroll",Y=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Q){var ne;return new _(this,this.newID(),Q.name,null!==(ne=Q.priority)&&void 0!==ne?ne:0,!!Q.disableScroll)}createBlocker(Q={}){return new N(this,this.newID(),Q.disable,!!Q.disableScroll)}start(Q,ne,Me){return this.canStart(Q)?(this.requestedStart.set(ne,Me),!0):(this.requestedStart.delete(ne),!1)}capture(Q,ne,Me){if(!this.start(Q,ne,Me))return!1;const K=this.requestedStart;let le=-1e4;if(K.forEach(ge=>{le=Math.max(le,ge)}),le===Me){this.capturedId=ne,K.clear();const ge=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Q}});return document.dispatchEvent(ge),!0}return K.delete(ne),!1}release(Q){this.requestedStart.delete(Q),this.capturedId===Q&&(this.capturedId=void 0)}disableGesture(Q,ne){let Me=this.disabledGestures.get(Q);void 0===Me&&(Me=new Set,this.disabledGestures.set(Q,Me)),Me.add(ne)}enableGesture(Q,ne){const Me=this.disabledGestures.get(Q);void 0!==Me&&Me.delete(ne)}disableScroll(Q){this.disabledScroll.add(Q),1===this.disabledScroll.size&&document.body.classList.add(F)}enableScroll(Q){this.disabledScroll.delete(Q),0===this.disabledScroll.size&&document.body.classList.remove(F)}canStart(Q){return!(void 0!==this.capturedId||this.isDisabled(Q))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Q){const ne=this.disabledGestures.get(Q);return!!(ne&&ne.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(Lt,Ce,I)=>{"use strict";I.r(Ce),I.d(Ce,{MENU_BACK_BUTTON_PRIORITY:()=>Y,OVERLAY_BACK_BUTTON_PRIORITY:()=>F,blockHardwareBackButton:()=>_,startHardwareBackButton:()=>N});var a=I(5861);const _=()=>{document.addEventListener("backbutton",()=>{})},N=()=>{const Z=document;let Q=!1;Z.addEventListener("backbutton",()=>{if(Q)return;let ne=0,Me=[];const K=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(we,Be){Me.push({priority:we,handler:Be,id:ne++})}}});Z.dispatchEvent(K);const le=function(){var we=(0,a.Z)(function*(Be){try{if(null!=Be&&Be.handler){const $e=Be.handler(ge);null!=$e&&(yield $e)}}catch($e){console.error($e)}});return function($e){return we.apply(this,arguments)}}(),ge=()=>{if(Me.length>0){let we={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Me.forEach(Be=>{Be.priority>=we.priority&&(we=Be)}),Q=!0,Me=Me.filter(Be=>Be.id!==we.id),le(we).then(()=>Q=!1)}};ge()})},F=100,Y=99},839:(Lt,Ce,I)=>{"use strict";I.d(Ce,{a:()=>ne,b:()=>Me,c:()=>N,d:()=>nt,e:()=>$e,f:()=>Be,g:()=>K,h:()=>we,i:()=>Q,j:()=>Ge,k:()=>Y,l:()=>We,m:()=>F,n:()=>ge,o:()=>He,p:()=>ue,q:()=>be,r:()=>le,s:()=>_e,t:()=>a,u:()=>Ze,v:()=>ot});const a=(te,W=0)=>new Promise(Le=>{_(te,W,Le)}),_=(te,W=0,Le)=>{let De,Ae;const Te={passive:!0},_t=()=>{De&&De()},Rt=At=>{(void 0===At||te===At.target)&&(_t(),Le(At))};return te&&(te.addEventListener("webkitTransitionEnd",Rt,Te),te.addEventListener("transitionend",Rt,Te),Ae=setTimeout(Rt,W+500),De=()=>{Ae&&(clearTimeout(Ae),Ae=void 0),te.removeEventListener("webkitTransitionEnd",Rt,Te),te.removeEventListener("transitionend",Rt,Te)}),_t},N=(te,W)=>{te.componentOnReady?te.componentOnReady().then(Le=>W(Le)):le(()=>W(te))},F=te=>void 0!==te.componentOnReady,Y=(te,W=[])=>{const Le={};return W.forEach(De=>{te.hasAttribute(De)&&(null!==te.getAttribute(De)&&(Le[De]=te.getAttribute(De)),te.removeAttribute(De))}),Le},Z=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Q=(te,W)=>{let Le=Z;return W&&W.length>0&&(Le=Le.filter(De=>!W.includes(De))),Y(te,Le)},ne=(te,W,Le,De)=>{var Ae;if(typeof window<"u"){const Te=window,Ve=null===(Ae=null==Te?void 0:Te.Ionic)||void 0===Ae?void 0:Ae.config;if(Ve){const _t=Ve.get("_ael");if(_t)return _t(te,W,Le,De);if(Ve._ael)return Ve._ael(te,W,Le,De)}}return te.addEventListener(W,Le,De)},Me=(te,W,Le,De)=>{var Ae;if(typeof window<"u"){const Te=window,Ve=null===(Ae=null==Te?void 0:Te.Ionic)||void 0===Ae?void 0:Ae.config;if(Ve){const _t=Ve.get("_rel");if(_t)return _t(te,W,Le,De);if(Ve._rel)return Ve._rel(te,W,Le,De)}}return te.removeEventListener(W,Le,De)},K=(te,W=te)=>te.shadowRoot||W,le=te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te),ge=te=>!!te.shadowRoot&&!!te.attachShadow,we=te=>{const W=te.closest("ion-item");return W?W.querySelector("ion-label"):null},Be=te=>{if(te.focus(),te.classList.contains("ion-focusable")){const W=te.closest("ion-app");W&&W.setFocus([te])}},$e=(te,W)=>{let Le;const De=te.getAttribute("aria-labelledby"),Ae=te.id;let Te=null!==De&&""!==De.trim()?De:W+"-lbl",Ve=null!==De&&""!==De.trim()?document.getElementById(De):we(te);return Ve?(null===De&&(Ve.id=Te),Le=Ve.textContent,Ve.setAttribute("aria-hidden","true")):""!==Ae.trim()&&(Ve=document.querySelector(`label[for="${Ae}"]`),Ve&&(""!==Ve.id?Te=Ve.id:Ve.id=Te=`${Ae}-lbl`,Le=Ve.textContent)),{label:Ve,labelId:Te,labelText:Le}},nt=(te,W,Le,De,Ae)=>{if(te||ge(W)){let Te=W.querySelector("input.aux-input");Te||(Te=W.ownerDocument.createElement("input"),Te.type="hidden",Te.classList.add("aux-input"),W.appendChild(Te)),Te.disabled=Ae,Te.name=Le,Te.value=De||""}},We=(te,W,Le)=>Math.max(te,Math.min(W,Le)),He=(te,W)=>{if(!te){const Le="ASSERT: "+W;throw console.error(Le),new Error(Le)}},Ze=te=>te.timeStamp||Date.now(),ot=te=>{if(te){const W=te.changedTouches;if(W&&W.length>0){const Le=W[0];return{x:Le.clientX,y:Le.clientY}}if(void 0!==te.pageX)return{x:te.pageX,y:te.pageY}}return{x:0,y:0}},ue=te=>{const W="rtl"===document.dir;switch(te){case"start":return W;case"end":return!W;default:throw new Error(`"${te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ge=(te,W)=>{const Le=te._original||te;return{_original:te,emit:be(Le.emit.bind(Le),W)}},be=(te,W=0)=>{let Le;return(...De)=>{clearTimeout(Le),Le=setTimeout(te,W,...De)}},_e=(te,W)=>{if(null!=te||(te={}),null!=W||(W={}),te===W)return!0;const Le=Object.keys(te);if(Le.length!==Object.keys(W).length)return!1;for(const De of Le)if(!(De in W)||te[De]!==W[De])return!1;return!0}},5687:(Lt,Ce,I)=>{"use strict";I.d(Ce,{m:()=>ge});var a=I(5861),_=I(6710),N=I(2124),F=I(839),Y=I(9474),Z=I(6410);const Q=we=>(0,Z.c)().duration(we?400:300),ne=we=>{let Be,$e;const nt=we.width+8,We=(0,Z.c)(),He=(0,Z.c)();we.isEndSide?(Be=nt+"px",$e="0px"):(Be=-nt+"px",$e="0px"),We.addElement(we.menuInnerEl).fromTo("transform",`translateX(${Be})`,`translateX(${$e})`);const ot="ios"===(0,Y.b)(we),ue=ot?.2:.25;return He.addElement(we.backdropEl).fromTo("opacity",.01,ue),Q(ot).addAnimation([We,He])},Me=we=>{let Be,$e;const nt=(0,Y.b)(we),We=we.width;we.isEndSide?(Be=-We+"px",$e=We+"px"):(Be=We+"px",$e=-We+"px");const He=(0,Z.c)().addElement(we.menuInnerEl).fromTo("transform",`translateX(${$e})`,"translateX(0px)"),Ze=(0,Z.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${Be})`),ot=(0,Z.c)().addElement(we.backdropEl).fromTo("opacity",.01,.32);return Q("ios"===nt).addAnimation([He,Ze,ot])},K=we=>{const Be=(0,Y.b)(we),$e=we.width*(we.isEndSide?-1:1)+"px",nt=(0,Z.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${$e})`);return Q("ios"===Be).addAnimation(nt)},ge=(()=>{const we=new Map,Be=[],$e=function(){var fe=(0,a.Z)(function*(he){const Ue=yield Ge(he,!0);return!!Ue&&Ue.open()});return function(Ue){return fe.apply(this,arguments)}}(),nt=function(){var fe=(0,a.Z)(function*(he){const Ue=yield void 0!==he?Ge(he,!0):be();return void 0!==Ue&&Ue.close()});return function(Ue){return fe.apply(this,arguments)}}(),We=function(){var fe=(0,a.Z)(function*(he){const Ue=yield Ge(he,!0);return!!Ue&&Ue.toggle()});return function(Ue){return fe.apply(this,arguments)}}(),He=function(){var fe=(0,a.Z)(function*(he,Ue){const Se=yield Ge(Ue);return Se&&(Se.disabled=!he),Se});return function(Ue,Se){return fe.apply(this,arguments)}}(),Ze=function(){var fe=(0,a.Z)(function*(he,Ue){const Se=yield Ge(Ue);return Se&&(Se.swipeGesture=he),Se});return function(Ue,Se){return fe.apply(this,arguments)}}(),ot=function(){var fe=(0,a.Z)(function*(he){if(null!=he){const Ue=yield Ge(he);return void 0!==Ue&&Ue.isOpen()}return void 0!==(yield be())});return function(Ue){return fe.apply(this,arguments)}}(),ue=function(){var fe=(0,a.Z)(function*(he){const Ue=yield Ge(he);return!!Ue&&!Ue.disabled});return function(Ue){return fe.apply(this,arguments)}}(),Ge=function(){var fe=(0,a.Z)(function*(he,Ue=!1){if(yield rt(),"start"===he||"end"===he){const Ke=Be.filter(ft=>ft.side===he&&!ft.disabled);if(Ke.length>=1)return Ke.length>1&&Ue&&(0,_.p)(`menuController queried for a menu on the "${he}" side, but ${Ke.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ke.map(ft=>ft.el)),Ke[0].el;const qe=Be.filter(ft=>ft.side===he);if(qe.length>=1)return qe.length>1&&Ue&&(0,_.p)(`menuController queried for a menu on the "${he}" side, but ${qe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,qe.map(ft=>ft.el)),qe[0].el}else if(null!=he)return At(Ke=>Ke.menuId===he);return At(Ke=>!Ke.disabled)||(Be.length>0?Be[0].el:void 0)});return function(Ue){return fe.apply(this,arguments)}}(),be=function(){var fe=(0,a.Z)(function*(){return yield rt(),Ve()});return function(){return fe.apply(this,arguments)}}(),_e=function(){var fe=(0,a.Z)(function*(){return yield rt(),_t()});return function(){return fe.apply(this,arguments)}}(),te=function(){var fe=(0,a.Z)(function*(){return yield rt(),Rt()});return function(){return fe.apply(this,arguments)}}(),W=(fe,he)=>{we.set(fe,he)},Ae=function(){var fe=(0,a.Z)(function*(he,Ue,Se){if(Rt())return!1;if(Ue){const Ke=yield be();Ke&&he.el!==Ke&&(yield Ke.setOpen(!1,!1))}return he._setOpen(Ue,Se)});return function(Ue,Se,Ke){return fe.apply(this,arguments)}}(),Ve=()=>At(fe=>fe._isOpen),_t=()=>Be.map(fe=>fe.el),Rt=()=>Be.some(fe=>fe.isAnimating),At=fe=>{const he=Be.find(fe);if(void 0!==he)return he.el},rt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(fe=>new Promise(he=>(0,F.c)(fe,he))));return W("reveal",K),W("push",Me),W("overlay",ne),typeof document<"u"&&document.addEventListener("ionBackButton",fe=>{const he=Ve();he&&fe.detail.register(N.MENU_BACK_BUTTON_PRIORITY,()=>he.close())}),{registerAnimation:W,get:Ge,getMenus:_e,getOpen:be,isEnabled:ue,swipeGesture:Ze,isAnimating:te,isOpen:ot,enable:He,toggle:We,close:nt,open:$e,_getOpenSync:Ve,_createAnimation:(fe,he)=>{const Ue=we.get(fe);if(!Ue)throw new Error("animation not registered");return Ue(he)},_register:fe=>{Be.indexOf(fe)<0&&Be.push(fe)},_unregister:fe=>{const he=Be.indexOf(fe);he>-1&&Be.splice(he,1)},_setOpen:Ae}})()},8158:(Lt,Ce,I)=>{"use strict";I.d(Ce,{B:()=>ge,H:()=>Rt,a:()=>Er,b:()=>nn,c:()=>ft,d:()=>Kt,e:()=>ki,f:()=>mt,g:()=>ht,h:()=>Ve,i:()=>ke,j:()=>we,r:()=>pn,w:()=>Yi});var a=I(5861);let F,Y,Z,Q=!1,ne=!1,Me=!1,K=!1,le=!1;const ge={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},we=ve=>{const ie=new URL(ve,rr.$resourcesUrl$);return ie.origin!==Ai.location.origin?ie.href:ie.pathname},ot="s-id",ue="sty-id",_e="http://www.w3.org/1999/xlink",te={},Ae=ve=>"object"==(ve=typeof ve)||"function"===ve;function Te(ve){var ie,Qe,it;return null!==(it=null===(Qe=null===(ie=ve.head)||void 0===ie?void 0:ie.querySelector('meta[name="csp-nonce"]'))||void 0===Qe?void 0:Qe.getAttribute("content"))&&void 0!==it?it:void 0}const Ve=(ve,ie,...Qe)=>{let it=null,Ot=null,ct=null,Yt=!1,y=!1;const ae=[],O=at=>{for(let Tn=0;Tn<at.length;Tn++)it=at[Tn],Array.isArray(it)?O(it):null!=it&&"boolean"!=typeof it&&((Yt="function"!=typeof ve&&!Ae(it))&&(it=String(it)),Yt&&y?ae[ae.length-1].$text$+=it:ae.push(Yt?_t(null,it):it),y=Yt)};if(O(Qe),ie){ie.key&&(Ot=ie.key),ie.name&&(ct=ie.name);{const at=ie.className||ie.class;at&&(ie.class="object"!=typeof at?at:Object.keys(at).filter(Tn=>at[Tn]).join(" "))}}if("function"==typeof ve)return ve(null===ie?{}:ie,ae,rt);const de=_t(ve,null);return de.$attrs$=ie,ae.length>0&&(de.$children$=ae),de.$key$=Ot,de.$name$=ct,de},_t=(ve,ie)=>({$flags$:0,$tag$:ve,$text$:ie,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Rt={},rt={forEach:(ve,ie)=>ve.map(fe).forEach(ie),map:(ve,ie)=>ve.map(fe).map(ie).map(he)},fe=ve=>({vattrs:ve.$attrs$,vchildren:ve.$children$,vkey:ve.$key$,vname:ve.$name$,vtag:ve.$tag$,vtext:ve.$text$}),he=ve=>{if("function"==typeof ve.vtag){const Qe=Object.assign({},ve.vattrs);return ve.vkey&&(Qe.key=ve.vkey),ve.vname&&(Qe.name=ve.vname),Ve(ve.vtag,Qe,...ve.vchildren||[])}const ie=_t(ve.vtag,ve.vtext);return ie.$attrs$=ve.vattrs,ie.$children$=ve.vchildren,ie.$key$=ve.vkey,ie.$name$=ve.vname,ie},Se=(ve,ie,Qe,it,Ot,ct,Yt)=>{let y,ae,O,de;if(1===ct.nodeType){for(y=ct.getAttribute("c-id"),y&&(ae=y.split("."),(ae[0]===Yt||"0"===ae[0])&&(O={$flags$:0,$hostId$:ae[0],$nodeId$:ae[1],$depth$:ae[2],$index$:ae[3],$tag$:ct.tagName.toLowerCase(),$elm$:ct,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ie.push(O),ct.removeAttribute("c-id"),ve.$children$||(ve.$children$=[]),ve.$children$[O.$index$]=O,ve=O,it&&"0"===O.$depth$&&(it[O.$index$]=O.$elm$))),de=ct.childNodes.length-1;de>=0;de--)Se(ve,ie,Qe,it,Ot,ct.childNodes[de],Yt);if(ct.shadowRoot)for(de=ct.shadowRoot.childNodes.length-1;de>=0;de--)Se(ve,ie,Qe,it,Ot,ct.shadowRoot.childNodes[de],Yt)}else if(8===ct.nodeType)ae=ct.nodeValue.split("."),(ae[1]===Yt||"0"===ae[1])&&(y=ae[0],O={$flags$:0,$hostId$:ae[1],$nodeId$:ae[2],$depth$:ae[3],$index$:ae[4],$elm$:ct,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===y?(O.$elm$=ct.nextSibling,O.$elm$&&3===O.$elm$.nodeType&&(O.$text$=O.$elm$.textContent,ie.push(O),ct.remove(),ve.$children$||(ve.$children$=[]),ve.$children$[O.$index$]=O,it&&"0"===O.$depth$&&(it[O.$index$]=O.$elm$))):O.$hostId$===Yt&&("s"===y?(O.$tag$="slot",ct["s-sn"]=ae[5]?O.$name$=ae[5]:"",ct["s-sr"]=!0,it&&(O.$elm$=Rr.createElement(O.$tag$),O.$name$&&O.$elm$.setAttribute("name",O.$name$),ct.parentNode.insertBefore(O.$elm$,ct),ct.remove(),"0"===O.$depth$&&(it[O.$index$]=O.$elm$)),Qe.push(O),ve.$children$||(ve.$children$=[]),ve.$children$[O.$index$]=O):"r"===y&&(it?ct.remove():(Ot["s-cr"]=ct,ct["s-cn"]=!0))));else if(ve&&"style"===ve.$tag$){const at=_t(null,ct.textContent);at.$elm$=ct,at.$index$="0",ve.$children$=[at]}},Ke=(ve,ie)=>{if(1===ve.nodeType){let Qe=0;for(;Qe<ve.childNodes.length;Qe++)Ke(ve.childNodes[Qe],ie);if(ve.shadowRoot)for(Qe=0;Qe<ve.shadowRoot.childNodes.length;Qe++)Ke(ve.shadowRoot.childNodes[Qe],ie)}else if(8===ve.nodeType){const Qe=ve.nodeValue.split(".");"o"===Qe[0]&&(ie.set(Qe[1]+"."+Qe[2],ve),ve.nodeValue="",ve["s-en"]=Qe[3])}},ft=ve=>Zn.push(ve),ht=ve=>Nn(ve).$modeName$,mt=ve=>Nn(ve).$hostElement$,Kt=(ve,ie,Qe)=>{const it=mt(ve);return{emit:Ot=>Dt(it,ie,{bubbles:!!(4&Qe),composed:!!(2&Qe),cancelable:!!(1&Qe),detail:Ot})}},Dt=(ve,ie,Qe)=>{const it=rr.ce(ie,Qe);return ve.dispatchEvent(it),it},Tt=new WeakMap,Ct=(ve,ie,Qe)=>{let it=vi.get(ve);Fr&&Qe?(it=it||new CSSStyleSheet,"string"==typeof it?it=ie:it.replaceSync(ie)):it=ie,vi.set(ve,it)},Vt=(ve,ie,Qe)=>{var it;const Ot=on(ie,Qe),ct=vi.get(Ot);if(ve=11===ve.nodeType?ve:Rr,ct)if("string"==typeof ct){let y,Yt=Tt.get(ve=ve.head||ve);if(Yt||Tt.set(ve,Yt=new Set),!Yt.has(Ot)){if(ve.host&&(y=ve.querySelector(`[${ue}="${Ot}"]`)))y.innerHTML=ct;else{y=Rr.createElement("style"),y.innerHTML=ct;const ae=null!==(it=rr.$nonce$)&&void 0!==it?it:Te(Rr);null!=ae&&y.setAttribute("nonce",ae),ve.insertBefore(y,ve.querySelector("link"))}Yt&&Yt.add(Ot)}}else ve.adoptedStyleSheets.includes(ct)||(ve.adoptedStyleSheets=[...ve.adoptedStyleSheets,ct]);return Ot},on=(ve,ie)=>"sc-"+(ie&&32&ve.$flags$?ve.$tagName$+"-"+ie:ve.$tagName$),cn=ve=>ve.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),wn=(ve,ie,Qe,it,Ot,ct)=>{if(Qe!==it){let Yt=Br(ve,ie),y=ie.toLowerCase();if("class"===ie){const ae=ve.classList,O=Dn(Qe),de=Dn(it);ae.remove(...O.filter(at=>at&&!de.includes(at))),ae.add(...de.filter(at=>at&&!O.includes(at)))}else if("style"===ie){for(const ae in Qe)(!it||null==it[ae])&&(ae.includes("-")?ve.style.removeProperty(ae):ve.style[ae]="");for(const ae in it)(!Qe||it[ae]!==Qe[ae])&&(ae.includes("-")?ve.style.setProperty(ae,it[ae]):ve.style[ae]=it[ae])}else if("key"!==ie)if("ref"===ie)it&&it(ve);else if(Yt||"o"!==ie[0]||"n"!==ie[1]){const ae=Ae(it);if((Yt||ae&&null!==it)&&!Ot)try{if(ve.tagName.includes("-"))ve[ie]=it;else{const de=null==it?"":it;"list"===ie?Yt=!1:(null==Qe||ve[ie]!=de)&&(ve[ie]=de)}}catch{}let O=!1;y!==(y=y.replace(/^xlink\:?/,""))&&(ie=y,O=!0),null==it||!1===it?(!1!==it||""===ve.getAttribute(ie))&&(O?ve.removeAttributeNS(_e,ie):ve.removeAttribute(ie)):(!Yt||4&ct||Ot)&&!ae&&(it=!0===it?"":it,O?ve.setAttributeNS(_e,ie,it):ve.setAttribute(ie,it))}else if(ie="-"===ie[2]?ie.slice(3):Br(Ai,y)?y.slice(2):y[2]+ie.slice(3),Qe||it){const ae=ie.endsWith(On);ie=ie.replace(fr,""),Qe&&rr.rel(ve,ie,Qe,ae),it&&rr.ael(ve,ie,it,ae)}}},Jt=/\s/,Dn=ve=>ve?ve.split(Jt):[],On="Capture",fr=new RegExp(On+"$"),hn=(ve,ie,Qe,it)=>{const Ot=11===ie.$elm$.nodeType&&ie.$elm$.host?ie.$elm$.host:ie.$elm$,ct=ve&&ve.$attrs$||te,Yt=ie.$attrs$||te;for(it in ct)it in Yt||wn(Ot,it,ct[it],void 0,Qe,ie.$flags$);for(it in Yt)wn(Ot,it,ct[it],Yt[it],Qe,ie.$flags$)},xn=(ve,ie,Qe,it)=>{var Ot;const ct=ie.$children$[Qe];let y,ae,O,Yt=0;if(Q||(Me=!0,"slot"===ct.$tag$&&(F&&it.classList.add(F+"-s"),ct.$flags$|=ct.$children$?2:1)),null!==ct.$text$)y=ct.$elm$=Rr.createTextNode(ct.$text$);else if(1&ct.$flags$)y=ct.$elm$=Rr.createTextNode("");else{if(K||(K="svg"===ct.$tag$),y=ct.$elm$=Rr.createElementNS(K?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ct.$flags$?"slot-fb":ct.$tag$),K&&"foreignObject"===ct.$tag$&&(K=!1),hn(null,ct,K),(ve=>null!=ve)(F)&&y["s-si"]!==F&&y.classList.add(y["s-si"]=F),ct.$children$)for(Yt=0;Yt<ct.$children$.length;++Yt)ae=xn(ve,ct,Yt,y),ae&&y.appendChild(ae);"svg"===ct.$tag$?K=!1:"foreignObject"===y.tagName&&(K=!0)}return y["s-hn"]=Z,3&ct.$flags$&&(y["s-sr"]=!0,y["s-fs"]=null===(Ot=ct.$attrs$)||void 0===Ot?void 0:Ot.slot,y["s-cr"]=Y,y["s-sn"]=ct.$name$||"",O=ve&&ve.$children$&&ve.$children$[Qe],O&&O.$tag$===ct.$tag$&&ve.$elm$&&Sn(ve.$elm$,!1)),y},Sn=(ve,ie)=>{var Qe;rr.$flags$|=1;const it=ve.childNodes;for(let Ot=it.length-1;Ot>=0;Ot--){const ct=it[Ot];ct["s-hn"]!==Z&&ct["s-ol"]&&(xr(ct).insertBefore(ct,Ln(ct)),ct["s-ol"].remove(),ct["s-ol"]=void 0,ct["s-sh"]=void 0,1===ct.nodeType&&ct.setAttribute("slot",null!==(Qe=ct["s-sn"])&&void 0!==Qe?Qe:""),Me=!0),ie&&Sn(ct,ie)}rr.$flags$&=-2},Qn=(ve,ie,Qe,it,Ot,ct)=>{let y,Yt=ve["s-cr"]&&ve["s-cr"].parentNode||ve;for(Yt.shadowRoot&&Yt.tagName===Z&&(Yt=Yt.shadowRoot);Ot<=ct;++Ot)it[Ot]&&(y=xn(null,Qe,Ot,ve),y&&(it[Ot].$elm$=y,Yt.insertBefore(y,Ln(ie))))},mr=(ve,ie,Qe)=>{for(let it=ie;it<=Qe;++it){const Ot=ve[it];if(Ot){const ct=Ot.$elm$;br(Ot),ct&&(ne=!0,ct["s-ol"]?ct["s-ol"].remove():Sn(ct,!0),ct.remove())}}},en=(ve,ie)=>ve.$tag$===ie.$tag$&&("slot"===ve.$tag$?ve.$name$===ie.$name$:ve.$key$===ie.$key$),Ln=ve=>ve&&ve["s-ol"]||ve,xr=ve=>(ve["s-ol"]?ve["s-ol"]:ve).parentNode,sn=(ve,ie)=>{const Qe=ie.$elm$=ve.$elm$,it=ve.$children$,Ot=ie.$children$,ct=ie.$tag$,Yt=ie.$text$;let y;null===Yt?(K="svg"===ct||"foreignObject"!==ct&&K,"slot"===ct||hn(ve,ie,K),null!==it&&null!==Ot?((ve,ie,Qe,it)=>{let Ar,Dr,Ot=0,ct=0,Yt=0,y=0,ae=ie.length-1,O=ie[0],de=ie[ae],at=it.length-1,Tn=it[0],Xn=it[at];for(;Ot<=ae&&ct<=at;)if(null==O)O=ie[++Ot];else if(null==de)de=ie[--ae];else if(null==Tn)Tn=it[++ct];else if(null==Xn)Xn=it[--at];else if(en(O,Tn))sn(O,Tn),O=ie[++Ot],Tn=it[++ct];else if(en(de,Xn))sn(de,Xn),de=ie[--ae],Xn=it[--at];else if(en(O,Xn))("slot"===O.$tag$||"slot"===Xn.$tag$)&&Sn(O.$elm$.parentNode,!1),sn(O,Xn),ve.insertBefore(O.$elm$,de.$elm$.nextSibling),O=ie[++Ot],Xn=it[--at];else if(en(de,Tn))("slot"===O.$tag$||"slot"===Xn.$tag$)&&Sn(de.$elm$.parentNode,!1),sn(de,Tn),ve.insertBefore(de.$elm$,O.$elm$),de=ie[--ae],Tn=it[++ct];else{for(Yt=-1,y=Ot;y<=ae;++y)if(ie[y]&&null!==ie[y].$key$&&ie[y].$key$===Tn.$key$){Yt=y;break}Yt>=0?(Dr=ie[Yt],Dr.$tag$!==Tn.$tag$?Ar=xn(ie&&ie[ct],Qe,Yt,ve):(sn(Dr,Tn),ie[Yt]=void 0,Ar=Dr.$elm$),Tn=it[++ct]):(Ar=xn(ie&&ie[ct],Qe,ct,ve),Tn=it[++ct]),Ar&&xr(O.$elm$).insertBefore(Ar,Ln(O.$elm$))}Ot>ae?Qn(ve,null==it[at+1]?null:it[at+1].$elm$,Qe,it,ct,at):ct>at&&mr(ie,Ot,ae)})(Qe,it,ie,Ot):null!==Ot?(null!==ve.$text$&&(Qe.textContent=""),Qn(Qe,null,ie,Ot,0,Ot.length-1)):null!==it&&mr(it,0,it.length-1),K&&"svg"===ct&&(K=!1)):(y=Qe["s-cr"])?y.parentNode.textContent=Yt:ve.$text$!==Yt&&(Qe.data=Yt)},cr=ve=>{const ie=ve.childNodes;for(const Qe of ie)if(1===Qe.nodeType){if(Qe["s-sr"]){const it=Qe["s-sn"];Qe.hidden=!1;for(const Ot of ie)if(Ot!==Qe)if(Ot["s-hn"]!==Qe["s-hn"]||""!==it){if(1===Ot.nodeType&&(it===Ot.getAttribute("slot")||it===Ot["s-sn"])){Qe.hidden=!0;break}}else if(1===Ot.nodeType||3===Ot.nodeType&&""!==Ot.textContent.trim()){Qe.hidden=!0;break}}cr(Qe)}},an=[],Wn=ve=>{let ie,Qe,it;for(const Ot of ve.childNodes){if(Ot["s-sr"]&&(ie=Ot["s-cr"])&&ie.parentNode){Qe=ie.parentNode.childNodes;const ct=Ot["s-sn"];for(it=Qe.length-1;it>=0;it--)if(ie=Qe[it],!ie["s-cn"]&&!ie["s-nr"]&&ie["s-hn"]!==Ot["s-hn"])if(kr(ie,ct)){let Yt=an.find(y=>y.$nodeToRelocate$===ie);ne=!0,ie["s-sn"]=ie["s-sn"]||ct,Yt?(Yt.$nodeToRelocate$["s-sh"]=Ot["s-hn"],Yt.$slotRefNode$=Ot):(ie["s-sh"]=Ot["s-hn"],an.push({$slotRefNode$:Ot,$nodeToRelocate$:ie})),ie["s-sr"]&&an.map(y=>{kr(y.$nodeToRelocate$,ie["s-sn"])&&(Yt=an.find(ae=>ae.$nodeToRelocate$===ie),Yt&&!y.$slotRefNode$&&(y.$slotRefNode$=Yt.$slotRefNode$))})}else an.some(Yt=>Yt.$nodeToRelocate$===ie)||an.push({$nodeToRelocate$:ie})}1===Ot.nodeType&&Wn(Ot)}},kr=(ve,ie)=>1===ve.nodeType?null===ve.getAttribute("slot")&&""===ie||ve.getAttribute("slot")===ie:ve["s-sn"]===ie||""===ie,br=ve=>{ve.$attrs$&&ve.$attrs$.ref&&ve.$attrs$.ref(null),ve.$children$&&ve.$children$.map(br)},Pn=(ve,ie)=>{ie&&!ve.$onRenderResolve$&&ie["s-p"]&&ie["s-p"].push(new Promise(Qe=>ve.$onRenderResolve$=Qe))},Nt=(ve,ie)=>{if(ve.$flags$|=16,!(4&ve.$flags$))return Pn(ve,ve.$ancestorComponent$),Yi(()=>ye(ve,ie));ve.$flags$|=512},ye=(ve,ie)=>{const it=ve.$lazyInstance$;let Ot;return ie&&(ve.$flags$|=256,ve.$queuedListeners$&&(ve.$queuedListeners$.map(([ct,Yt])=>$(it,ct,Yt)),ve.$queuedListeners$=void 0),Ot=$(it,"componentWillLoad")),Ot=ee(Ot,()=>$(it,"componentWillRender")),ee(Ot,()=>st(ve,it,ie))},ee=(ve,ie)=>Ne(ve)?ve.then(ie):ie(),Ne=ve=>ve instanceof Promise||ve&&ve.then&&"function"==typeof ve.then,st=function(){var ve=(0,a.Z)(function*(ie,Qe,it){var Ot;const ct=ie.$hostElement$,y=ct["s-rc"];it&&(ve=>{const ie=ve.$cmpMeta$,Qe=ve.$hostElement$,it=ie.$flags$,ct=Vt(Qe.shadowRoot?Qe.shadowRoot:Qe.getRootNode(),ie,ve.$modeName$);10&it&&(Qe["s-sc"]=ct,Qe.classList.add(ct+"-h"),2&it&&Qe.classList.add(ct+"-s"))})(ie);je(ie,Qe,ct,it),y&&(y.map(O=>O()),ct["s-rc"]=void 0);{const O=null!==(Ot=ct["s-p"])&&void 0!==Ot?Ot:[],de=()=>St(ie);0===O.length?de():(Promise.all(O).then(de),ie.$flags$|=4,O.length=0)}});return function(Qe,it,Ot){return ve.apply(this,arguments)}}(),je=(ve,ie,Qe,it)=>{try{ie=ie.render&&ie.render(),ve.$flags$&=-17,ve.$flags$|=2,((ve,ie,Qe=!1)=>{var it,Ot;const ct=ve.$hostElement$,Yt=ve.$cmpMeta$,y=ve.$vnode$||_t(null,null),ae=(ve=>ve&&ve.$tag$===Rt)(ie)?ie:Ve(null,null,ie);if(Z=ct.tagName,Yt.$attrsToReflect$&&(ae.$attrs$=ae.$attrs$||{},Yt.$attrsToReflect$.map(([O,de])=>ae.$attrs$[de]=ct[O])),Qe&&ae.$attrs$)for(const O of Object.keys(ae.$attrs$))ct.hasAttribute(O)&&!["key","ref","style","class"].includes(O)&&(ae.$attrs$[O]=ct[O]);if(ae.$tag$=null,ae.$flags$|=4,ve.$vnode$=ae,ae.$elm$=y.$elm$=ct.shadowRoot||ct,F=ct["s-sc"],Y=ct["s-cr"],Q=0!=(1&Yt.$flags$),ne=!1,sn(y,ae),rr.$flags$|=1,Me){Wn(ae.$elm$);for(const O of an){const de=O.$nodeToRelocate$;if(!de["s-ol"]){const at=Rr.createTextNode("");at["s-nr"]=de,de.parentNode.insertBefore(de["s-ol"]=at,de)}}for(const O of an){const de=O.$nodeToRelocate$,at=O.$slotRefNode$;if(at){const Tn=at.parentNode;let Xn=at.nextSibling;{let Ar=null===(it=de["s-ol"])||void 0===it?void 0:it.previousSibling;for(;Ar;){let Dr=null!==(Ot=Ar["s-nr"])&&void 0!==Ot?Ot:null;if(Dr&&Dr["s-sn"]===de["s-sn"]&&Tn===Dr.parentNode&&(Dr=Dr.nextSibling,!Dr||!Dr["s-nr"])){Xn=Dr;break}Ar=Ar.previousSibling}}(!Xn&&Tn!==de.parentNode||de.nextSibling!==Xn)&&de!==Xn&&(!de["s-hn"]&&de["s-ol"]&&(de["s-hn"]=de["s-ol"].parentNode.nodeName),Tn.insertBefore(de,Xn))}else 1===de.nodeType&&(de.hidden=!0)}}ne&&cr(ae.$elm$),rr.$flags$&=-2,an.length=0})(ve,ie,it)}catch(Ot){yr(Ot,ve.$hostElement$)}return null},St=ve=>{const Qe=ve.$hostElement$,Ot=ve.$lazyInstance$,ct=ve.$ancestorComponent$;$(Ot,"componentDidRender"),64&ve.$flags$?$(Ot,"componentDidUpdate"):(ve.$flags$|=64,R(Qe),$(Ot,"componentDidLoad"),ve.$onReadyResolve$(Qe),ct||J()),ve.$onInstanceResolve$(Qe),ve.$onRenderResolve$&&(ve.$onRenderResolve$(),ve.$onRenderResolve$=void 0),512&ve.$flags$&&ni(()=>Nt(ve,!1)),ve.$flags$&=-517},ke=ve=>{{const ie=Nn(ve),Qe=ie.$hostElement$.isConnected;return Qe&&2==(18&ie.$flags$)&&Nt(ie,!1),Qe}},J=ve=>{R(Rr.documentElement),ni(()=>Dt(Ai,"appload",{detail:{namespace:"ionic"}}))},$=(ve,ie,Qe)=>{if(ve&&ve[ie])try{return ve[ie](Qe)}catch(it){yr(it)}},R=ve=>ve.classList.add("hydrated"),ce=(ve,ie,Qe)=>{var it;if(ie.$members$){ve.watchers&&(ie.$watchers$=ve.watchers);const Ot=Object.entries(ie.$members$),ct=ve.prototype;if(Ot.map(([Yt,[y]])=>{31&y||2&Qe&&32&y?Object.defineProperty(ct,Yt,{get(){return((ve,ie)=>Nn(this).$instanceValues$.get(ie))(0,Yt)},set(ae){((ve,ie,Qe,it)=>{const Ot=Nn(ve),ct=Ot.$hostElement$,Yt=Ot.$instanceValues$.get(ie),y=Ot.$flags$,ae=Ot.$lazyInstance$;Qe=((ve,ie)=>null==ve||Ae(ve)?ve:4&ie?"false"!==ve&&(""===ve||!!ve):2&ie?parseFloat(ve):1&ie?String(ve):ve)(Qe,it.$members$[ie][0]);const O=Number.isNaN(Yt)&&Number.isNaN(Qe);if((!(8&y)||void 0===Yt)&&Qe!==Yt&&!O&&(Ot.$instanceValues$.set(ie,Qe),ae)){if(it.$watchers$&&128&y){const at=it.$watchers$[ie];at&&at.map(Tn=>{try{ae[Tn](Qe,Yt,ie)}catch(Xn){yr(Xn,ct)}})}2==(18&y)&&Nt(Ot,!1)}})(this,Yt,ae,ie)},configurable:!0,enumerable:!0}):1&Qe&&64&y&&Object.defineProperty(ct,Yt,{value(...ae){const O=Nn(this);return O.$onInstancePromise$.then(()=>O.$lazyInstance$[Yt](...ae))}})}),1&Qe){const Yt=new Map;ct.attributeChangedCallback=function(y,ae,O){rr.jmp(()=>{const de=Yt.get(y);if(this.hasOwnProperty(de))O=this[de],delete this[de];else{if(ct.hasOwnProperty(de)&&"number"==typeof this[de]&&this[de]==O)return;if(null==de){const at=Nn(this),Tn=null==at?void 0:at.$flags$;if(!(8&Tn)&&128&Tn&&O!==ae){const Xn=at.$lazyInstance$,Ar=ie.$watchers$[y];null==Ar||Ar.forEach(Dr=>{null!=Xn[Dr]&&Xn[Dr].call(Xn,O,ae,y)})}return}}this[de]=(null!==O||"boolean"!=typeof this[de])&&O})},ve.observedAttributes=Array.from(new Set([...Object.keys(null!==(it=ie.$watchers$)&&void 0!==it?it:{}),...Ot.filter(([y,ae])=>15&ae[0]).map(([y,ae])=>{const O=ae[1]||y;return Yt.set(O,y),512&ae[0]&&ie.$attrsToReflect$.push([y,O]),O})]))}}return ve},tt=function(){var ve=(0,a.Z)(function*(ie,Qe,it,Ot){let ct;if(!(32&Qe.$flags$)){Qe.$flags$|=32;{if(ct=Wr(it),ct.then){const O=()=>{};ct=yield ct,O()}ct.isProxied||(it.$watchers$=ct.watchers,ce(ct,it,2),ct.isProxied=!0);const ae=()=>{};Qe.$flags$|=8;try{new ct(Qe)}catch(O){yr(O)}Qe.$flags$&=-9,Qe.$flags$|=128,ae(),pt(Qe.$lazyInstance$)}if(ct.style){let ae=ct.style;"string"!=typeof ae&&(ae=ae[Qe.$modeName$=(ve=>Zn.map(ie=>ie(ve)).find(ie=>!!ie))(ie)]);const O=on(it,Qe.$modeName$);if(!vi.has(O)){const de=()=>{};Ct(O,ae,!!(1&it.$flags$)),de()}}}const Yt=Qe.$ancestorComponent$,y=()=>Nt(Qe,!0);Yt&&Yt["s-rc"]?Yt["s-rc"].push(y):y()});return function(Qe,it,Ot,ct){return ve.apply(this,arguments)}}(),pt=ve=>{$(ve,"connectedCallback")},Pt=ve=>{const ie=ve["s-cr"]=Rr.createComment("");ie["s-cn"]=!0,ve.insertBefore(ie,ve.firstChild)},Bt=ve=>{$(ve,"disconnectedCallback")},Zt=function(){var ve=(0,a.Z)(function*(ie){if(!(1&rr.$flags$)){const Qe=Nn(ie);Qe.$rmListeners$&&(Qe.$rmListeners$.map(it=>it()),Qe.$rmListeners$=void 0),null!=Qe&&Qe.$lazyInstance$?Bt(Qe.$lazyInstance$):null!=Qe&&Qe.$onReadyPromise$&&Qe.$onReadyPromise$.then(()=>Bt(Qe.$lazyInstance$))}});return function(Qe){return ve.apply(this,arguments)}}(),nn=(ve,ie={})=>{var Qe;const Ot=[],ct=ie.exclude||[],Yt=Ai.customElements,y=Rr.head,ae=y.querySelector("meta[charset]"),O=Rr.createElement("style"),de=[],at=Rr.querySelectorAll(`[${ue}]`);let Tn,Xn=!0,Ar=0;for(Object.assign(rr,ie),rr.$resourcesUrl$=new URL(ie.resourcesUrl||"./",Rr.baseURI).href,rr.$flags$|=2;Ar<at.length;Ar++)Ct(at[Ar].getAttribute(ue),cn(at[Ar].innerHTML),!0);ve.map(Dr=>{Dr[1].map(Jn=>{var qr;const hr={$flags$:Jn[0],$tagName$:Jn[1],$members$:Jn[2],$listeners$:Jn[3]};hr.$members$=Jn[2],hr.$listeners$=Jn[3],hr.$attrsToReflect$=[],hr.$watchers$=null!==(qr=Jn[4])&&void 0!==qr?qr:{};const Lr=hr.$tagName$,si=class extends HTMLElement{constructor(fn){super(fn),tr(fn=this,hr),1&hr.$flags$&&fn.attachShadow({mode:"open",delegatesFocus:!!(16&hr.$flags$)})}connectedCallback(){Tn&&(clearTimeout(Tn),Tn=null),Xn?de.push(this):rr.jmp(()=>(ve=>{if(!(1&rr.$flags$)){const ie=Nn(ve),Qe=ie.$cmpMeta$,it=()=>{};if(1&ie.$flags$)Kn(ve,ie,Qe.$listeners$),null!=ie&&ie.$lazyInstance$?pt(ie.$lazyInstance$):null!=ie&&ie.$onReadyPromise$&&ie.$onReadyPromise$.then(()=>pt(ie.$lazyInstance$));else{let Ot;if(ie.$flags$|=1,Ot=ve.getAttribute(ot),Ot){if(1&Qe.$flags$){const ct=Vt(ve.shadowRoot,Qe,ve.getAttribute("s-mode"));ve.classList.remove(ct+"-h",ct+"-s")}((ve,ie,Qe,it)=>{const ct=ve.shadowRoot,Yt=[],ae=ct?[]:null,O=it.$vnode$=_t(ie,null);rr.$orgLocNodes$||Ke(Rr.body,rr.$orgLocNodes$=new Map),ve[ot]=Qe,ve.removeAttribute(ot),Se(O,Yt,[],ae,ve,ve,Qe),Yt.map(de=>{const at=de.$hostId$+"."+de.$nodeId$,Tn=rr.$orgLocNodes$.get(at),Xn=de.$elm$;Tn&&yi&&""===Tn["s-en"]&&Tn.parentNode.insertBefore(Xn,Tn.nextSibling),ct||(Xn["s-hn"]=ie,Tn&&(Xn["s-ol"]=Tn,Xn["s-ol"]["s-nr"]=Xn)),rr.$orgLocNodes$.delete(at)}),ct&&ae.map(de=>{de&&ct.appendChild(de)})})(ve,Qe.$tagName$,Ot,ie)}Ot||12&Qe.$flags$&&Pt(ve);{let ct=ve;for(;ct=ct.parentNode||ct.host;)if(1===ct.nodeType&&ct.hasAttribute("s-id")&&ct["s-p"]||ct["s-p"]){Pn(ie,ie.$ancestorComponent$=ct);break}}Qe.$members$&&Object.entries(Qe.$members$).map(([ct,[Yt]])=>{if(31&Yt&&ve.hasOwnProperty(ct)){const y=ve[ct];delete ve[ct],ve[ct]=y}}),tt(ve,ie,Qe)}it()}})(this))}disconnectedCallback(){rr.jmp(()=>Zt(this))}componentOnReady(){return Nn(this).$onReadyPromise$}};hr.$lazyBundleId$=Dr[0],!ct.includes(Lr)&&!Yt.get(Lr)&&(Ot.push(Lr),Yt.define(Lr,ce(si,hr,1)))})});{O.innerHTML=Ot+"{visibility:hidden}.hydrated{visibility:inherit}",O.setAttribute("data-styles","");const Dr=null!==(Qe=rr.$nonce$)&&void 0!==Qe?Qe:Te(Rr);null!=Dr&&O.setAttribute("nonce",Dr),y.insertBefore(O,ae?ae.nextSibling:y.firstChild)}Xn=!1,de.length?de.map(Dr=>Dr.connectedCallback()):rr.jmp(()=>Tn=setTimeout(J,30))},Kn=(ve,ie,Qe,it)=>{Qe&&Qe.map(([Ot,ct,Yt])=>{const y=xt(ve,Ot),ae=Gr(ie,Yt),O=Et(Ot);rr.ael(y,ct,ae,O),(ie.$rmListeners$=ie.$rmListeners$||[]).push(()=>rr.rel(y,ct,ae,O))})},Gr=(ve,ie)=>Qe=>{try{256&ve.$flags$?ve.$lazyInstance$[ie](Qe):(ve.$queuedListeners$=ve.$queuedListeners$||[]).push([ie,Qe])}catch(it){yr(it)}},xt=(ve,ie)=>4&ie?Rr:8&ie?Ai:16&ie?Rr.body:ve,Et=ve=>0!=(2&ve),yn=new WeakMap,Nn=ve=>yn.get(ve),pn=(ve,ie)=>yn.set(ie.$lazyInstance$=ve,ie),tr=(ve,ie)=>{const Qe={$flags$:0,$hostElement$:ve,$cmpMeta$:ie,$instanceValues$:new Map};return Qe.$onInstancePromise$=new Promise(it=>Qe.$onInstanceResolve$=it),Qe.$onReadyPromise$=new Promise(it=>Qe.$onReadyResolve$=it),ve["s-p"]=[],ve["s-rc"]=[],Kn(ve,Qe,ie.$listeners$),yn.set(ve,Qe)},Br=(ve,ie)=>ie in ve,yr=(ve,ie)=>(0,console.error)(ve,ie),ci=new Map,Wr=(ve,ie,Qe)=>{const it=ve.$tagName$.replace(/-/g,"_"),Ot=ve.$lazyBundleId$,ct=ci.get(Ot);return ct?ct[it]:I(863)(`./${Ot}.entry.js`).then(Yt=>(ci.set(Ot,Yt),Yt[it]),yr)},vi=new Map,Zn=[],Ai=typeof window<"u"?window:{},Rr=Ai.document||{head:{}},rr={$flags$:0,$resourcesUrl$:"",jmp:ve=>ve(),raf:ve=>requestAnimationFrame(ve),ael:(ve,ie,Qe,it)=>ve.addEventListener(ie,Qe,it),rel:(ve,ie,Qe,it)=>ve.removeEventListener(ie,Qe,it),ce:(ve,ie)=>new CustomEvent(ve,ie)},Er=ve=>{Object.assign(rr,ve)},yi=!0,Fr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),oi=[],Ti=[],Si=(ve,ie)=>Qe=>{ve.push(Qe),le||(le=!0,ie&&4&rr.$flags$?ni(Or):rr.raf(Or))},Ri=ve=>{for(let ie=0;ie<ve.length;ie++)try{ve[ie](performance.now())}catch(Qe){yr(Qe)}ve.length=0},Or=()=>{Ri(oi),Ri(Ti),(le=oi.length>0)&&rr.raf(Or)},ni=ve=>Promise.resolve(void 0).then(ve),ki=Si(oi,!1),Yi=Si(Ti,!0)},8450:(Lt,Ce,I)=>{"use strict";I.d(Ce,{b:()=>Z,c:()=>Q,d:()=>ne,e:()=>te,g:()=>De,l:()=>be,s:()=>W,t:()=>le,w:()=>_e});var a=I(5861),_=I(8158),N=I(839);const Z="ionViewWillLeave",Q="ionViewDidLeave",ne="ionViewWillUnload",le=Ae=>new Promise((Te,Ve)=>{(0,_.w)(()=>{ge(Ae),we(Ae).then(_t=>{_t.animation&&_t.animation.destroy(),Be(Ae),Te(_t)},_t=>{Be(Ae),Ve(_t)})})}),ge=Ae=>{const Te=Ae.enteringEl,Ve=Ae.leavingEl;Le(Te,Ve,Ae.direction),Ae.showGoBack?Te.classList.add("can-go-back"):Te.classList.remove("can-go-back"),W(Te,!1),Te.style.setProperty("pointer-events","none"),Ve&&(W(Ve,!1),Ve.style.setProperty("pointer-events","none"))},we=function(){var Ae=(0,a.Z)(function*(Te){const Ve=yield $e(Te);return Ve&&_.B.isBrowser?nt(Ve,Te):We(Te)});return function(Ve){return Ae.apply(this,arguments)}}(),Be=Ae=>{const Te=Ae.enteringEl,Ve=Ae.leavingEl;Te.classList.remove("ion-page-invisible"),Te.style.removeProperty("pointer-events"),void 0!==Ve&&(Ve.classList.remove("ion-page-invisible"),Ve.style.removeProperty("pointer-events"))},$e=function(){var Ae=(0,a.Z)(function*(Te){return Te.leavingEl&&Te.animated&&0!==Te.duration?Te.animationBuilder?Te.animationBuilder:"ios"===Te.mode?(yield Promise.resolve().then(I.bind(I,1394))).iosTransitionAnimation:(yield Promise.resolve().then(I.bind(I,1808))).mdTransitionAnimation:void 0});return function(Ve){return Ae.apply(this,arguments)}}(),nt=function(){var Ae=(0,a.Z)(function*(Te,Ve){yield He(Ve,!0);const _t=Te(Ve.baseEl,Ve);ue(Ve.enteringEl,Ve.leavingEl);const Rt=yield ot(_t,Ve);return Ve.progressCallback&&Ve.progressCallback(void 0),Rt&&Ge(Ve.enteringEl,Ve.leavingEl),{hasCompleted:Rt,animation:_t}});return function(Ve,_t){return Ae.apply(this,arguments)}}(),We=function(){var Ae=(0,a.Z)(function*(Te){const Ve=Te.enteringEl,_t=Te.leavingEl;return yield He(Te,!1),ue(Ve,_t),Ge(Ve,_t),{hasCompleted:!0}});return function(Ve){return Ae.apply(this,arguments)}}(),He=function(){var Ae=(0,a.Z)(function*(Te,Ve){(void 0!==Te.deepWait?Te.deepWait:Ve)&&(yield Promise.all([te(Te.enteringEl),te(Te.leavingEl)])),yield Ze(Te.viewIsReady,Te.enteringEl)});return function(Ve,_t){return Ae.apply(this,arguments)}}(),Ze=function(){var Ae=(0,a.Z)(function*(Te,Ve){Te&&(yield Te(Ve))});return function(Ve,_t){return Ae.apply(this,arguments)}}(),ot=(Ae,Te)=>{const Ve=Te.progressCallback,_t=new Promise(Rt=>{Ae.onFinish(At=>Rt(1===At))});return Ve?(Ae.progressStart(!0),Ve(Ae)):Ae.play(),_t},ue=(Ae,Te)=>{be(Te,Z),be(Ae,"ionViewWillEnter")},Ge=(Ae,Te)=>{be(Ae,"ionViewDidEnter"),be(Te,Q)},be=(Ae,Te)=>{if(Ae){const Ve=new CustomEvent(Te,{bubbles:!1,cancelable:!1});Ae.dispatchEvent(Ve)}},_e=()=>new Promise(Ae=>(0,N.r)(()=>(0,N.r)(()=>Ae()))),te=function(){var Ae=(0,a.Z)(function*(Te){const Ve=Te;if(Ve){if(null!=Ve.componentOnReady){if(null!=(yield Ve.componentOnReady()))return}else if(null!=Ve.__registerHost)return void(yield new Promise(Rt=>(0,N.r)(Rt)));yield Promise.all(Array.from(Ve.children).map(te))}});return function(Ve){return Ae.apply(this,arguments)}}(),W=(Ae,Te)=>{Te?(Ae.setAttribute("aria-hidden","true"),Ae.classList.add("ion-page-hidden")):(Ae.hidden=!1,Ae.removeAttribute("aria-hidden"),Ae.classList.remove("ion-page-hidden"))},Le=(Ae,Te,Ve)=>{void 0!==Ae&&(Ae.style.zIndex="back"===Ve?"99":"101"),void 0!==Te&&(Te.style.zIndex="100")},De=Ae=>Ae.classList.contains("ion-page")?Ae:Ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ae},6710:(Lt,Ce,I)=>{"use strict";I.d(Ce,{a:()=>_,b:()=>N,p:()=>a});const a=(F,...Y)=>console.warn(`[Ionic Warning]: ${F}`,...Y),_=(F,...Y)=>console.error(`[Ionic Error]: ${F}`,...Y),N=(F,...Y)=>console.error(`<${F.tagName.toLowerCase()}> must be used inside ${Y.join(" or ")}.`)},6225:(Lt,Ce,I)=>{"use strict";I.d(Ce,{d:()=>_,w:()=>a});const a=typeof window<"u"?window:void 0,_=typeof document<"u"?document:void 0},9203:(Lt,Ce,I)=>{"use strict";I.r(Ce),I.d(Ce,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>Me});var a=I(619);const _=(we,Be,$e,nt)=>{const We=N(we)?{capture:!!nt.capture,passive:!!nt.passive}:!!nt.capture;let He,Ze;return we.__zone_symbol__addEventListener?(He="__zone_symbol__addEventListener",Ze="__zone_symbol__removeEventListener"):(He="addEventListener",Ze="removeEventListener"),we[He](Be,$e,We),()=>{we[Ze](Be,$e,We)}},N=we=>{if(void 0===F)try{const Be=Object.defineProperty({},"passive",{get:()=>{F=!0}});we.addEventListener("optsTest",()=>{},Be)}catch{F=!1}return!!F};let F;const Q=we=>we instanceof Document?we:we.ownerDocument,Me=we=>{let Be=!1,$e=!1,nt=!0,We=!1;const He=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},we),Ze=He.canStart,ot=He.onWillStart,ue=He.onStart,Ge=He.onEnd,be=He.notCaptured,_e=He.onMove,te=He.threshold,W=He.passive,Le=He.blurOnStart,De={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ae=((we,Be,$e)=>{const nt=$e*(Math.PI/180),We="x"===we,He=Math.cos(nt),Ze=Be*Be;let ot=0,ue=0,Ge=!1,be=0;return{start(_e,te){ot=_e,ue=te,be=0,Ge=!0},detect(_e,te){if(!Ge)return!1;const W=_e-ot,Le=te-ue,De=W*W+Le*Le;if(De<Ze)return!1;const Ae=Math.sqrt(De),Te=(We?W:Le)/Ae;return be=Te>He?1:Te<-He?-1:0,Ge=!1,!0},isGesture:()=>0!==be,getDirection:()=>be}})(He.direction,He.threshold,He.maxAngle),Te=a.G.createGesture({name:we.gestureName,priority:we.gesturePriority,disableScroll:we.disableScroll}),Rt=()=>{Be&&(We=!1,_e&&_e(De))},At=()=>!!Te.capture()&&(Be=!0,nt=!1,De.startX=De.currentX,De.startY=De.currentY,De.startTime=De.currentTime,ot?ot(De).then(fe):fe(),!0),fe=()=>{Le&&(()=>{if(typeof document<"u"){const qe=document.activeElement;null!=qe&&qe.blur&&qe.blur()}})(),ue&&ue(De),nt=!0},he=()=>{Be=!1,$e=!1,We=!1,nt=!0,Te.release()},Ue=qe=>{const ft=Be,ht=nt;if(he(),ht){if(K(De,qe),ft)return void(Ge&&Ge(De));be&&be(De)}},Se=((we,Be,$e,nt,We)=>{let He,Ze,ot,ue,Ge,be,_e,te=0;const W=rt=>{te=Date.now()+2e3,Be(rt)&&(!Ze&&$e&&(Ze=_(we,"touchmove",$e,We)),ot||(ot=_(rt.target,"touchend",De,We)),ue||(ue=_(rt.target,"touchcancel",De,We)))},Le=rt=>{te>Date.now()||Be(rt)&&(!be&&$e&&(be=_(Q(we),"mousemove",$e,We)),_e||(_e=_(Q(we),"mouseup",Ae,We)))},De=rt=>{Te(),nt&&nt(rt)},Ae=rt=>{Ve(),nt&&nt(rt)},Te=()=>{Ze&&Ze(),ot&&ot(),ue&&ue(),Ze=ot=ue=void 0},Ve=()=>{be&&be(),_e&&_e(),be=_e=void 0},_t=()=>{Te(),Ve()},Rt=(rt=!0)=>{rt?(He||(He=_(we,"touchstart",W,We)),Ge||(Ge=_(we,"mousedown",Le,We))):(He&&He(),Ge&&Ge(),He=Ge=void 0,_t())};return{enable:Rt,stop:_t,destroy:()=>{Rt(!1),nt=$e=Be=void 0}}})(He.el,qe=>{const ft=ge(qe);return!($e||!nt||(le(qe,De),De.startX=De.currentX,De.startY=De.currentY,De.startTime=De.currentTime=ft,De.velocityX=De.velocityY=De.deltaX=De.deltaY=0,De.event=qe,Ze&&!1===Ze(De))||(Te.release(),!Te.start()))&&($e=!0,0===te?At():(Ae.start(De.startX,De.startY),!0))},qe=>{Be?!We&&nt&&(We=!0,K(De,qe),requestAnimationFrame(Rt)):(K(De,qe),Ae.detect(De.currentX,De.currentY)&&(!Ae.isGesture()||!At())&&Ke())},Ue,{capture:!1,passive:W}),Ke=()=>{he(),Se.stop(),be&&be(De)};return{enable(qe=!0){qe||(Be&&Ue(void 0),he()),Se.enable(qe)},destroy(){Te.destroy(),Se.destroy()}}},K=(we,Be)=>{if(!Be)return;const $e=we.currentX,nt=we.currentY,We=we.currentTime;le(Be,we);const He=we.currentX,Ze=we.currentY,ue=(we.currentTime=ge(Be))-We;if(ue>0&&ue<100){const be=(Ze-nt)/ue;we.velocityX=(He-$e)/ue*.7+.3*we.velocityX,we.velocityY=.7*be+.3*we.velocityY}we.deltaX=He-we.startX,we.deltaY=Ze-we.startY,we.event=Be},le=(we,Be)=>{let $e=0,nt=0;if(we){const We=we.changedTouches;if(We&&We.length>0){const He=We[0];$e=He.clientX,nt=He.clientY}else void 0!==we.pageX&&($e=we.pageX,nt=we.pageY)}Be.currentX=$e,Be.currentY=nt},ge=we=>we.timeStamp||Date.now()},9474:(Lt,Ce,I)=>{"use strict";I.d(Ce,{a:()=>le,b:()=>Rt,c:()=>N,i:()=>At});var a=I(8158);class _{constructor(){this.m=new Map}reset(fe){this.m=new Map(Object.entries(fe))}get(fe,he){const Ue=this.m.get(fe);return void 0!==Ue?Ue:he}getBoolean(fe,he=!1){const Ue=this.m.get(fe);return void 0===Ue?he:"string"==typeof Ue?"true"===Ue:!!Ue}getNumber(fe,he){const Ue=parseFloat(this.m.get(fe));return isNaN(Ue)?void 0!==he?he:NaN:Ue}set(fe,he){this.m.set(fe,he)}}const N=new _,Me="ionic-persist-config",le=(rt,fe)=>("string"==typeof rt&&(fe=rt,rt=void 0),(rt=>ge(rt))(rt).includes(fe)),ge=(rt=window)=>{if(typeof rt>"u")return[];rt.Ionic=rt.Ionic||{};let fe=rt.Ionic.platforms;return null==fe&&(fe=rt.Ionic.platforms=we(rt),fe.forEach(he=>rt.document.documentElement.classList.add(`plt-${he}`))),fe},we=rt=>{const fe=N.get("platform");return Object.keys(Ve).filter(he=>{const Ue=null==fe?void 0:fe[he];return"function"==typeof Ue?Ue(rt):Ve[he](rt)})},$e=rt=>!!(Ae(rt,/iPad/i)||Ae(rt,/Macintosh/i)&&Ge(rt)),He=rt=>Ae(rt,/android|sink/i),Ge=rt=>Te(rt,"(any-pointer:coarse)"),_e=rt=>te(rt)||W(rt),te=rt=>!!(rt.cordova||rt.phonegap||rt.PhoneGap),W=rt=>{const fe=rt.Capacitor;return!(null==fe||!fe.isNative)},Ae=(rt,fe)=>fe.test(rt.navigator.userAgent),Te=(rt,fe)=>{var he;return null===(he=rt.matchMedia)||void 0===he?void 0:he.call(rt,fe).matches},Ve={ipad:$e,iphone:rt=>Ae(rt,/iPhone/i),ios:rt=>Ae(rt,/iPhone|iPod/i)||$e(rt),android:He,phablet:rt=>{const fe=rt.innerWidth,he=rt.innerHeight,Ue=Math.min(fe,he),Se=Math.max(fe,he);return Ue>390&&Ue<520&&Se>620&&Se<800},tablet:rt=>{const fe=rt.innerWidth,he=rt.innerHeight,Ue=Math.min(fe,he),Se=Math.max(fe,he);return $e(rt)||(rt=>He(rt)&&!Ae(rt,/mobile/i))(rt)||Ue>460&&Ue<820&&Se>780&&Se<1400},cordova:te,capacitor:W,electron:rt=>Ae(rt,/electron/i),pwa:rt=>{var fe;return!!(null!==(fe=rt.matchMedia)&&void 0!==fe&&fe.call(rt,"(display-mode: standalone)").matches||rt.navigator.standalone)},mobile:Ge,mobileweb:rt=>Ge(rt)&&!_e(rt),desktop:rt=>!Ge(rt),hybrid:_e};let _t;const Rt=rt=>rt&&(0,a.g)(rt)||_t,At=(rt={})=>{if(typeof window>"u")return;const fe=window.document,he=window,Ue=he.Ionic=he.Ionic||{},Se={};rt._ael&&(Se.ael=rt._ael),rt._rel&&(Se.rel=rt._rel),rt._ce&&(Se.ce=rt._ce),(0,a.a)(Se);const Ke=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(rt=>{try{const fe=rt.sessionStorage.getItem(Me);return null!==fe?JSON.parse(fe):{}}catch{return{}}})(he)),{persistConfig:!1}),Ue.config),(rt=>{const fe={};return rt.location.search.slice(1).split("&").map(he=>he.split("=")).map(([he,Ue])=>[decodeURIComponent(he),decodeURIComponent(Ue)]).filter(([he])=>((rt,fe)=>rt.substr(0,fe.length)===fe)(he,"ionic:")).map(([he,Ue])=>[he.slice(6),Ue]).forEach(([he,Ue])=>{fe[he]=Ue}),fe})(he)),rt);N.reset(Ke),N.getBoolean("persistConfig")&&((rt,fe)=>{try{rt.sessionStorage.setItem(Me,JSON.stringify(fe))}catch{return}})(he,Ke),ge(he),Ue.config=N,Ue.mode=_t=N.get("mode",fe.documentElement.getAttribute("mode")||(le(he,"ios")?"ios":"md")),N.set("mode",_t),fe.documentElement.setAttribute("mode",_t),fe.documentElement.classList.add(_t),N.getBoolean("_testing")&&N.set("animated",!1);const qe=ht=>{var bt;return null===(bt=ht.tagName)||void 0===bt?void 0:bt.startsWith("ION-")},ft=ht=>["ios","md"].includes(ht);(0,a.c)(ht=>{for(;ht;){const bt=ht.mode||ht.getAttribute("mode");if(bt){if(ft(bt))return bt;qe(ht)&&console.warn('Invalid ionic mode: "'+bt+'", expected: "ios" or "md"')}ht=ht.parentElement}return _t})}},1394:(Lt,Ce,I)=>{"use strict";I.r(Ce),I.d(Ce,{iosTransitionAnimation:()=>we,shadow:()=>Q});var a=I(6410),_=I(8450);I(6225),I(8158);const Z=$e=>document.querySelector(`${$e}.ion-cloned-element`),Q=$e=>$e.shadowRoot||$e,ne=$e=>{const nt="ION-TABS"===$e.tagName?$e:$e.querySelector("ion-tabs"),We="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=nt){const He=nt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=He?He.querySelector(We):null}return $e.querySelector(We)},Me=($e,nt)=>{const We="ION-TABS"===$e.tagName?$e:$e.querySelector("ion-tabs");let He=[];if(null!=We){const Ze=We.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ze&&(He=Ze.querySelectorAll("ion-buttons"))}else He=$e.querySelectorAll("ion-buttons");for(const Ze of He){const ot=Ze.closest("ion-header"),ue=ot&&!ot.classList.contains("header-collapse-condense-inactive"),Ge=Ze.querySelector("ion-back-button"),be=Ze.classList.contains("buttons-collapse");if(null!==Ge&&("start"===Ze.slot||""===Ze.slot)&&(be&&ue&&nt||!be))return Ge}return null},le=($e,nt,We,He,Ze,ot,ue,Ge,be)=>{var _e,te;const W=nt?`calc(100% - ${Ze.right+4}px)`:Ze.left-4+"px",Le=nt?"right":"left",De=nt?"left":"right",Ae=nt?"right":"left",Te=(null===(_e=ot.textContent)||void 0===_e?void 0:_e.trim())===(null===(te=Ge.textContent)||void 0===te?void 0:te.trim()),_t=(be.height-Be)/ue.height,Rt=Te?`scale(${be.width/ue.width}, ${_t})`:`scale(${_t})`,At="scale(1)",fe=Q(He).querySelector("ion-icon").getBoundingClientRect(),he=nt?fe.width/2-(fe.right-Ze.right)+"px":Ze.left-fe.width/2+"px",Ue=nt?`-${window.innerWidth-Ze.right}px`:`${Ze.left}px`,Se=`${be.top}px`,Ke=`${Ze.top}px`,ht=We?[{offset:0,transform:`translate3d(${Ue}, ${Ke}, 0)`},{offset:1,transform:`translate3d(${he}, ${Se}, 0)`}]:[{offset:0,transform:`translate3d(${he}, ${Se}, 0)`},{offset:1,transform:`translate3d(${Ue}, ${Ke}, 0)`}],Kt=We?[{offset:0,opacity:1,transform:At},{offset:1,opacity:0,transform:Rt}]:[{offset:0,opacity:0,transform:Rt},{offset:1,opacity:1,transform:At}],Ct=We?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Vt=(0,a.c)(),Ht=(0,a.c)(),on=(0,a.c)(),cn=Z("ion-back-button"),wn=Q(cn).querySelector(".button-text"),Jt=Q(cn).querySelector("ion-icon");cn.text=He.text,cn.mode=He.mode,cn.icon=He.icon,cn.color=He.color,cn.disabled=He.disabled,cn.style.setProperty("display","block"),cn.style.setProperty("position","fixed"),Ht.addElement(Jt),Vt.addElement(wn),on.addElement(cn),on.beforeStyles({position:"absolute",top:"0px",[Ae]:"0px"}).keyframes(ht),Vt.beforeStyles({"transform-origin":`${Le} top`}).beforeAddWrite(()=>{He.style.setProperty("display","none"),cn.style.setProperty(Le,W)}).afterAddWrite(()=>{He.style.setProperty("display",""),cn.style.setProperty("display","none"),cn.style.removeProperty(Le)}).keyframes(Kt),Ht.beforeStyles({"transform-origin":`${De} center`}).keyframes(Ct),$e.addAnimation([Vt,Ht,on])},ge=($e,nt,We,He,Ze,ot,ue,Ge)=>{var be,_e;const te=nt?"right":"left",W=nt?`calc(100% - ${Ze.right}px)`:`${Ze.left}px`,De=`${Ze.top}px`,Te=nt?`-${window.innerWidth-Ge.right-8}px`:Ge.x-8+"px",_t=Ge.y-2+"px",Rt=(null===(be=ue.textContent)||void 0===be?void 0:be.trim())===(null===(_e=He.textContent)||void 0===_e?void 0:_e.trim()),rt=Ge.height/(ot.height-Be),fe="scale(1)",he=Rt?`scale(${Ge.width/ot.width}, ${rt})`:`scale(${rt})`,Ke=We?[{offset:0,opacity:0,transform:`translate3d(${Te}, ${_t}, 0) ${he}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${De}, 0) ${fe}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${De}, 0) ${fe}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Te}, ${_t}, 0) ${he}`}],qe=Z("ion-title"),ft=(0,a.c)();qe.innerText=He.innerText,qe.size=He.size,qe.color=He.color,ft.addElement(qe),ft.beforeStyles({"transform-origin":`${te} top`,height:`${Ze.height}px`,display:"",position:"relative",[te]:W}).beforeAddWrite(()=>{He.style.setProperty("opacity","0")}).afterAddWrite(()=>{He.style.setProperty("opacity",""),qe.style.setProperty("display","none")}).keyframes(Ke),$e.addAnimation(ft)},we=($e,nt)=>{var We;try{const He="cubic-bezier(0.32,0.72,0,1)",Ze="opacity",ot="transform",ue="0%",be="rtl"===$e.ownerDocument.dir,_e=be?"-99.5%":"99.5%",te=be?"33%":"-33%",W=nt.enteringEl,Le=nt.leavingEl,De="back"===nt.direction,Ae=W.querySelector(":scope > ion-content"),Te=W.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ve=W.querySelectorAll(":scope > ion-header > ion-toolbar"),_t=(0,a.c)(),Rt=(0,a.c)();if(_t.addElement(W).duration((null!==(We=nt.duration)&&void 0!==We?We:0)||540).easing(nt.easing||He).fill("both").beforeRemoveClass("ion-page-invisible"),Le&&null!=$e){const he=(0,a.c)();he.addElement($e),_t.addAnimation(he)}if(Ae||0!==Ve.length||0!==Te.length?(Rt.addElement(Ae),Rt.addElement(Te)):Rt.addElement(W.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),_t.addAnimation(Rt),De?Rt.beforeClearStyles([Ze]).fromTo("transform",`translateX(${te})`,`translateX(${ue})`).fromTo(Ze,.8,1):Rt.beforeClearStyles([Ze]).fromTo("transform",`translateX(${_e})`,`translateX(${ue})`),Ae){const he=Q(Ae).querySelector(".transition-effect");if(he){const Ue=he.querySelector(".transition-cover"),Se=he.querySelector(".transition-shadow"),Ke=(0,a.c)(),qe=(0,a.c)(),ft=(0,a.c)();Ke.addElement(he).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),qe.addElement(Ue).beforeClearStyles([Ze]).fromTo(Ze,0,.1),ft.addElement(Se).beforeClearStyles([Ze]).fromTo(Ze,.03,.7),Ke.addAnimation([qe,ft]),Rt.addAnimation([Ke])}}const At=W.querySelector("ion-header.header-collapse-condense"),{forward:rt,backward:fe}=(($e,nt,We,He,Ze)=>{const ot=Me(He,We),ue=ne(Ze),Ge=ne(He),be=Me(Ze,We),_e=null!==ot&&null!==ue&&!We,te=null!==Ge&&null!==be&&We;if(_e){const W=ue.getBoundingClientRect(),Le=ot.getBoundingClientRect(),De=Q(ot).querySelector(".button-text"),Ae=De.getBoundingClientRect(),Ve=Q(ue).querySelector(".toolbar-title").getBoundingClientRect();ge($e,nt,We,ue,W,Ve,De,Ae),le($e,nt,We,ot,Le,De,Ae,ue,Ve)}else if(te){const W=Ge.getBoundingClientRect(),Le=be.getBoundingClientRect(),De=Q(be).querySelector(".button-text"),Ae=De.getBoundingClientRect(),Ve=Q(Ge).querySelector(".toolbar-title").getBoundingClientRect();ge($e,nt,We,Ge,W,Ve,De,Ae),le($e,nt,We,be,Le,De,Ae,Ge,Ve)}return{forward:_e,backward:te}})(_t,be,De,W,Le);if(Ve.forEach(he=>{const Ue=(0,a.c)();Ue.addElement(he),_t.addAnimation(Ue);const Se=(0,a.c)();Se.addElement(he.querySelector("ion-title"));const Ke=(0,a.c)(),qe=Array.from(he.querySelectorAll("ion-buttons,[menuToggle]")),ft=he.closest("ion-header"),ht=null==ft?void 0:ft.classList.contains("header-collapse-condense-inactive");let bt;bt=qe.filter(De?Ct=>{const Vt=Ct.classList.contains("buttons-collapse");return Vt&&!ht||!Vt}:Ct=>!Ct.classList.contains("buttons-collapse")),Ke.addElement(bt);const mt=(0,a.c)();mt.addElement(he.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Kt=(0,a.c)();Kt.addElement(Q(he).querySelector(".toolbar-background"));const Dt=(0,a.c)(),Tt=he.querySelector("ion-back-button");if(Tt&&Dt.addElement(Tt),Ue.addAnimation([Se,Ke,mt,Kt,Dt]),Ke.fromTo(Ze,.01,1),mt.fromTo(Ze,.01,1),De)ht||Se.fromTo("transform",`translateX(${te})`,`translateX(${ue})`).fromTo(Ze,.01,1),mt.fromTo("transform",`translateX(${te})`,`translateX(${ue})`),Dt.fromTo(Ze,.01,1);else if(At||Se.fromTo("transform",`translateX(${_e})`,`translateX(${ue})`).fromTo(Ze,.01,1),mt.fromTo("transform",`translateX(${_e})`,`translateX(${ue})`),Kt.beforeClearStyles([Ze,"transform"]),(null==ft?void 0:ft.translucent)?Kt.fromTo("transform",be?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Kt.fromTo(Ze,.01,"var(--opacity)"),rt||Dt.fromTo(Ze,.01,1),Tt&&!rt){const Vt=(0,a.c)();Vt.addElement(Q(Tt).querySelector(".button-text")).fromTo("transform",be?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ue.addAnimation(Vt)}}),Le){const he=(0,a.c)(),Ue=Le.querySelector(":scope > ion-content"),Se=Le.querySelectorAll(":scope > ion-header > ion-toolbar"),Ke=Le.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ue||0!==Se.length||0!==Ke.length?(he.addElement(Ue),he.addElement(Ke)):he.addElement(Le.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),_t.addAnimation(he),De){he.beforeClearStyles([Ze]).fromTo("transform",`translateX(${ue})`,be?"translateX(-100%)":"translateX(100%)");const qe=(0,_.g)(Le);_t.afterAddWrite(()=>{"normal"===_t.getDirection()&&qe.style.setProperty("display","none")})}else he.fromTo("transform",`translateX(${ue})`,`translateX(${te})`).fromTo(Ze,1,.8);if(Ue){const qe=Q(Ue).querySelector(".transition-effect");if(qe){const ft=qe.querySelector(".transition-cover"),ht=qe.querySelector(".transition-shadow"),bt=(0,a.c)(),mt=(0,a.c)(),Kt=(0,a.c)();bt.addElement(qe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),mt.addElement(ft).beforeClearStyles([Ze]).fromTo(Ze,.1,0),Kt.addElement(ht).beforeClearStyles([Ze]).fromTo(Ze,.7,.03),bt.addAnimation([mt,Kt]),he.addAnimation([bt])}}Se.forEach(qe=>{const ft=(0,a.c)();ft.addElement(qe);const ht=(0,a.c)();ht.addElement(qe.querySelector("ion-title"));const bt=(0,a.c)(),mt=qe.querySelectorAll("ion-buttons,[menuToggle]"),Kt=qe.closest("ion-header"),Dt=null==Kt?void 0:Kt.classList.contains("header-collapse-condense-inactive"),Tt=Array.from(mt).filter(wn=>{const Jt=wn.classList.contains("buttons-collapse");return Jt&&!Dt||!Jt});bt.addElement(Tt);const Ct=(0,a.c)(),Vt=qe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Vt.length>0&&Ct.addElement(Vt);const Ht=(0,a.c)();Ht.addElement(Q(qe).querySelector(".toolbar-background"));const on=(0,a.c)(),cn=qe.querySelector("ion-back-button");if(cn&&on.addElement(cn),ft.addAnimation([ht,bt,Ct,on,Ht]),_t.addAnimation(ft),on.fromTo(Ze,.99,0),bt.fromTo(Ze,.99,0),Ct.fromTo(Ze,.99,0),De){if(Dt||ht.fromTo("transform",`translateX(${ue})`,be?"translateX(-100%)":"translateX(100%)").fromTo(Ze,.99,0),Ct.fromTo("transform",`translateX(${ue})`,be?"translateX(-100%)":"translateX(100%)"),Ht.beforeClearStyles([Ze,"transform"]),(null==Kt?void 0:Kt.translucent)?Ht.fromTo("transform","translateX(0px)",be?"translateX(-100%)":"translateX(100%)"):Ht.fromTo(Ze,"var(--opacity)",0),cn&&!fe){const Jt=(0,a.c)();Jt.addElement(Q(cn).querySelector(".button-text")).fromTo("transform",`translateX(${ue})`,`translateX(${(be?-124:124)+"px"})`),ft.addAnimation(Jt)}}else Dt||ht.fromTo("transform",`translateX(${ue})`,`translateX(${te})`).fromTo(Ze,.99,0).afterClearStyles([ot,Ze]),Ct.fromTo("transform",`translateX(${ue})`,`translateX(${te})`).afterClearStyles([ot,Ze]),on.afterClearStyles([Ze]),ht.afterClearStyles([Ze]),bt.afterClearStyles([Ze])})}return _t}catch(He){throw He}},Be=10},1808:(Lt,Ce,I)=>{"use strict";I.r(Ce),I.d(Ce,{mdTransitionAnimation:()=>Y});var a=I(6410),_=I(8450);I(6225),I(8158);const Y=(Z,Q)=>{var ne,Me,K;const we="back"===Q.direction,$e=Q.leavingEl,nt=(0,_.g)(Q.enteringEl),We=nt.querySelector("ion-toolbar"),He=(0,a.c)();if(He.addElement(nt).fill("both").beforeRemoveClass("ion-page-invisible"),we?He.duration((null!==(ne=Q.duration)&&void 0!==ne?ne:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):He.duration((null!==(Me=Q.duration)&&void 0!==Me?Me:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),We){const Ze=(0,a.c)();Ze.addElement(We),He.addAnimation(Ze)}if($e&&we){He.duration((null!==(K=Q.duration)&&void 0!==K?K:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ze=(0,a.c)();Ze.addElement((0,_.g)($e)).onFinish(ot=>{1===ot&&Ze.elements.length>0&&Ze.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),He.addAnimation(Ze)}return He}},4161:(Lt,Ce,I)=>{"use strict";I.d(Ce,{B:()=>ht,G:()=>bt,a:()=>ge,b:()=>we,c:()=>We,d:()=>mt,e:()=>Kt,f:()=>Rt,g:()=>rt,h:()=>Ue,i:()=>Ke,j:()=>Ze,k:()=>ot,n:()=>K,o:()=>be,q:()=>Ve,s:()=>ft});var a=I(5861),_=I(6225),N=I(9474),F=I(6559),Y=I(2124),Z=I(839),Q=I(6710);let ne=0,Me=0;const K=new WeakMap,le=Dt=>({create:Tt=>ue(Dt,Tt),dismiss:(Tt,Ct,Vt)=>De(document,Tt,Ct,Dt,Vt),getTop:()=>(0,a.Z)(function*(){return Ve(document,Dt)})()}),ge=le("ion-alert"),we=le("ion-action-sheet"),We=le("ion-popover"),Ze=Dt=>{typeof document<"u"&&Le(document);const Tt=ne++;Dt.overlayIndex=Tt},ot=Dt=>(Dt.hasAttribute("id")||(Dt.id="ion-overlay-"+ ++Me),Dt.id),ue=(Dt,Tt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Dt).then(()=>{const Ct=document.createElement(Dt);return Ct.classList.add("overlay-hidden"),Object.assign(Ct,Object.assign(Object.assign({},Tt),{hasController:!0})),fe(document).appendChild(Ct),new Promise(Vt=>(0,Z.c)(Ct,Vt))}):Promise.resolve(),Ge='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',be=(Dt,Tt)=>{let Ct=Dt.querySelector(Ge);const Vt=null==Ct?void 0:Ct.shadowRoot;Vt&&(Ct=Vt.querySelector(Ge)||Ct),Ct?(0,Z.f)(Ct):Tt.focus()},te=(Dt,Tt)=>{const Ct=Array.from(Dt.querySelectorAll(Ge));let Vt=Ct.length>0?Ct[Ct.length-1]:null;const Ht=null==Vt?void 0:Vt.shadowRoot;Ht&&(Vt=Ht.querySelector(Ge)||Vt),Vt?Vt.focus():Tt.focus()},Le=Dt=>{0===ne&&(ne=1,Dt.addEventListener("focus",Tt=>{((Dt,Tt)=>{const Ct=Ve(Tt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Vt=Dt.target;Ct&&Vt&&!Ct.classList.contains("ion-disable-focus-trap")&&(Ct.shadowRoot?(()=>{if(Ct.contains(Vt))Ct.lastFocus=Vt;else{const cn=Ct.lastFocus;be(Ct,Ct),cn===Tt.activeElement&&te(Ct,Ct),Ct.lastFocus=Tt.activeElement}})():(()=>{if(Ct===Vt)Ct.lastFocus=void 0;else{const cn=(0,Z.g)(Ct);if(!cn.contains(Vt))return;const wn=cn.querySelector(".ion-overlay-wrapper");if(!wn)return;if(wn.contains(Vt)||Vt===cn.querySelector("ion-backdrop"))Ct.lastFocus=Vt;else{const Jt=Ct.lastFocus;be(wn,Ct),Jt===Tt.activeElement&&te(wn,Ct),Ct.lastFocus=Tt.activeElement}}})())})(Tt,Dt)},!0),Dt.addEventListener("ionBackButton",Tt=>{const Ct=Ve(Dt);null!=Ct&&Ct.backdropDismiss&&Tt.detail.register(Y.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ct.dismiss(void 0,ht))}),Dt.addEventListener("keydown",Tt=>{if("Escape"===Tt.key){const Ct=Ve(Dt);null!=Ct&&Ct.backdropDismiss&&Ct.dismiss(void 0,ht)}}))},De=(Dt,Tt,Ct,Vt,Ht)=>{const on=Ve(Dt,Vt,Ht);return on?on.dismiss(Tt,Ct):Promise.reject("overlay does not exist")},Te=(Dt,Tt)=>((Dt,Tt)=>(void 0===Tt&&(Tt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Dt.querySelectorAll(Tt)).filter(Ct=>Ct.overlayIndex>0)))(Dt,Tt).filter(Ct=>!(Dt=>Dt.classList.contains("overlay-hidden"))(Ct)),Ve=(Dt,Tt,Ct)=>{const Vt=Te(Dt,Tt);return void 0===Ct?Vt[Vt.length-1]:Vt.find(Ht=>Ht.id===Ct)},_t=(Dt=!1)=>{const Ct=fe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ct&&(Dt?Ct.setAttribute("aria-hidden","true"):Ct.removeAttribute("aria-hidden"))},Rt=function(){var Dt=(0,a.Z)(function*(Tt,Ct,Vt,Ht,on){var cn,wn;if(Tt.presented)return;_t(!0),Tt.presented=!0,Tt.willPresent.emit(),null===(cn=Tt.willPresentShorthand)||void 0===cn||cn.emit();const Jt=(0,N.b)(Tt),Dn=Tt.enterAnimation?Tt.enterAnimation:N.c.get(Ct,"ios"===Jt?Vt:Ht);(yield he(Tt,Dn,Tt.el,on))&&(Tt.didPresent.emit(),null===(wn=Tt.didPresentShorthand)||void 0===wn||wn.emit()),"ION-TOAST"!==Tt.el.tagName&&At(Tt.el),Tt.keyboardClose&&(null===document.activeElement||!Tt.el.contains(document.activeElement))&&Tt.el.focus()});return function(Ct,Vt,Ht,on,cn){return Dt.apply(this,arguments)}}(),At=function(){var Dt=(0,a.Z)(function*(Tt){let Ct=document.activeElement;if(!Ct)return;const Vt=null==Ct?void 0:Ct.shadowRoot;Vt&&(Ct=Vt.querySelector(Ge)||Ct),yield Tt.onDidDismiss(),Ct.focus()});return function(Ct){return Dt.apply(this,arguments)}}(),rt=function(){var Dt=(0,a.Z)(function*(Tt,Ct,Vt,Ht,on,cn,wn){var Jt,Dn;if(!Tt.presented)return!1;void 0!==_.d&&1===Te(_.d).length&&_t(!1),Tt.presented=!1;try{Tt.el.style.setProperty("pointer-events","none"),Tt.willDismiss.emit({data:Ct,role:Vt}),null===(Jt=Tt.willDismissShorthand)||void 0===Jt||Jt.emit({data:Ct,role:Vt});const On=(0,N.b)(Tt),fr=Tt.leaveAnimation?Tt.leaveAnimation:N.c.get(Ht,"ios"===On?on:cn);Vt!==bt&&(yield he(Tt,fr,Tt.el,wn)),Tt.didDismiss.emit({data:Ct,role:Vt}),null===(Dn=Tt.didDismissShorthand)||void 0===Dn||Dn.emit({data:Ct,role:Vt}),K.delete(Tt),Tt.el.classList.add("overlay-hidden"),Tt.el.style.removeProperty("pointer-events"),void 0!==Tt.el.lastFocus&&(Tt.el.lastFocus=void 0)}catch(On){console.error(On)}return Tt.el.remove(),!0});return function(Ct,Vt,Ht,on,cn,wn,Jt){return Dt.apply(this,arguments)}}(),fe=Dt=>Dt.querySelector("ion-app")||Dt.body,he=function(){var Dt=(0,a.Z)(function*(Tt,Ct,Vt,Ht){Vt.classList.remove("overlay-hidden");const cn=Ct(Tt.el,Ht);(!Tt.animated||!N.c.getBoolean("animated",!0))&&cn.duration(0),Tt.keyboardClose&&cn.beforeAddWrite(()=>{const Jt=Vt.ownerDocument.activeElement;null!=Jt&&Jt.matches("input,ion-input, ion-textarea")&&Jt.blur()});const wn=K.get(Tt)||[];return K.set(Tt,[...wn,cn]),yield cn.play(),!0});return function(Ct,Vt,Ht,on){return Dt.apply(this,arguments)}}(),Ue=(Dt,Tt)=>{let Ct;const Vt=new Promise(Ht=>Ct=Ht);return Se(Dt,Tt,Ht=>{Ct(Ht.detail)}),Vt},Se=(Dt,Tt,Ct)=>{const Vt=Ht=>{(0,Z.b)(Dt,Tt,Vt),Ct(Ht)};(0,Z.a)(Dt,Tt,Vt)},Ke=Dt=>"cancel"===Dt||Dt===ht,qe=Dt=>Dt(),ft=(Dt,Tt)=>{if("function"==typeof Dt)return N.c.get("_zoneGate",qe)(()=>{try{return Dt(Tt)}catch(Vt){throw Vt}})},ht="backdrop",bt="gesture",mt=Dt=>{let Ct,Tt=!1;const Vt=(0,F.C)(),Ht=(wn=!1)=>{if(Ct&&!wn)return{delegate:Ct,inline:Tt};const{el:Jt,hasController:Dn,delegate:On}=Dt;return Tt=null!==Jt.parentNode&&!Dn,Ct=Tt?On||Vt:On,{inline:Tt,delegate:Ct}};return{attachViewToDom:function(){var wn=(0,a.Z)(function*(Jt){const{delegate:Dn}=Ht(!0);if(Dn)return yield Dn.attachViewToDom(Dt.el,Jt);const{hasController:On}=Dt;if(On&&void 0!==Jt)throw new Error("framework delegate is missing");return null});return function(Dn){return wn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:wn}=Ht();wn&&void 0!==Dt.el&&wn.removeViewFromDom(Dt.el.parentElement,Dt.el)}}},Kt=()=>{let Dt;const Tt=()=>{Dt&&(Dt(),Dt=void 0)};return{addClickListener:(Vt,Ht)=>{Tt();const on=void 0!==Ht?document.getElementById(Ht):null;on?Dt=((wn,Jt)=>{const Dn=()=>{Jt.present()};return wn.addEventListener("click",Dn),()=>{wn.removeEventListener("click",Dn)}})(on,Vt):(0,Q.p)(`A trigger element with the ID "${Ht}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Vt)},removeClickListener:Tt}}},3404:(Lt,Ce,I)=>{"use strict";I.d(Ce,{H:()=>He,b:()=>hn,c:()=>Ge,f:()=>Ct,g:()=>ue,h:()=>nt,p:()=>ye,r:()=>xr});var a=I(5861);let N,F,Y=!1,Z=!1;const K={},Be=R=>"object"==(R=typeof R)||"function"===R;function $e(R){var w,j,ce;return null!==(ce=null===(j=null===(w=R.head)||void 0===w?void 0:w.querySelector('meta[name="csp-nonce"]'))||void 0===j?void 0:j.getAttribute("content"))&&void 0!==ce?ce:void 0}const nt=(R,w,...j)=>{let ce=null,tt=!1,pt=!1;const wt=[],Pt=Zt=>{for(let nn=0;nn<Zt.length;nn++)ce=Zt[nn],Array.isArray(ce)?Pt(ce):null!=ce&&"boolean"!=typeof ce&&((tt="function"!=typeof R&&!Be(ce))&&(ce=String(ce)),tt&&pt?wt[wt.length-1].$text$+=ce:wt.push(tt?We(null,ce):ce),pt=tt)};if(Pt(j),w){const Zt=w.className||w.class;Zt&&(w.class="object"!=typeof Zt?Zt:Object.keys(Zt).filter(nn=>Zt[nn]).join(" "))}const Bt=We(R,null);return Bt.$attrs$=w,wt.length>0&&(Bt.$children$=wt),Bt},We=(R,w)=>({$flags$:0,$tag$:R,$text$:w,$elm$:null,$children$:null,$attrs$:null}),He={},ue=R=>Ln(R).$hostElement$,Ge=(R,w,j)=>{const ce=ue(R);return{emit:tt=>be(ce,w,{bubbles:!!(4&j),composed:!!(2&j),cancelable:!!(1&j),detail:tt})}},be=(R,w,j)=>{const ce=Nt.ce(w,j);return R.dispatchEvent(ce),ce},_e=new WeakMap,De=(R,w)=>"sc-"+R.$tagName$,Ae=(R,w,j,ce,tt,pt)=>{if(j!==ce){let wt=cr(R,w),Pt=w.toLowerCase();if("class"===w){const Bt=R.classList,Zt=Ve(j),nn=Ve(ce);Bt.remove(...Zt.filter(Kn=>Kn&&!nn.includes(Kn))),Bt.add(...nn.filter(Kn=>Kn&&!Zt.includes(Kn)))}else if("style"===w){for(const Bt in j)(!ce||null==ce[Bt])&&(Bt.includes("-")?R.style.removeProperty(Bt):R.style[Bt]="");for(const Bt in ce)(!j||ce[Bt]!==j[Bt])&&(Bt.includes("-")?R.style.setProperty(Bt,ce[Bt]):R.style[Bt]=ce[Bt])}else if("ref"===w)ce&&ce(R);else if(wt||"o"!==w[0]||"n"!==w[1]){const Bt=Be(ce);if((wt||Bt&&null!==ce)&&!tt)try{if(R.tagName.includes("-"))R[w]=ce;else{const Zt=null==ce?"":ce;"list"===w?wt=!1:(null==j||R[w]!=Zt)&&(R[w]=Zt)}}catch{}null==ce||!1===ce?(!1!==ce||""===R.getAttribute(w))&&R.removeAttribute(w):(!wt||4&pt||tt)&&!Bt&&R.setAttribute(w,ce=!0===ce?"":ce)}else w="-"===w[2]?w.slice(3):cr(Gn,Pt)?Pt.slice(2):Pt[2]+w.slice(3),j&&Nt.rel(R,w,j,!1),ce&&Nt.ael(R,w,ce,!1)}},Te=/\s/,Ve=R=>R?R.split(Te):[],_t=(R,w,j,ce)=>{const tt=11===w.$elm$.nodeType&&w.$elm$.host?w.$elm$.host:w.$elm$,pt=R&&R.$attrs$||K,wt=w.$attrs$||K;for(ce in pt)ce in wt||Ae(tt,ce,pt[ce],void 0,j,w.$flags$);for(ce in wt)Ae(tt,ce,pt[ce],wt[ce],j,w.$flags$)},Rt=(R,w,j,ce)=>{const tt=w.$children$[j];let wt,Pt,pt=0;if(null!==tt.$text$)wt=tt.$elm$=Pn.createTextNode(tt.$text$);else{if(Y||(Y="svg"===tt.$tag$),wt=tt.$elm$=Pn.createElementNS(Y?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",tt.$tag$),Y&&"foreignObject"===tt.$tag$&&(Y=!1),_t(null,tt,Y),(R=>null!=R)(N)&&wt["s-si"]!==N&&wt.classList.add(wt["s-si"]=N),tt.$children$)for(pt=0;pt<tt.$children$.length;++pt)Pt=Rt(R,tt,pt),Pt&&wt.appendChild(Pt);"svg"===tt.$tag$?Y=!1:"foreignObject"===wt.tagName&&(Y=!0)}return wt},At=(R,w,j,ce,tt,pt)=>{let Pt,wt=R;for(wt.shadowRoot&&wt.tagName===F&&(wt=wt.shadowRoot);tt<=pt;++tt)ce[tt]&&(Pt=Rt(null,j,tt),Pt&&(ce[tt].$elm$=Pt,wt.insertBefore(Pt,w)))},rt=(R,w,j)=>{for(let ce=w;ce<=j;++ce){const tt=R[ce];if(tt){const pt=tt.$elm$;Se(tt),pt&&pt.remove()}}},he=(R,w)=>R.$tag$===w.$tag$,Ue=(R,w)=>{const j=w.$elm$=R.$elm$,ce=R.$children$,tt=w.$children$,pt=w.$tag$,wt=w.$text$;null===wt?(Y="svg"===pt||"foreignObject"!==pt&&Y,_t(R,w,Y),null!==ce&&null!==tt?((R,w,j,ce)=>{let Gr,tt=0,pt=0,wt=w.length-1,Pt=w[0],Bt=w[wt],Zt=ce.length-1,nn=ce[0],Kn=ce[Zt];for(;tt<=wt&&pt<=Zt;)null==Pt?Pt=w[++tt]:null==Bt?Bt=w[--wt]:null==nn?nn=ce[++pt]:null==Kn?Kn=ce[--Zt]:he(Pt,nn)?(Ue(Pt,nn),Pt=w[++tt],nn=ce[++pt]):he(Bt,Kn)?(Ue(Bt,Kn),Bt=w[--wt],Kn=ce[--Zt]):he(Pt,Kn)?(Ue(Pt,Kn),R.insertBefore(Pt.$elm$,Bt.$elm$.nextSibling),Pt=w[++tt],Kn=ce[--Zt]):he(Bt,nn)?(Ue(Bt,nn),R.insertBefore(Bt.$elm$,Pt.$elm$),Bt=w[--wt],nn=ce[++pt]):(Gr=Rt(w&&w[pt],j,pt),nn=ce[++pt],Gr&&Pt.$elm$.parentNode.insertBefore(Gr,Pt.$elm$));tt>wt?At(R,null==ce[Zt+1]?null:ce[Zt+1].$elm$,j,ce,pt,Zt):pt>Zt&&rt(w,tt,wt)})(j,ce,w,tt):null!==tt?(null!==R.$text$&&(j.textContent=""),At(j,null,w,tt,0,tt.length-1)):null!==ce&&rt(ce,0,ce.length-1),Y&&"svg"===pt&&(Y=!1)):R.$text$!==wt&&(j.data=wt)},Se=R=>{R.$attrs$&&R.$attrs$.ref&&R.$attrs$.ref(null),R.$children$&&R.$children$.map(Se)},qe=(R,w)=>{w&&!R.$onRenderResolve$&&w["s-p"]&&w["s-p"].push(new Promise(j=>R.$onRenderResolve$=j))},ft=(R,w)=>{if(R.$flags$|=16,!(4&R.$flags$))return qe(R,R.$ancestorComponent$),$(()=>ht(R,w));R.$flags$|=512},ht=(R,w)=>{const ce=R.$lazyInstance$;return w&&(R.$flags$|=256,R.$queuedListeners$&&(R.$queuedListeners$.map(([pt,wt])=>Ht(ce,pt,wt)),R.$queuedListeners$=void 0)),bt(void 0,()=>Kt(R,ce,w))},bt=(R,w)=>mt(R)?R.then(w):w(),mt=R=>R instanceof Promise||R&&R.then&&"function"==typeof R.then,Kt=function(){var R=(0,a.Z)(function*(w,j,ce){var tt;const pt=w.$hostElement$,Pt=pt["s-rc"];ce&&(R=>{const w=R.$cmpMeta$,j=R.$hostElement$,ce=w.$flags$,pt=((R,w,j,ce)=>{var tt;let pt=De(w);const wt=br.get(pt);if(R=11===R.nodeType?R:Pn,wt)if("string"==typeof wt){let Bt,Pt=_e.get(R=R.head||R);if(Pt||_e.set(R,Pt=new Set),!Pt.has(pt)){{Bt=Pn.createElement("style"),Bt.innerHTML=wt;const Zt=null!==(tt=Nt.$nonce$)&&void 0!==tt?tt:$e(Pn);null!=Zt&&Bt.setAttribute("nonce",Zt),R.insertBefore(Bt,R.querySelector("link"))}Pt&&Pt.add(pt)}}else R.adoptedStyleSheets.includes(wt)||(R.adoptedStyleSheets=[...R.adoptedStyleSheets,wt]);return pt})(j.shadowRoot?j.shadowRoot:j.getRootNode(),w);10&ce&&(j["s-sc"]=pt,j.classList.add(pt+"-h"))})(w);Dt(w,j),Pt&&(Pt.map(Zt=>Zt()),pt["s-rc"]=void 0);{const Zt=null!==(tt=pt["s-p"])&&void 0!==tt?tt:[],nn=()=>Tt(w);0===Zt.length?nn():(Promise.all(Zt).then(nn),w.$flags$|=4,Zt.length=0)}});return function(j,ce,tt){return R.apply(this,arguments)}}(),Dt=(R,w,j)=>{try{w=w.render(),R.$flags$&=-17,R.$flags$|=2,((R,w)=>{const j=R.$hostElement$,ce=R.$vnode$||We(null,null),tt=(R=>R&&R.$tag$===He)(w)?w:nt(null,null,w);F=j.tagName,tt.$tag$=null,tt.$flags$|=4,R.$vnode$=tt,tt.$elm$=ce.$elm$=j.shadowRoot||j,N=j["s-sc"],Ue(ce,tt)})(R,w)}catch(ce){an(ce,R.$hostElement$)}return null},Tt=R=>{const j=R.$hostElement$,tt=R.$lazyInstance$,pt=R.$ancestorComponent$;64&R.$flags$||(R.$flags$|=64,on(j),Ht(tt,"componentDidLoad"),R.$onReadyResolve$(j),pt||Vt()),R.$onInstanceResolve$(j),R.$onRenderResolve$&&(R.$onRenderResolve$(),R.$onRenderResolve$=void 0),512&R.$flags$&&J(()=>ft(R,!1)),R.$flags$&=-517},Ct=R=>{{const w=Ln(R),j=w.$hostElement$.isConnected;return j&&2==(18&w.$flags$)&&ft(w,!1),j}},Vt=R=>{on(Pn.documentElement),J(()=>be(Gn,"appload",{detail:{namespace:"ionicpwaelements"}}))},Ht=(R,w,j)=>{if(R&&R[w])try{return R[w](j)}catch(ce){an(ce)}},on=R=>R.classList.add("hydrated"),Jt=(R,w,j)=>{if(w.$members$){const ce=Object.entries(w.$members$),tt=R.prototype;if(ce.map(([pt,[wt]])=>{31&wt||2&j&&32&wt?Object.defineProperty(tt,pt,{get(){return((R,w)=>Ln(this).$instanceValues$.get(w))(0,pt)},set(Pt){((R,w,j,ce)=>{const tt=Ln(R),pt=tt.$instanceValues$.get(w),wt=tt.$flags$,Pt=tt.$lazyInstance$;j=((R,w)=>null==R||Be(R)?R:4&w?"false"!==R&&(""===R||!!R):2&w?parseFloat(R):1&w?String(R):R)(j,ce.$members$[w][0]);const Bt=Number.isNaN(pt)&&Number.isNaN(j);(!(8&wt)||void 0===pt)&&j!==pt&&!Bt&&(tt.$instanceValues$.set(w,j),Pt&&2==(18&wt)&&ft(tt,!1))})(this,pt,Pt,w)},configurable:!0,enumerable:!0}):1&j&&64&wt&&Object.defineProperty(tt,pt,{value(...Pt){const Bt=Ln(this);return Bt.$onInstancePromise$.then(()=>Bt.$lazyInstance$[pt](...Pt))}})}),1&j){const pt=new Map;tt.attributeChangedCallback=function(wt,Pt,Bt){Nt.jmp(()=>{const Zt=pt.get(wt);if(this.hasOwnProperty(Zt))Bt=this[Zt],delete this[Zt];else if(tt.hasOwnProperty(Zt)&&"number"==typeof this[Zt]&&this[Zt]==Bt)return;this[Zt]=(null!==Bt||"boolean"!=typeof this[Zt])&&Bt})},R.observedAttributes=ce.filter(([wt,Pt])=>15&Pt[0]).map(([wt,Pt])=>{const Bt=Pt[1]||wt;return pt.set(Bt,wt),Bt})}}return R},Dn=function(){var R=(0,a.Z)(function*(w,j,ce,tt,pt){if(!(32&j.$flags$)){j.$flags$|=32;{if((pt=kr(ce)).then){const Zt=()=>{};pt=yield pt,Zt()}pt.isProxied||(Jt(pt,ce,2),pt.isProxied=!0);const Bt=()=>{};j.$flags$|=8;try{new pt(j)}catch(Zt){an(Zt)}j.$flags$&=-9,Bt()}if(pt.style){let Bt=pt.style;const Zt=De(ce);if(!br.has(Zt)){const nn=()=>{};((R,w,j)=>{let ce=br.get(R);ee&&j?(ce=ce||new CSSStyleSheet,"string"==typeof ce?ce=w:ce.replaceSync(w)):ce=w,br.set(R,ce)})(Zt,Bt,!!(1&ce.$flags$)),nn()}}}const wt=j.$ancestorComponent$,Pt=()=>ft(j,!0);wt&&wt["s-rc"]?wt["s-rc"].push(Pt):Pt()});return function(j,ce,tt,pt,wt){return R.apply(this,arguments)}}(),hn=(R,w={})=>{var j;const tt=[],pt=w.exclude||[],wt=Gn.customElements,Pt=Pn.head,Bt=Pt.querySelector("meta[charset]"),Zt=Pn.createElement("style"),nn=[];let Kn,Gr=!0;Object.assign(Nt,w),Nt.$resourcesUrl$=new URL(w.resourcesUrl||"./",Pn.baseURI).href,R.map(xt=>{xt[1].map(Et=>{const Gt={$flags$:Et[0],$tagName$:Et[1],$members$:Et[2],$listeners$:Et[3]};Gt.$members$=Et[2],Gt.$listeners$=Et[3];const yn=Gt.$tagName$,Nn=class extends HTMLElement{constructor(pn){super(pn),sn(pn=this,Gt),1&Gt.$flags$&&pn.attachShadow({mode:"open"})}connectedCallback(){Kn&&(clearTimeout(Kn),Kn=null),Gr?nn.push(this):Nt.jmp(()=>(R=>{if(!(1&Nt.$flags$)){const w=Ln(R),j=w.$cmpMeta$,ce=()=>{};if(1&w.$flags$)xn(R,w,j.$listeners$);else{w.$flags$|=1;{let tt=R;for(;tt=tt.parentNode||tt.host;)if(tt["s-p"]){qe(w,w.$ancestorComponent$=tt);break}}j.$members$&&Object.entries(j.$members$).map(([tt,[pt]])=>{if(31&pt&&R.hasOwnProperty(tt)){const wt=R[tt];delete R[tt],R[tt]=wt}}),Dn(R,w,j)}ce()}})(this))}disconnectedCallback(){Nt.jmp(()=>(R=>{if(!(1&Nt.$flags$)){const w=Ln(this),j=w.$lazyInstance$;w.$rmListeners$&&(w.$rmListeners$.map(ce=>ce()),w.$rmListeners$=void 0),Ht(j,"disconnectedCallback")}})())}componentOnReady(){return Ln(this).$onReadyPromise$}};Gt.$lazyBundleId$=xt[0],!pt.includes(yn)&&!wt.get(yn)&&(tt.push(yn),wt.define(yn,Jt(Nn,Gt,1)))})});{Zt.innerHTML=tt+"{visibility:hidden}.hydrated{visibility:inherit}",Zt.setAttribute("data-styles","");const xt=null!==(j=Nt.$nonce$)&&void 0!==j?j:$e(Pn);null!=xt&&Zt.setAttribute("nonce",xt),Pt.insertBefore(Zt,Bt?Bt.nextSibling:Pt.firstChild)}Gr=!1,nn.length?nn.map(xt=>xt.connectedCallback()):Nt.jmp(()=>Kn=setTimeout(Vt,30))},xn=(R,w,j,ce)=>{j&&j.map(([tt,pt,wt])=>{const Pt=Qn(R,tt),Bt=Sn(w,wt),Zt=mr(tt);Nt.ael(Pt,pt,Bt,Zt),(w.$rmListeners$=w.$rmListeners$||[]).push(()=>Nt.rel(Pt,pt,Bt,Zt))})},Sn=(R,w)=>j=>{try{256&R.$flags$?R.$lazyInstance$[w](j):(R.$queuedListeners$=R.$queuedListeners$||[]).push([w,j])}catch(ce){an(ce)}},Qn=(R,w)=>16&w?Pn.body:R,mr=R=>0!=(2&R),en=new WeakMap,Ln=R=>en.get(R),xr=(R,w)=>en.set(w.$lazyInstance$=R,w),sn=(R,w)=>{const j={$flags$:0,$hostElement$:R,$cmpMeta$:w,$instanceValues$:new Map};return j.$onInstancePromise$=new Promise(ce=>j.$onInstanceResolve$=ce),j.$onReadyPromise$=new Promise(ce=>j.$onReadyResolve$=ce),R["s-p"]=[],R["s-rc"]=[],xn(R,j,w.$listeners$),en.set(R,j)},cr=(R,w)=>w in R,an=(R,w)=>(0,console.error)(R,w),Wn=new Map,kr=(R,w,j)=>{const ce=R.$tagName$.replace(/-/g,"_"),tt=R.$lazyBundleId$,pt=Wn.get(tt);if(pt)return pt[ce];if(!j||!BUILD.hotModuleReplacement){const wt=Pt=>(Wn.set(tt,Pt),Pt[ce]);switch(tt){case"pwa-action-sheet":return I.e(1120).then(I.bind(I,1120)).then(wt,an);case"pwa-camera-modal":return I.e(7324).then(I.bind(I,7324)).then(wt,an);case"pwa-toast":return I.e(2813).then(I.bind(I,2813)).then(wt,an);case"pwa-camera-modal-instance":return I.e(4995).then(I.bind(I,4995)).then(wt,an);case"pwa-camera":return I.e(6390).then(I.bind(I,6390)).then(wt,an)}}return I(5899)(`./${tt}.entry.js`).then(wt=>(Wn.set(tt,wt),wt[ce]),an)},br=new Map,Gn=typeof window<"u"?window:{},Pn=Gn.document||{head:{}},Nt={$flags$:0,$resourcesUrl$:"",jmp:R=>R(),raf:R=>requestAnimationFrame(R),ael:(R,w,j,ce)=>R.addEventListener(w,j,ce),rel:(R,w,j,ce)=>R.removeEventListener(w,j,ce),ce:(R,w)=>new CustomEvent(R,w)},ye=R=>Promise.resolve(R),ee=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ne=[],st=[],je=(R,w)=>j=>{R.push(j),Z||(Z=!0,w&&4&Nt.$flags$?J(ke):Nt.raf(ke))},St=R=>{for(let w=0;w<R.length;w++)try{R[w](performance.now())}catch(j){an(j)}R.length=0},ke=()=>{St(Ne),St(st),(Z=Ne.length>0)&&Nt.raf(ke)},J=R=>ye().then(R),$=je(st,!0)},6602:(Lt,Ce,I)=>{"use strict";I.d(Ce,{j:()=>ue});var a=I(5861),_=I(5879),N=I(95),F=I(9992),Y=I(5386),Z=I(6814),Q=I(9004),ne=I(74),Me=I(5890);function K(Ge,be){if(1&Ge&&(_.TgZ(0,"ion-avatar"),_._UZ(1,"img",14),_.qZA()),2&Ge){const _e=_.oxw();_.xp6(1),_.Q6J("src",_e.form.value.image,_.LSH)}}function le(Ge,be){1&Ge&&_._UZ(0,"ion-icon",15)}function ge(Ge,be){1&Ge&&(_.TgZ(0,"div"),_._uU(1,"Este campo es requerido"),_.qZA())}function we(Ge,be){1&Ge&&(_.TgZ(0,"div"),_._uU(1,"El nombre debe tener al menos 4 caracteres"),_.qZA())}function Be(Ge,be){if(1&Ge&&(_.TgZ(0,"div",16),_.YNc(1,ge,2,0,"div",2),_.YNc(2,we,2,0,"div",2),_.qZA()),2&Ge){const _e=_.oxw();_.xp6(1),_.Q6J("ngIf",null==_e.form.controls.name.errors?null:_e.form.controls.name.errors.required),_.xp6(1),_.Q6J("ngIf",null==_e.form.controls.name.errors?null:_e.form.controls.name.errors.minlenght)}}function $e(Ge,be){1&Ge&&(_.TgZ(0,"div"),_._uU(1,"Este campo es requerido"),_.qZA())}function nt(Ge,be){if(1&Ge&&(_.TgZ(0,"div",16),_.YNc(1,$e,2,0,"div",2),_.qZA()),2&Ge){const _e=_.oxw();_.xp6(1),_.Q6J("ngIf",null==_e.form.controls.seccion.errors?null:_e.form.controls.seccion.errors.required)}}function We(Ge,be){1&Ge&&(_.TgZ(0,"div"),_._uU(1,"Este campo es requerido"),_.qZA())}function He(Ge,be){if(1&Ge&&(_.TgZ(0,"div",16),_.YNc(1,We,2,0,"div",2),_.qZA()),2&Ge){const _e=_.oxw();_.xp6(1),_.Q6J("ngIf",null==_e.form.controls.sala.errors?null:_e.form.controls.sala.errors.required)}}function Ze(Ge,be){if(1&Ge&&(_.TgZ(0,"ion-select-option",17),_._uU(1),_.qZA()),2&Ge){const _e=be.$implicit;_.Q6J("value",_e.uid),_.xp6(1),_.Oqu(_e.name)}}function ot(Ge,be){if(1&Ge&&(_.TgZ(0,"ion-select-option",17),_._uU(1),_.qZA()),2&Ge){const _e=be.$implicit;_.Q6J("value",_e.uid),_.xp6(1),_.Oqu(_e.name)}}let ue=(()=>{var Ge;class be{constructor(){this.form=new N.cw({id:new N.NI(""),name:new N.NI("",[N.kI.required,N.kI.minLength(4)]),seccion:new N.NI("",[N.kI.required]),sala:new N.NI("",[N.kI.required]),image:new N.NI("",[N.kI.required]),userId:new N.NI([]),alumnos:new N.NI([]),profesor:new N.NI({})}),this.firebaseauthSvc=(0,_.f3M)(F.s),this.utilsSvc=(0,_.f3M)(Y.F),this.user={},this.alumnos=[],this.profesores=[]}ngOnInit(){var te=this;return(0,a.Z)(function*(){te.user=te.utilsSvc.getFromlocalStorage("user"),te.curso&&te.form.setValue(te.curso);const W=yield te.firebaseauthSvc.firestore.collection("users",De=>De.where("profile","==","alumno")).get().toPromise();te.alumnos=W.docs.map(De=>De.data());const Le=yield te.firebaseauthSvc.firestore.collection("users",De=>De.where("profile","==","profesor")).get().toPromise();te.profesores=Le.docs.map(De=>De.data())})()}takeImage(){var te=this;return(0,a.Z)(function*(){const W=(yield te.utilsSvc.takePicture("Imagen de Curso")).dataUrl;te.form.controls.image.setValue(W)})()}submit(){this.form.valid&&(this.curso?this.updateCurso():this.createCurso())}createCurso(){var te=this;return(0,a.Z)(function*(){const Le=yield te.utilsSvc.loading();yield Le.present();let De=te.form.value.image,Ae=`${Date.now()}`,Te=yield te.firebaseauthSvc.uploadImage(Ae,De);te.form.controls.image.setValue(Te),te.user&&te.user.uid&&(te.form.value.userId=[te.user.uid]),te.form.value.alumnos=te.alumnos.filter(Ve=>te.form.value.alumnos.includes(Ve.uid)),te.form.value.profesor=te.profesores.find(Ve=>Ve.uid===te.form.value.profesor),delete te.form.value.id,te.firebaseauthSvc.addDocument("cursos",te.form.value).then(function(){var Ve=(0,a.Z)(function*(_t){te.utilsSvc.dismissModal({success:!0}),te.utilsSvc.presentToast({message:"Curso creado exitosamente",duration:1500,color:"success",position:"middle",icon:"checkmark-circle-outline"})});return function(_t){return Ve.apply(this,arguments)}}()).catch(Ve=>{console.log(Ve),te.utilsSvc.presentToast({message:Ve.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{Le.dismiss()})})()}updateCurso(){var te=this;return(0,a.Z)(function*(){let W=`cursos/${te.curso.id}`;const Le=yield te.utilsSvc.loading();if(yield Le.present(),te.form.value.image!==te.curso.image){let De=te.form.value.image,Ae=yield te.firebaseauthSvc.getFilePath(te.curso.image),Te=yield te.firebaseauthSvc.uploadImage(Ae,De);te.form.controls.image.setValue(Te)}te.form.value.alumnos=te.alumnos.filter(De=>te.form.value.alumnos.includes(De.uid)),te.form.value.profesor=te.profesores.find(De=>De.uid===te.form.value.profesor),delete te.form.value.id,te.firebaseauthSvc.updateDocument(W,te.form.value).then(function(){var De=(0,a.Z)(function*(Ae){te.utilsSvc.dismissModal({success:!0}),te.utilsSvc.presentToast({message:"Curso actualizado exitosamente",duration:1500,color:"success",position:"middle",icon:"checkmark-circle-outline"})});return function(Ae){return De.apply(this,arguments)}}()).catch(De=>{console.log(De),te.utilsSvc.presentToast({message:De.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{Le.dismiss()})})()}}return(Ge=be).\u0275fac=function(te){return new(te||Ge)},Ge.\u0275cmp=_.Xpm({type:Ge,selectors:[["app-set-cursos"]],inputs:{curso:"curso"},decls:27,vars:15,consts:[[3,"isModal","title"],[1,"ion-padding","ion-text-center",3,"formGroup","ngSubmit","keypress.enter"],[4,"ngIf"],["class","image-icon","name","image-outline",4,"ngIf"],["mode","ios","size","small","shape","round",3,"click"],["autocomplete","name","type","text","label","Nombre",3,"control"],["class","validators",4,"ngIf"],["type","text","label","Seccion",3,"control"],["type","text","label","Sala",3,"control"],["multiple","true","formControlName","alumnos","label","Alumnos","mode","ios"],[3,"value",4,"ngFor","ngForOf"],["formControlName","profesor","mode","ios"],["mode","ios","type","submit",1,"ion-margin",3,"disabled"],["slot","end","name","checkmark-circle-outline"],[3,"src"],["name","image-outline",1,"image-icon"],[1,"validators"],[3,"value"]],template:function(te,W){1&te&&(_._UZ(0,"app-header",0),_.TgZ(1,"ion-content")(2,"form",1),_.NdJ("ngSubmit",function(){return W.submit()})("keypress.enter",function(){return W.submit()}),_.YNc(3,K,2,1,"ion-avatar",2),_.YNc(4,le,1,0,"ion-icon",3),_._UZ(5,"br"),_.TgZ(6,"ion-button",4),_.NdJ("click",function(){return W.takeImage()}),_._uU(7," Tomar/Seleccionar "),_.qZA(),_._UZ(8,"app-custom-input",5),_.YNc(9,Be,3,2,"div",6),_._UZ(10,"app-custom-input",7),_.YNc(11,nt,2,1,"div",6),_._UZ(12,"app-custom-input",8),_.YNc(13,He,2,1,"div",6),_.TgZ(14,"ion-item")(15,"ion-label"),_._uU(16,"Alumnos"),_.qZA(),_.TgZ(17,"ion-select",9),_.YNc(18,Ze,2,2,"ion-select-option",10),_.qZA()(),_.TgZ(19,"ion-item")(20,"ion-label"),_._uU(21,"Profesor"),_.qZA(),_.TgZ(22,"ion-select",11),_.YNc(23,ot,2,2,"ion-select-option",10),_.qZA()(),_.TgZ(24,"ion-button",12),_._uU(25),_._UZ(26,"ion-icon",13),_.qZA()()()),2&te&&(_.Q6J("isModal",!0)("title",W.curso?"Actualizar Curso":"Registro de Curso"),_.xp6(2),_.Q6J("formGroup",W.form),_.xp6(1),_.Q6J("ngIf",W.form.value.image),_.xp6(1),_.Q6J("ngIf",!W.form.value.image),_.xp6(4),_.Q6J("control",W.form.controls.name),_.xp6(1),_.Q6J("ngIf",W.form.controls.name.errors&&W.form.controls.name.touched),_.xp6(1),_.Q6J("control",W.form.controls.seccion),_.xp6(1),_.Q6J("ngIf",W.form.controls.seccion.errors&&W.form.controls.seccion.touched),_.xp6(1),_.Q6J("control",W.form.controls.sala),_.xp6(1),_.Q6J("ngIf",W.form.controls.sala.errors&&W.form.controls.sala.touched),_.xp6(5),_.Q6J("ngForOf",W.alumnos),_.xp6(5),_.Q6J("ngForOf",W.profesores),_.xp6(1),_.Q6J("disabled",W.form.invalid),_.xp6(1),_.hij(" ",W.curso?"Actualizar Curso":"Agregar Curso"," "))},dependencies:[Z.sg,Z.O5,Q.BJ,Q.YG,Q.W2,Q.gu,Q.Ie,Q.Q$,Q.t9,Q.n0,Q.QI,N._Y,N.JJ,N.JL,ne.G,Me.O,N.sg,N.u],styles:[".image-icon[_ngcontent-%COMP%]{font-size:100px;opacity:30%}.ion-avatar[_ngcontent-%COMP%]{width:200px;height:160px;--border-radius: 15px;margin:0 auto}"]}),be})()},9992:(Lt,Ce,I)=>{"use strict";I.d(Ce,{s:()=>si});var a=I(5861),_=I(5879),N=I(7213),F=I(4562),Me=(I(9058),I(534),I(7879),I(4537),I(7104)),K=I(1920);I(3182);var Ae=I(5776),Te=I(5592),Ve=I(7398),_t=function(){return _t=Object.assign||function(Qt){for(var En,In=1,Pr=arguments.length;In<Pr;In++)for(var or in En=arguments[In])Object.prototype.hasOwnProperty.call(En,or)&&(Qt[or]=En[or]);return Qt},_t.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var At={includeMetadataChanges:!1};function Ht(fn,Qt){return void 0===Qt&&(Qt={}),function Tt(fn){return function rt(fn,Qt){return void 0===Qt&&(Qt=At),new Te.y(function(En){return{unsubscribe:(0,Ae.cf)(fn,Qt,{next:En.next.bind(En),error:En.error.bind(En),complete:En.complete.bind(En)})}})}(fn,{includeMetadataChanges:!0}).pipe((0,Ve.U)(function(Qt){return Qt.docs}))}(fn).pipe((0,Ve.U)(function(En){return En.map(function(In){return function Ue(fn,Qt){var En;void 0===Qt&&(Qt={});var In=fn.data(Qt);return fn.exists()&&"object"==typeof In&&null!==In&&Qt.idField?_t(_t({},In),((En={})[Qt.idField]=fn.id,En)):In}(In,Qt)})}))}const cr=(0,K.u3)(Ht,!0),Nt=(0,K.u3)(Ae.ET,!0),J=(0,K.u3)(Ae.hJ,!0),ce=(0,K.u3)(Ae.oe,!0),Pt=(0,K.u3)(Ae.JU,!0),Nn=(0,K.u3)(Ae.QT,!0),Wr=(0,K.u3)(Ae.ad,!0),ve=(0,K.u3)(Ae.IO,!0),ct=(0,K.u3)(Ae.pl,!0),Xn=(0,K.u3)(Ae.r7,!0);var qr=I(5386),hr=I(778),Lr=I(8153);let si=(()=>{var fn;class Qt{constructor(){this.auth=(0,_.f3M)(N.zQ),this.firestore=(0,_.f3M)(Me.ST),this.storage=(0,_.f3M)(hr.Q1),this.utilsSvc=(0,_.f3M)(qr.F)}getAuth(){return(0,F.o)()}stateUser(){return this.auth.authState}signIn(In){return(0,F.ab)((0,F.o)(),In.email,In.password)}signOut(){(0,F.o)().signOut(),localStorage.removeItem("user"),this.utilsSvc.routerlink("/auth")}signUp(In){return(0,F.aa)((0,F.o)(),In.email,In.password)}updateUser(In){return(0,F.ak)((0,F.o)().currentUser,{displayName:In})}sendRecoveryEmail(In){return(0,F.a5)((0,F.o)(),In)}getCollectionData(In,Pr){const or=J(Wr(),In);return cr(ve(or,Pr),{idField:"id"})}setDocument(In,Pr){return ct(Pt(Wr(),In),Pr)}updateDocument(In,Pr){return Xn(Pt(Wr(),In),Pr)}deleteDocument(In){return ce(Pt(Wr(),In))}getDocument(In){return(0,a.Z)(function*(){return(yield Nn(Pt(Wr(),In))).data()})()}addDocument(In,Pr){return Nt(J(Wr(),In),Pr)}uploadImage(In,Pr){return(0,a.Z)(function*(){return(0,Lr.sf)((0,Lr.iH)((0,Lr.cF)(),In),Pr,"data_url").then(()=>(0,Lr.Jt)((0,Lr.iH)((0,Lr.cF)(),In)))})()}getFilePath(In){return(0,a.Z)(function*(){return(0,Lr.iH)((0,Lr.cF)(),In).fullPath})()}deleteFile(In){return(0,Lr.oq)((0,Lr.iH)((0,Lr.cF)(),In))}}return(fn=Qt).\u0275fac=function(In){return new(In||fn)},fn.\u0275prov=_.Yz7({token:fn,factory:fn.\u0275fac,providedIn:"root"}),Qt})()},5386:(Lt,Ce,I)=>{"use strict";I.d(Ce,{F:()=>ne});var a=I(5861),_=I(5879),N=I(4934),F=I(4414),Y=I(2726),Z=I(5961);const Q=(0,Y.fo)("Camera",{web:()=>I.e(6468).then(I.bind(I,6468)).then(Me=>new Me.CameraWeb)});let ne=(()=>{var Me;class K{constructor(){this.loadingCtrl=(0,_.f3M)(F.HT),this.toastCtrl=(0,_.f3M)(F.yF),this.modalCtrl=(0,_.f3M)(F.IN),this.router=(0,_.f3M)(N.F0),this.alertCtrl=(0,_.f3M)(F.Br)}takePicture(ge){return(0,a.Z)(function*(){return yield Q.getPhoto({quality:90,allowEditing:!0,resultType:Z.dk.DataUrl,source:Z.oK.Prompt,promptLabelHeader:ge,promptLabelPhoto:"Selecciona una imagen",promptLabelPicture:"Toma una foto"})})()}presentAlert(ge){var we=this;return(0,a.Z)(function*(){yield(yield we.alertCtrl.create(ge)).present()})()}loading(){return this.loadingCtrl.create({spinner:"crescent"})}presentToast(ge){var we=this;return(0,a.Z)(function*(){(yield we.toastCtrl.create(ge)).present()})()}routerlink(ge){return this.router.navigateByUrl(ge)}saveInlocalStorage(ge,we){return localStorage.setItem(ge,JSON.stringify(we))}getFromlocalStorage(ge){return JSON.parse(localStorage.getItem(ge))}presentModal(ge){var we=this;return(0,a.Z)(function*(){const Be=yield we.modalCtrl.create(ge);yield Be.present();const{data:$e}=yield Be.onWillDismiss();if($e)return $e})()}dismissModal(ge){return this.modalCtrl.dismiss(ge)}}return(Me=K).\u0275fac=function(ge){return new(ge||Me)},Me.\u0275prov=_.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),K})()},5890:(Lt,Ce,I)=>{"use strict";I.d(Ce,{O:()=>Q});var a=I(5879),_=I(6814),N=I(9004),F=I(95);function Y(ne,Me){if(1&ne&&a._UZ(0,"ion-icon",4),2&ne){const K=a.oxw();a.Q6J("name",K.icon)}}function Z(ne,Me){if(1&ne){const K=a.EpF();a.TgZ(0,"ion-button",5),a.NdJ("click",function(){a.CHM(K);const ge=a.oxw();return a.KtG(ge.showOrHidePassword())}),a._UZ(1,"ion-icon",6),a.qZA()}if(2&ne){const K=a.oxw();a.xp6(1),a.Q6J("name",K.hide?"eye-outline":"eye-off-outline")}}let Q=(()=>{var ne;class Me{constructor(){this.hide=!0}ngOnInit(){"password"==this.type&&(this.isPassword=!0)}showOrHidePassword(){this.hide=!this.hide,this.type=this.hide?"password":"text"}}return(ne=Me).\u0275fac=function(le){return new(le||ne)},ne.\u0275cmp=a.Xpm({type:ne,selectors:[["app-custom-input"]],inputs:{control:"control",type:"type",label:"label",autocomplete:"autocomplete",icon:"icon"},decls:4,vars:6,consts:[["lines","none",1,"custom-input"],["color","primary","slot","start",3,"name",4,"ngIf"],["label-placement","floating",3,"type","autocomplete","label","formControl"],["slot","end","fill","clear","shape","round",3,"click",4,"ngIf"],["color","primary","slot","start",3,"name"],["slot","end","fill","clear","shape","round",3,"click"],["slot","icon-only",3,"name"]],template:function(le,ge){1&le&&(a.TgZ(0,"ion-item",0),a.YNc(1,Y,1,1,"ion-icon",1),a._UZ(2,"ion-input",2),a.YNc(3,Z,2,1,"ion-button",3),a.qZA()),2&le&&(a.xp6(1),a.Q6J("ngIf",ge.icon),a.xp6(1),a.Q6J("type",ge.type)("autocomplete",ge.autocomplete)("label",ge.label)("formControl",ge.control),a.xp6(1),a.Q6J("ngIf",ge.isPassword))},dependencies:[_.O5,N.YG,N.gu,N.pK,N.Ie,N.j9,F.JJ,F.oH]}),Me})()},74:(Lt,Ce,I)=>{"use strict";I.d(Ce,{G:()=>ne});var a=I(5879),_=I(5386),N=I(6814),F=I(9004);function Y(Me,K){if(1&Me&&a._UZ(0,"ion-back-button",6),2&Me){const le=a.oxw();a.Q6J("defaultHref",le.backButton)}}function Z(Me,K){if(1&Me){const le=a.EpF();a.TgZ(0,"ion-button",7),a.NdJ("click",function(){a.CHM(le);const we=a.oxw();return a.KtG(we.dismissModal())}),a._UZ(1,"ion-icon",8),a.qZA()}}function Q(Me,K){1&Me&&a._UZ(0,"ion-menu-button",9)}let ne=(()=>{var Me;class K{constructor(){this.utilsSvc=(0,a.f3M)(_.F)}ngOnInit(){}dismissModal(){this.utilsSvc.dismissModal()}}return(Me=K).\u0275fac=function(ge){return new(ge||Me)},Me.\u0275cmp=a.Xpm({type:Me,selectors:[["app-header"]],inputs:{title:"title",backButton:"backButton",isModal:"isModal",showMenu:"showMenu"},decls:11,vars:4,consts:[["color","primary"],["slot","start"],[3,"defaultHref",4,"ngIf"],[3,"click",4,"ngIf"],["menu","menu-content",4,"ngIf"],[1,"admin"],[3,"defaultHref"],[3,"click"],["name","close-circle-outline"],["menu","menu-content"]],template:function(ge,we){1&ge&&(a.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),a.YNc(3,Y,1,1,"ion-back-button",2),a.YNc(4,Z,2,0,"ion-button",3),a.YNc(5,Q,1,0,"ion-menu-button",4),a.qZA(),a.TgZ(6,"ion-title")(7,"strong"),a._uU(8),a.qZA(),a.TgZ(9,"div",5),a._uU(10,"D U O C"),a.qZA()()()()),2&ge&&(a.xp6(3),a.Q6J("ngIf",we.backButton),a.xp6(1),a.Q6J("ngIf",we.isModal),a.xp6(1),a.Q6J("ngIf",we.showMenu),a.xp6(3),a.Oqu(we.title))},dependencies:[N.O5,F.YG,F.Sm,F.Gu,F.gu,F.fG,F.wd,F.sr,F.oU],styles:[".admin[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-size:13px;font-weight:700}"]}),K})()},8554:(Lt,Ce,I)=>{"use strict";I.d(Ce,{m:()=>Y});var a=I(6814),_=I(9004),N=I(95),F=I(5879);let Y=(()=>{var Z;class Q{}return(Z=Q).\u0275fac=function(Me){return new(Me||Z)},Z.\u0275mod=F.oAB({type:Z}),Z.\u0275inj=F.cJS({imports:[a.ez,_.Pc,N.UX,N.u5,N.UX]}),Q})()},3492:(Lt,Ce,I)=>{"use strict";var a=I(6593),_=I(5879),N=I(4934),F=I(4414),Y=I(9004);let Z=(()=>{var ee;class Ne{constructor(){}}return(ee=Ne).\u0275fac=function(je){return new(je||ee)},ee.\u0275cmp=_.Xpm({type:ee,selectors:[["app-root"]],decls:2,vars:0,template:function(je,St){1&je&&(_.TgZ(0,"ion-app"),_._UZ(1,"ion-router-outlet"),_.qZA())},dependencies:[Y.dr,Y.jP]}),Ne})();var Q=I(5861),ne=I(9992),Me=I(5386),K=I(7582),ge=I(5592),we=I(2438),Be={error:"cordova_not_available"},$e={error:"plugin_not_installed"};function nt(ee){if(typeof window<"u"&&window.angular){var st=window.document,je=window.angular.element(st.querySelector("[ng-app]")||st.body).injector();if(je)return je.get("$q")(function(ke,J){ee(ke,J)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(ke,J){ee(ke,J)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function ue(ee,Ne,st){var je,St,ke;return"string"==typeof ee?je=ee:(je=ee.constructor.getPluginRef(),st=ee.constructor.getPluginName(),ke=ee.constructor.getPluginInstallName()),!(!(St=W(je))||Ne&&typeof St[Ne]>"u")||(typeof window>"u"||!window.cordova?(function Ae(ee,Ne){typeof process>"u"&&console.warn(Ne?"Native: tried calling "+ee+"."+Ne+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+ee+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(st,Ne),Be):(function De(ee,Ne,st){console.warn(st?"Native: tried calling "+ee+"."+st+", but the "+ee+" plugin is not installed.":"Native: tried accessing the "+ee+" plugin but it's not installed."),Ne&&console.warn("Install the "+ee+" plugin: 'ionic cordova plugin add "+Ne+"'")}(st,ke,Ne),$e))}function _e(ee,Ne,st,je,St,ke){void 0===je&&(je={}),st=function be(ee,Ne,st,je){if(void 0===Ne&&(Ne={}),Ne.sync)return ee;if("reverse"===Ne.callbackOrder)ee.unshift(je),ee.unshift(st);else if("node"===Ne.callbackStyle)ee.push(function($,R){$?je($):st(R)});else if("object"===Ne.callbackStyle&&Ne.successName&&Ne.errorName){var St={};St[Ne.successName]=st,St[Ne.errorName]=je,ee.push(St)}else if(typeof Ne.successIndex<"u"||typeof Ne.errorIndex<"u"){var ke=function(){Ne.successIndex>ee.length?ee[Ne.successIndex]=st:ee.splice(Ne.successIndex,0,st)},J=function(){Ne.errorIndex>ee.length?ee[Ne.errorIndex]=je:ee.splice(Ne.errorIndex,0,je)};Ne.successIndex>Ne.errorIndex?(J(),ke()):(ke(),J())}else ee.push(st),ee.push(je);return ee}(st,je,St,ke);var J=ue(ee,Ne);if(!0===J){var $=W(ee.constructor.getPluginRef());return $[Ne].apply($,st)}return J}function W(ee){return typeof window<"u"?Le(window,ee):null}function Le(ee,Ne){for(var st=Ne.split("."),je=ee,St=0;St<st.length;St++){if(!je)return null;je=je[st[St]]}return je}var At=function(){function ee(){}return ee.installed=function(){return!0===ue(this.pluginRef)},ee.getPlugin=function(){return typeof window<"u"?function _t(ee,Ne){for(var st=Ne.split("."),je=ee,St=0;St<st.length;St++){if(!je)return null;je=je[st[St]]}return je}(window,this.pluginRef):null},ee.getPluginName=function(){return this.pluginName},ee.getPluginRef=function(){return this.pluginRef},ee.getPluginInstallName=function(){return this.plugin},ee.getSupportedPlatforms=function(){return this.platforms},ee.pluginName="",ee.pluginRef="",ee.plugin="",ee.repo="",ee.platforms=[],ee.install="",ee}();function rt(ee,Ne,st,je){return function(ee,Ne,st){return void 0===st&&(st={}),function(){for(var je=[],St=0;St<arguments.length;St++)je[St]=arguments[St];return st.sync?_e(ee,Ne,je,st):st.observable?function Ze(ee,Ne,st,je){return void 0===je&&(je={}),new ge.y(function(St){var ke;return ke=je.destruct?_e(ee,Ne,st,je,function(){for(var J=[],$=0;$<arguments.length;$++)J[$]=arguments[$];return St.next(J)},function(){for(var J=[],$=0;$<arguments.length;$++)J[$]=arguments[$];return St.error(J)}):_e(ee,Ne,st,je,St.next.bind(St),St.error.bind(St)),ke&&ke.error&&(St.error(ke.error),St.complete()),function(){try{if(je.clearFunction)return je.clearWithArgs?_e(ee,je.clearFunction,st,je,St.next.bind(St),St.error.bind(St)):_e(ee,je.clearFunction,[])}catch(J){console.warn("Unable to clear the previous observable watch for",ee.constructor.getPluginName(),Ne),console.warn(J)}}})}(ee,Ne,je,st):st.eventObservable&&st.event?function ot(ee,Ne){return Ne=typeof window<"u"&&Ne?Le(window,Ne):Ne||(typeof window<"u"?window:{}),(0,we.R)(Ne,ee)}(st.event,st.element):st.otherPromise?function He(ee,Ne,st,je){return void 0===je&&(je={}),nt(function(St,ke){var J=_e(ee,Ne,st,je);J?J.error?ke(J.error):J.then&&J.then(St).catch(ke):ke({error:"unexpected_error"})})}(ee,Ne,je,st):function We(ee,Ne,st,je){void 0===je&&(je={});var St,ke,J=nt(function($,R){St=je.destruct?_e(ee,Ne,st,je,function(){for(var w=[],j=0;j<arguments.length;j++)w[j]=arguments[j];return $(w)},function(){for(var w=[],j=0;j<arguments.length;j++)w[j]=arguments[j];return R(w)}):_e(ee,Ne,st,je,$,R),ke=R});return St&&St.error&&(J.catch(function(){}),"function"==typeof ke&&ke(St.error)),J}(ee,Ne,je,st)}}(ee,Ne,st).apply(this,je)}!function le(){if(typeof process>"u"){var ee=typeof window<"u"?window:{},st=Date.now(),je=!1;ee.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-st)+" ms"),je=!0}),setTimeout(function(){!je&&ee.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var qe=function(ee){function Ne(){return null!==ee&&ee.apply(this,arguments)||this}return(0,K.ZT)(Ne,ee),Ne.prototype.prepare=function(){return rt(this,"prepare",{callbackStyle:"node"},arguments)},Ne.prototype.scan=function(){return rt(this,"scan",{callbackStyle:"node",observable:!0,clearFunction:"cancelScan"},arguments)},Ne.prototype.show=function(){return rt(this,"show",{},arguments)},Ne.prototype.hide=function(){return rt(this,"hide",{},arguments)},Ne.prototype.enableLight=function(){return rt(this,"enableLight",{callbackStyle:"node"},arguments)},Ne.prototype.destroy=function(){return rt(this,"destroy",{},arguments)},Ne.prototype.disableLight=function(){return rt(this,"disableLight",{callbackStyle:"node"},arguments)},Ne.prototype.useFrontCamera=function(){return rt(this,"useFrontCamera",{callbackStyle:"node"},arguments)},Ne.prototype.useBackCamera=function(){return rt(this,"useBackCamera",{callbackStyle:"node"},arguments)},Ne.prototype.useCamera=function(st){return rt(this,"useCamera",{callbackStyle:"node"},arguments)},Ne.prototype.pausePreview=function(){return rt(this,"pausePreview",{},arguments)},Ne.prototype.resumePreview=function(){return rt(this,"resumePreview",{},arguments)},Ne.prototype.getStatus=function(){return rt(this,"getStatus",{},arguments)},Ne.prototype.openSettings=function(){return rt(this,"openSettings",{sync:!0},arguments)},Ne.pluginName="QRScanner",Ne.plugin="cordova-plugin-qrscanner",Ne.pluginRef="QRScanner",Ne.repo="https://github.com/bitpay/cordova-plugin-qrscanner",Ne.platforms=["Android","Browser","iOS","Windows"],Ne.decorators=[{type:_.GSi}],Ne}(At),ft=I(6814),ht=I(2839);const bt=["qrcElement"];let mt=(()=>{var ee;class Ne{constructor(je,St){this.renderer=je,this.sanitizer=St,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new _.vpe,this.context=null}ngOnChanges(){var je=this;return(0,Q.Z)(function*(){yield je.createQRCode()})()}isValidQrCodeText(je){return!1===this.allowEmptyString?!(typeof je>"u"||""===je||"null"===je||null===je):!(typeof je>"u")}toDataURL(je){return new Promise((St,ke)=>{(0,ht.hz)(this.qrdata,je,(J,$)=>{J?ke(J):St($)})})}toCanvas(je,St){return new Promise((ke,J)=>{(0,ht.rT)(je,this.qrdata,St,$=>{$?J($):ke("success")})})}toSVG(je){return new Promise((St,ke)=>{(0,ht.toString)(this.qrdata,je,(J,$)=>{J?ke(J):St($)})})}renderElement(je){for(const St of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,St);this.renderer.appendChild(this.qrcElement.nativeElement,je)}createQRCode(){var je=this;return(0,Q.Z)(function*(){je.version&&je.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),je.version=40):je.version&&je.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),je.version=1):void 0!==je.version&&isNaN(je.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),je.version=void 0);try{if(!je.isValidQrCodeText(je.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");je.isValidQrCodeText(je.qrdata)&&""===je.qrdata&&(je.qrdata=" ");const St={color:{dark:je.colorDark,light:je.colorLight},errorCorrectionLevel:je.errorCorrectionLevel,margin:je.margin,scale:je.scale,version:je.version,width:je.width},ke=je.imageSrc,J=je.imageHeight||40,$=je.imageWidth||40;switch(je.elementType){case"canvas":{const R=je.renderer.createElement("canvas");je.context=R.getContext("2d"),je.toCanvas(R,St).then(()=>{if(je.ariaLabel&&je.renderer.setAttribute(R,"aria-label",`${je.ariaLabel}`),je.title&&je.renderer.setAttribute(R,"title",`${je.title}`),ke&&je.context){je.centerImage=new Image($,J),ke!==je.centerImage.src&&(je.centerImage.src=ke),J!==je.centerImage.height&&(je.centerImage.height=J),$!==je.centerImage.width&&(je.centerImage.width=$);const w=je.centerImage;w&&(w.onload=()=>{var j;null===(j=je.context)||void 0===j||j.drawImage(w,R.width/2-$/2,R.height/2-J/2,$,J)})}je.renderElement(R),je.emitQRCodeURL(R)}).catch(w=>{console.error("[angularx-qrcode] canvas error:",w)});break}case"svg":{const R=je.renderer.createElement("div");je.toSVG(St).then(w=>{je.renderer.setProperty(R,"innerHTML",w);const j=R.firstChild;je.renderer.setAttribute(j,"height",`${je.width}`),je.renderer.setAttribute(j,"width",`${je.width}`),je.renderElement(j),je.emitQRCodeURL(j)}).catch(w=>{console.error("[angularx-qrcode] svg error:",w)});break}default:{const R=je.renderer.createElement("img");je.toDataURL(St).then(w=>{je.alt&&R.setAttribute("alt",je.alt),je.ariaLabel&&R.setAttribute("aria-label",je.ariaLabel),R.setAttribute("src",w),je.title&&R.setAttribute("title",je.title),je.renderElement(R),je.emitQRCodeURL(R)}).catch(w=>{console.error("[angularx-qrcode] img/url error:",w)})}}}catch(St){console.error("[angularx-qrcode] Error generating QR Code:",St.message)}})()}emitQRCodeURL(je){const St=je.constructor.name;if(St===SVGSVGElement.name){const $=new Blob([je.outerHTML],{type:"image/svg+xml"}),R=URL.createObjectURL($),w=this.sanitizer.bypassSecurityTrustUrl(R);return void this.qrCodeURL.emit(w)}let ke="";St===HTMLCanvasElement.name&&(ke=je.toDataURL("image/png")),St===HTMLImageElement.name&&(ke=je.src),fetch(ke).then(J=>J.blob()).then(J=>URL.createObjectURL(J)).then(J=>this.sanitizer.bypassSecurityTrustUrl(J)).then(J=>{this.qrCodeURL.emit(J)}).catch(J=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+J)})}}return(ee=Ne).\u0275fac=function(je){return new(je||ee)(_.Y36(_.Qsj),_.Y36(a.H7))},ee.\u0275cmp=_.Xpm({type:ee,selectors:[["qrcode"]],viewQuery:function(je,St){if(1&je&&_.Gf(bt,7),2&je){let ke;_.iGM(ke=_.CRH())&&(St.qrcElement=ke.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[_.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(je,St){1&je&&_._UZ(0,"div",null,0),2&je&&_.Tol(St.cssClass)},encapsulation:2,changeDetection:0}),Ne})(),Kt=(()=>{var ee;class Ne{}return(ee=Ne).\u0275fac=function(je){return new(je||ee)},ee.\u0275mod=_.oAB({type:ee}),ee.\u0275inj=_.cJS({}),Ne})();var Dt=I(74);function Tt(ee,Ne){if(1&ee){const st=_.EpF();_.TgZ(0,"ion-button",7),_.NdJ("click",function(){_.CHM(st);const St=_.oxw().$implicit,ke=_.oxw();return _.KtG(ke.generarCodigoQR(St.name,St.seccion))}),_._uU(1,"Generar c\xf3digo QR"),_.qZA()}}function Ct(ee,Ne){if(1&ee&&(_.TgZ(0,"ion-item")(1,"ion-label")(2,"div",5),_._uU(3),_.qZA(),_.TgZ(4,"div",6)(5,"strong"),_._uU(6,"Seccion:"),_.qZA(),_._uU(7),_._UZ(8,"br"),_.qZA(),_.TgZ(9,"div",6)(10,"strong"),_._uU(11,"Sala:"),_.qZA(),_._uU(12),_.qZA()(),_.YNc(13,Tt,2,0,"ion-button",3),_.qZA()),2&ee){const st=Ne.$implicit,je=_.oxw();_.xp6(3),_.Oqu(st.name),_.xp6(4),_.hij("",st.seccion," "),_.xp6(5),_.hij("",st.sala," "),_.xp6(1),_.Q6J("ngIf","profesor"===je.rol)}}function Vt(ee,Ne){if(1&ee&&_._UZ(0,"qrcode",10),2&ee){const st=_.oxw(2);_.Q6J("qrdata",st.codigoQR)}}function Ht(ee,Ne){if(1&ee&&(_.TgZ(0,"ion-card")(1,"ion-card-content")(2,"div",8),_.YNc(3,Vt,1,1,"qrcode",9),_.qZA()()()),2&ee){const st=_.oxw();_.xp6(3),_.Q6J("ngIf",st.codigoQR)}}function on(ee,Ne){if(1&ee){const st=_.EpF();_.TgZ(0,"ion-button",7),_.NdJ("click",function(){_.CHM(st);const St=_.oxw();return _.KtG(St.scanQRCode())}),_._uU(1,"Escanear c\xf3digo QR"),_.qZA()}}function cn(ee,Ne){if(1&ee&&(_.TgZ(0,"ion-item")(1,"ion-label"),_._uU(2),_.qZA()()),2&ee){const st=Ne.$implicit;_.xp6(2),_.Oqu(st.name)}}function wn(ee,Ne){if(1&ee&&(_.TgZ(0,"ion-list")(1,"ion-list-header"),_._uU(2," Lista de Alumnos presentes QR "),_.qZA(),_.YNc(3,cn,3,1,"ion-item",1),_.qZA()),2&ee){const st=_.oxw();_.xp6(3),_.Q6J("ngForOf",st.alumnosPresentes)}}let Jt=(()=>{var ee;class Ne{constructor(je,St,ke,J,$){this.firebaseauthSvc=je,this.utilsSvc=St,this.alertController=ke,this.router=J,this.qrScanner=$,this.cursos=[],this.codigoQR="",this.users=[],this.rol=null,this.loading=!1,this.alumnosPresentes=[]}ngOnInit(){this.firebaseauthSvc.stateUser().subscribe(je=>{if(je){let St=this.convertFirebaseUser(je);this.getUserInf(St.uid),this.getCursos()}else this.cursos=[]})}generarCodigoQR(je,St){var ke=this;return(0,Q.Z)(function*(){if(ke.loading=!0,!je||!St)return console.error("Los par\xe1metros nombreCurso y seccionCurso no pueden estar vac\xedos"),void(ke.loading=!1);setTimeout(()=>{ke.codigoQR=`Curso: ${je}, Secci\xf3n: ${St}, Fecha: ${(new Date).toLocaleDateString()}`,ke.loading=!1},1300)})()}scanQRCode(){this.qrScanner.prepare().then(je=>{if(je.authorized){let St=this.qrScanner.scan().subscribe(ke=>{console.log("Se escane\xf3 algo",ke),this.onQRScan(ke),St.unsubscribe()})}else je.denied?console.log("El permiso de la c\xe1mara fue denegado permanentemente"):console.log("Permiso denegado para esta ejecuci\xf3n")}).catch(je=>console.log("El error es",je))}presentAlertConfirm(je,St,ke){var J=this;return(0,Q.Z)(function*(){yield(yield J.alertController.create({header:"Confirmar",message:`Curso: ${je}, Secci\xf3n: ${St}, Fecha: ${ke}. \xbfDeseas ingresar a la clase?`,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:R=>{console.log("Confirm Cancel: blah")}},{text:"Aceptar",handler:()=>{J.checkUserInFirebase()}}]})).present()})()}onQRScan(je){let St=this.decodeQRData(je);this.presentAlertConfirm(St.nombreCurso,St.seccionCurso,St.fecha);let ke=this.user();this.addAlumnoPresente(ke)}decodeQRData(je){return je.split(", ").reduce((ke,J)=>{let[$,R]=J.split(": ");return ke[$]=R,ke},{})}checkUserInFirebase(){let St=`users/${this.user().uid}`;this.firebaseauthSvc.getDocument(St).then(ke=>{ke?this.router.navigate(["/welcome-curso"],{queryParams:{curso:this.codigoQR}}):(console.error("Primero debes iniciar sesi\xf3n"),this.router.navigate(["/auth"]))})}user(){return this.utilsSvc.getFromlocalStorage("user")}getUserInf(je){this.firebaseauthSvc.getDocument(`users/${je}`).then(ke=>{console.log("datos ->",ke),ke&&(this.rol=ke.profile)})}getCursos(){this.loading=!0,this.firebaseauthSvc.stateUser().subscribe(St=>{St&&this.firebaseauthSvc.getCollectionData("cursos").subscribe(ke=>{this.cursos=ke.filter(J=>this.filterCursos(J,St)),this.loading=!1})})}filterCursos(je,St){return!(je.profesor.uid!=St.uid&&!je.alumnos.some(ke=>ke.uid==St.uid)&&"admin"!=this.rol)}convertFirebaseUser(je){return{uid:je.uid,email:je.email,password:null,name:je.displayName||null,image:je.photoURL||null,profile:null}}addAlumnoPresente(je){this.alumnosPresentes.some(St=>St.uid===je.uid)||this.alumnosPresentes.push(je)}}return(ee=Ne).\u0275fac=function(je){return new(je||ee)(_.Y36(ne.s),_.Y36(Me.F),_.Y36(F.Br),_.Y36(N.F0),_.Y36(qe))},ee.\u0275cmp=_.Xpm({type:ee,selectors:[["app-detallecurso"]],decls:8,vars:5,consts:[["backButton","/main/home","title","Detalle Curso"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"isOpen"],[1,"name"],[1,"data"],[3,"click"],[1,"ion-text-center"],[3,"qrdata",4,"ngIf"],[3,"qrdata"]],template:function(je,St){1&je&&(_._UZ(0,"app-header",0),_.TgZ(1,"ion-content")(2,"ion-list"),_.YNc(3,Ct,14,4,"ion-item",1),_.qZA(),_.YNc(4,Ht,4,1,"ion-card",2),_.YNc(5,on,2,0,"ion-button",3),_.YNc(6,wn,4,1,"ion-list",2),_._UZ(7,"ion-loading",4),_.qZA()),2&je&&(_.xp6(3),_.Q6J("ngForOf",St.cursos),_.xp6(1),_.Q6J("ngIf","profesor"===St.rol),_.xp6(1),_.Q6J("ngIf","alumno"===St.rol),_.xp6(1),_.Q6J("ngIf","profesor"===St.rol),_.xp6(1),_.Q6J("isOpen",St.loading))},dependencies:[ft.sg,ft.O5,Y.YG,Y.PM,Y.FN,Y.W2,Y.Ie,Y.Q$,Y.q_,Y.yh,Y.wh,mt,Dt.G],styles:["ion-list-header[_ngcontent-%COMP%]{font-size:20px;margin-top:5px;font-weight:700}ion-button[_ngcontent-%COMP%]{--background: #3880ff;--color: white}ion-card[_ngcontent-%COMP%]{border:1px solid #f0f0f0;box-shadow:0 2px 4px #0000001a}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{background-color:#f8f8f8}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#333;font-size:16px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0}.name[_ngcontent-%COMP%]{font-weight:600;padding-bottom:5px}.data[_ngcontent-%COMP%]{font-size:13px}.data[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}"]}),Ne})();var Dn=I(6602);let On=(()=>{var ee;class Ne{constructor(){}ngOnInit(){}}return(ee=Ne).\u0275fac=function(je){return new(je||ee)},ee.\u0275cmp=_.Xpm({type:ee,selectors:[["app-welcomecurso"]],decls:5,vars:0,consts:[["backButton","/main/home","title","Bienvenida al Curso"],[1,"welcome-container"],["name","happy",1,"welcome-icon"],[1,"welcome-text"]],template:function(je,St){1&je&&(_._UZ(0,"app-header",0),_.TgZ(1,"div",1),_._UZ(2,"ion-icon",2),_.TgZ(3,"h1",3),_._uU(4,"\xa1BIENVENIDO A LA CLASE!"),_.qZA()())},dependencies:[Y.gu,Dt.G],styles:[".welcome-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;background-color:#add8e6}.welcome-icon[_ngcontent-%COMP%]{font-size:100px;color:#ff4500}.welcome-text[_ngcontent-%COMP%]{font-size:50px;color:#ff4500;text-shadow:2px 2px #FFD700}"]}),Ne})(),fr=(()=>{var ee;class Ne{constructor(){this.firebaseauthSvc=(0,_.f3M)(ne.s),this.utilsSvc=(0,_.f3M)(Me.F)}canActivate(je,St){return new Promise(ke=>{this.firebaseauthSvc.getAuth().onAuthStateChanged(J=>{J?(this.utilsSvc.routerlink("/main/home"),ke(!1)):ke(!0)})})}}return(ee=Ne).\u0275fac=function(je){return new(je||ee)},ee.\u0275prov=_.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),Ne})(),hn=(()=>{var ee;class Ne{constructor(){this.firebaseauthSvc=(0,_.f3M)(ne.s),this.utilsSvc=(0,_.f3M)(Me.F)}canActivate(je,St){let ke=localStorage.getItem("user");return new Promise(J=>{this.firebaseauthSvc.getAuth().onAuthStateChanged($=>{$?ke&&J(!0):(this.firebaseauthSvc.signOut(),J(!1))})})}}return(ee=Ne).\u0275fac=function(je){return new(je||ee)},ee.\u0275prov=_.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),Ne})();var xn=I(2096);let Sn=(()=>{var ee;class Ne{constructor(){this.firebaseauthSvc=(0,_.f3M)(ne.s),this.utilsSvc=(0,_.f3M)(Me.F)}canActivate(je,St){const J=this.firebaseauthSvc.getAuth().currentUser;return(0,xn.of)(!(!J||"t2Zf94C5jgWFoWzCvyTuGoLYg9S2"!==J.uid))}}return(ee=Ne).\u0275fac=function(je){return new(je||ee)},ee.\u0275prov=_.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),Ne})(),Qn=(()=>{var ee;class Ne{constructor(){}ngOnInit(){}}return(ee=Ne).\u0275fac=function(je){return new(je||ee)},ee.\u0275cmp=_.Xpm({type:ee,selectors:[["app-page-not-found"]],decls:3,vars:0,consts:[[1,"not-found-container"],[1,"not-found-text"]],template:function(je,St){1&je&&(_.TgZ(0,"div",0)(1,"h1",1),_._uU(2,"404 PAGE-NOT-FOUND"),_.qZA()())},styles:[".not-found-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f5f5}.not-found-text[_ngcontent-%COMP%]{font-size:5em;color:red;text-shadow:2px 2px #000000;text-align:center}"]}),Ne})();const _r=[{path:"set-cursos",component:Dn.j,canActivate:[Sn]},{path:"detalle-curso",component:Jt,canActivate:[hn]},{path:"welcome-curso",component:On,canActivate:[hn]},{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([I.e(8592),I.e(5607)]).then(I.bind(I,5607)).then(ee=>ee.AuthPageModule),canActivate:[fr]},{path:"sign-up",loadChildren:()=>I.e(8592).then(I.bind(I,3053)).then(ee=>ee.SignUpPageModule),canActivate:[Sn]},{path:"main",loadChildren:()=>I.e(9476).then(I.bind(I,9476)).then(ee=>ee.MainPageModule),canActivate:[hn]},{path:"404",component:Qn},{path:"**",redirectTo:"/404"}];let en=(()=>{var ee;class Ne{}return(ee=Ne).\u0275fac=function(je){return new(je||ee)},ee.\u0275mod=_.oAB({type:ee}),ee.\u0275inj=_.cJS({imports:[N.Bz.forRoot(_r,{preloadingStrategy:N.wm}),N.Bz]}),Ne})();var Ln=I(95),xr=I(8554);let sn=(()=>{var ee;class Ne{}return(ee=Ne).\u0275fac=function(je){return new(je||ee)},ee.\u0275mod=_.oAB({type:ee}),ee.\u0275inj=_.cJS({imports:[ft.ez,Y.Pc,Kt,Ln.u5,xr.m]}),Ne})();var cr=I(7217);const an_firebaseConfig={apiKey:"AIzaSyB1wWeQ71kyZYzzCqSgRNYHkIZ0qW0wzbI",authDomain:"classapp-pro.firebaseapp.com",projectId:"classapp-pro",storageBucket:"classapp-pro.appspot.com",messagingSenderId:"226003108152",appId:"1:226003108152:web:695ac373aeb1abd4da41cd",measurementId:"G-J9F77BW835"};var Wn=I(7104),kr=I(778),br=I(7213);let Gn=(()=>{var ee;class Ne{}return(ee=Ne).\u0275fac=function(je){return new(je||ee)},ee.\u0275mod=_.oAB({type:ee,bootstrap:[Z]}),ee.\u0275inj=_.cJS({providers:[{provide:N.wN,useClass:F.r4},qe],imports:[a.b2,Y.Pc.forRoot({mode:"md"}),sn,en,cr.hO.initializeApp(an_firebaseConfig),Wn.yb,kr.TE,br.ww]}),Ne})();var Pn=I(3404);(0,_.G48)(),a.q6().bootstrapModule(Gn).catch(ee=>console.log(ee)),window,typeof window>"u"?Promise.resolve():(0,Pn.p)().then(()=>(0,Pn.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},7206:Lt=>{"use strict";var Ce={single_source_shortest_paths:function(I,a,_){var N={},F={};F[a]=0;var Z,Q,ne,Me,K,ge,Y=Ce.PriorityQueue.make();for(Y.push(a,0);!Y.empty();)for(ne in Me=(Z=Y.pop()).cost,K=I[Q=Z.value]||{})K.hasOwnProperty(ne)&&(ge=Me+K[ne],(typeof F[ne]>"u"||F[ne]>ge)&&(F[ne]=ge,Y.push(ne,ge),N[ne]=Q));if(typeof _<"u"&&typeof F[_]>"u"){var $e=["Could not find a path from ",a," to ",_,"."].join("");throw new Error($e)}return N},extract_shortest_path_from_predecessor_list:function(I,a){for(var _=[],N=a;N;)_.push(N),N=I[N];return _.reverse(),_},find_path:function(I,a,_){var N=Ce.single_source_shortest_paths(I,a,_);return Ce.extract_shortest_path_from_predecessor_list(N,_)},PriorityQueue:{make:function(I){var N,a=Ce.PriorityQueue,_={};for(N in I=I||{},a)a.hasOwnProperty(N)&&(_[N]=a[N]);return _.queue=[],_.sorter=I.sorter||a.default_sorter,_},default_sorter:function(I,a){return I.cost-a.cost},push:function(I,a){this.queue.push({value:I,cost:a}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Lt.exports=Ce},6119:Lt=>{"use strict";Lt.exports=function(I){for(var a=[],_=I.length,N=0;N<_;N++){var F=I.charCodeAt(N);if(F>=55296&&F<=56319&&_>N+1){var Y=I.charCodeAt(N+1);Y>=56320&&Y<=57343&&(F=1024*(F-55296)+Y-56320+65536,N+=1)}F<128?a.push(F):F<2048?(a.push(F>>6|192),a.push(63&F|128)):F<55296||F>=57344&&F<65536?(a.push(F>>12|224),a.push(F>>6&63|128),a.push(63&F|128)):F>=65536&&F<=1114111?(a.push(F>>18|240),a.push(F>>12&63|128),a.push(F>>6&63|128),a.push(63&F|128)):a.push(239,191,189)}return new Uint8Array(a).buffer}},2839:(Lt,Ce,I)=>{const _=I(8310),N=I(6208),F=I(6422),Y=I(7772);function Z(Q,ne,Me,K,le){const ge=[].slice.call(arguments,1),we=ge.length,Be="function"==typeof ge[we-1];if(!Be&&!_())throw new Error("Callback required as last argument");if(!Be){if(we<1)throw new Error("Too few arguments provided");return 1===we?(Me=ne,ne=K=void 0):2===we&&!ne.getContext&&(K=Me,Me=ne,ne=void 0),new Promise(function($e,nt){try{const We=N.create(Me,K);$e(Q(We,ne,K))}catch(We){nt(We)}})}if(we<2)throw new Error("Too few arguments provided");2===we?(le=Me,Me=ne,ne=K=void 0):3===we&&(ne.getContext&&typeof le>"u"?(le=K,K=void 0):(le=K,K=Me,Me=ne,ne=void 0));try{const $e=N.create(Me,K);le(null,Q($e,ne,K))}catch($e){le($e)}}Ce.rT=Z.bind(null,F.render),Ce.hz=Z.bind(null,F.renderToDataURL),Ce.toString=Z.bind(null,function(Q,ne,Me){return Y.render(Q,Me)})},8310:Lt=>{Lt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},5281:(Lt,Ce,I)=>{const a=I(2562).getSymbolSize;Ce.getRowColCoords=function(N){if(1===N)return[];const F=Math.floor(N/7)+2,Y=a(N),Z=145===Y?26:2*Math.ceil((Y-13)/(2*F-2)),Q=[Y-7];for(let ne=1;ne<F-1;ne++)Q[ne]=Q[ne-1]-Z;return Q.push(6),Q.reverse()},Ce.getPositions=function(N){const F=[],Y=Ce.getRowColCoords(N),Z=Y.length;for(let Q=0;Q<Z;Q++)for(let ne=0;ne<Z;ne++)0===Q&&0===ne||0===Q&&ne===Z-1||Q===Z-1&&0===ne||F.push([Y[Q],Y[ne]]);return F}},120:(Lt,Ce,I)=>{const a=I(1239),_=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function N(F){this.mode=a.ALPHANUMERIC,this.data=F}N.getBitsLength=function(Y){return 11*Math.floor(Y/2)+Y%2*6},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(Y){let Z;for(Z=0;Z+2<=this.data.length;Z+=2){let Q=45*_.indexOf(this.data[Z]);Q+=_.indexOf(this.data[Z+1]),Y.put(Q,11)}this.data.length%2&&Y.put(_.indexOf(this.data[Z]),6)},Lt.exports=N},6509:Lt=>{function Ce(){this.buffer=[],this.length=0}Ce.prototype={get:function(I){const a=Math.floor(I/8);return 1==(this.buffer[a]>>>7-I%8&1)},put:function(I,a){for(let _=0;_<a;_++)this.putBit(1==(I>>>a-_-1&1))},getLengthInBits:function(){return this.length},putBit:function(I){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),I&&(this.buffer[a]|=128>>>this.length%8),this.length++}},Lt.exports=Ce},5147:Lt=>{function Ce(I){if(!I||I<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=I,this.data=new Uint8Array(I*I),this.reservedBit=new Uint8Array(I*I)}Ce.prototype.set=function(I,a,_,N){const F=I*this.size+a;this.data[F]=_,N&&(this.reservedBit[F]=!0)},Ce.prototype.get=function(I,a){return this.data[I*this.size+a]},Ce.prototype.xor=function(I,a,_){this.data[I*this.size+a]^=_},Ce.prototype.isReserved=function(I,a){return this.reservedBit[I*this.size+a]},Lt.exports=Ce},277:(Lt,Ce,I)=>{const a=I(6119),_=I(1239);function N(F){this.mode=_.BYTE,"string"==typeof F&&(F=a(F)),this.data=new Uint8Array(F)}N.getBitsLength=function(Y){return 8*Y},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(F){for(let Y=0,Z=this.data.length;Y<Z;Y++)F.put(this.data[Y],8)},Lt.exports=N},7191:(Lt,Ce,I)=>{const a=I(4505),_=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],N=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ce.getBlocksCount=function(Y,Z){switch(Z){case a.L:return _[4*(Y-1)+0];case a.M:return _[4*(Y-1)+1];case a.Q:return _[4*(Y-1)+2];case a.H:return _[4*(Y-1)+3];default:return}},Ce.getTotalCodewordsCount=function(Y,Z){switch(Z){case a.L:return N[4*(Y-1)+0];case a.M:return N[4*(Y-1)+1];case a.Q:return N[4*(Y-1)+2];case a.H:return N[4*(Y-1)+3];default:return}}},4505:(Lt,Ce)=>{Ce.L={bit:1},Ce.M={bit:0},Ce.Q={bit:3},Ce.H={bit:2},Ce.isValid=function(_){return _&&typeof _.bit<"u"&&_.bit>=0&&_.bit<4},Ce.from=function(_,N){if(Ce.isValid(_))return _;try{return function I(a){if("string"!=typeof a)throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return Ce.L;case"m":case"medium":return Ce.M;case"q":case"quartile":return Ce.Q;case"h":case"high":return Ce.H;default:throw new Error("Unknown EC Level: "+a)}}(_)}catch{return N}}},5232:(Lt,Ce,I)=>{const a=I(2562).getSymbolSize;Ce.getPositions=function(F){const Y=a(F);return[[0,0],[Y-7,0],[0,Y-7]]}},8508:(Lt,Ce,I)=>{const a=I(2562),F=a.getBCHDigit(1335);Ce.getEncodedBits=function(Z,Q){const ne=Z.bit<<3|Q;let Me=ne<<10;for(;a.getBCHDigit(Me)-F>=0;)Me^=1335<<a.getBCHDigit(Me)-F;return 21522^(ne<<10|Me)}},1674:(Lt,Ce)=>{const I=new Uint8Array(512),a=new Uint8Array(256);(function(){let N=1;for(let F=0;F<255;F++)I[F]=N,a[N]=F,N<<=1,256&N&&(N^=285);for(let F=255;F<512;F++)I[F]=I[F-255]})(),Ce.log=function(N){if(N<1)throw new Error("log("+N+")");return a[N]},Ce.exp=function(N){return I[N]},Ce.mul=function(N,F){return 0===N||0===F?0:I[a[N]+a[F]]}},9995:(Lt,Ce,I)=>{const a=I(1239),_=I(2562);function N(F){this.mode=a.KANJI,this.data=F}N.getBitsLength=function(Y){return 13*Y},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(F){let Y;for(Y=0;Y<this.data.length;Y++){let Z=_.toSJIS(this.data[Y]);if(Z>=33088&&Z<=40956)Z-=33088;else{if(!(Z>=57408&&Z<=60351))throw new Error("Invalid SJIS character: "+this.data[Y]+"\nMake sure your charset is UTF-8");Z-=49472}Z=192*(Z>>>8&255)+(255&Z),F.put(Z,13)}},Lt.exports=N},9023:(Lt,Ce)=>{Ce.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function a(_,N,F){switch(_){case Ce.Patterns.PATTERN000:return(N+F)%2==0;case Ce.Patterns.PATTERN001:return N%2==0;case Ce.Patterns.PATTERN010:return F%3==0;case Ce.Patterns.PATTERN011:return(N+F)%3==0;case Ce.Patterns.PATTERN100:return(Math.floor(N/2)+Math.floor(F/3))%2==0;case Ce.Patterns.PATTERN101:return N*F%2+N*F%3==0;case Ce.Patterns.PATTERN110:return(N*F%2+N*F%3)%2==0;case Ce.Patterns.PATTERN111:return(N*F%3+(N+F)%2)%2==0;default:throw new Error("bad maskPattern:"+_)}}Ce.isValid=function(N){return null!=N&&""!==N&&!isNaN(N)&&N>=0&&N<=7},Ce.from=function(N){return Ce.isValid(N)?parseInt(N,10):void 0},Ce.getPenaltyN1=function(N){const F=N.size;let Y=0,Z=0,Q=0,ne=null,Me=null;for(let K=0;K<F;K++){Z=Q=0,ne=Me=null;for(let le=0;le<F;le++){let ge=N.get(K,le);ge===ne?Z++:(Z>=5&&(Y+=Z-5+3),ne=ge,Z=1),ge=N.get(le,K),ge===Me?Q++:(Q>=5&&(Y+=Q-5+3),Me=ge,Q=1)}Z>=5&&(Y+=Z-5+3),Q>=5&&(Y+=Q-5+3)}return Y},Ce.getPenaltyN2=function(N){const F=N.size;let Y=0;for(let Z=0;Z<F-1;Z++)for(let Q=0;Q<F-1;Q++){const ne=N.get(Z,Q)+N.get(Z,Q+1)+N.get(Z+1,Q)+N.get(Z+1,Q+1);(4===ne||0===ne)&&Y++}return 3*Y},Ce.getPenaltyN3=function(N){const F=N.size;let Y=0,Z=0,Q=0;for(let ne=0;ne<F;ne++){Z=Q=0;for(let Me=0;Me<F;Me++)Z=Z<<1&2047|N.get(ne,Me),Me>=10&&(1488===Z||93===Z)&&Y++,Q=Q<<1&2047|N.get(Me,ne),Me>=10&&(1488===Q||93===Q)&&Y++}return 40*Y},Ce.getPenaltyN4=function(N){let F=0;const Y=N.data.length;for(let Q=0;Q<Y;Q++)F+=N.data[Q];return 10*Math.abs(Math.ceil(100*F/Y/5)-10)},Ce.applyMask=function(N,F){const Y=F.size;for(let Z=0;Z<Y;Z++)for(let Q=0;Q<Y;Q++)F.isReserved(Q,Z)||F.xor(Q,Z,a(N,Q,Z))},Ce.getBestMask=function(N,F){const Y=Object.keys(Ce.Patterns).length;let Z=0,Q=1/0;for(let ne=0;ne<Y;ne++){F(ne),Ce.applyMask(ne,N);const Me=Ce.getPenaltyN1(N)+Ce.getPenaltyN2(N)+Ce.getPenaltyN3(N)+Ce.getPenaltyN4(N);Ce.applyMask(ne,N),Me<Q&&(Q=Me,Z=ne)}return Z}},1239:(Lt,Ce,I)=>{const a=I(6161),_=I(2427);Ce.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},Ce.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},Ce.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},Ce.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},Ce.MIXED={bit:-1},Ce.getCharCountIndicator=function(Y,Z){if(!Y.ccBits)throw new Error("Invalid mode: "+Y);if(!a.isValid(Z))throw new Error("Invalid version: "+Z);return Z>=1&&Z<10?Y.ccBits[0]:Z<27?Y.ccBits[1]:Y.ccBits[2]},Ce.getBestModeForData=function(Y){return _.testNumeric(Y)?Ce.NUMERIC:_.testAlphanumeric(Y)?Ce.ALPHANUMERIC:_.testKanji(Y)?Ce.KANJI:Ce.BYTE},Ce.toString=function(Y){if(Y&&Y.id)return Y.id;throw new Error("Invalid mode")},Ce.isValid=function(Y){return Y&&Y.bit&&Y.ccBits},Ce.from=function(Y,Z){if(Ce.isValid(Y))return Y;try{return function N(F){if("string"!=typeof F)throw new Error("Param is not a string");switch(F.toLowerCase()){case"numeric":return Ce.NUMERIC;case"alphanumeric":return Ce.ALPHANUMERIC;case"kanji":return Ce.KANJI;case"byte":return Ce.BYTE;default:throw new Error("Unknown mode: "+F)}}(Y)}catch{return Z}}},8722:(Lt,Ce,I)=>{const a=I(1239);function _(N){this.mode=a.NUMERIC,this.data=N.toString()}_.getBitsLength=function(F){return 10*Math.floor(F/3)+(F%3?F%3*3+1:0)},_.prototype.getLength=function(){return this.data.length},_.prototype.getBitsLength=function(){return _.getBitsLength(this.data.length)},_.prototype.write=function(F){let Y,Z,Q;for(Y=0;Y+3<=this.data.length;Y+=3)Z=this.data.substr(Y,3),Q=parseInt(Z,10),F.put(Q,10);const ne=this.data.length-Y;ne>0&&(Z=this.data.substr(Y),Q=parseInt(Z,10),F.put(Q,3*ne+1))},Lt.exports=_},2376:(Lt,Ce,I)=>{const a=I(1674);Ce.mul=function(N,F){const Y=new Uint8Array(N.length+F.length-1);for(let Z=0;Z<N.length;Z++)for(let Q=0;Q<F.length;Q++)Y[Z+Q]^=a.mul(N[Z],F[Q]);return Y},Ce.mod=function(N,F){let Y=new Uint8Array(N);for(;Y.length-F.length>=0;){const Z=Y[0];for(let ne=0;ne<F.length;ne++)Y[ne]^=a.mul(F[ne],Z);let Q=0;for(;Q<Y.length&&0===Y[Q];)Q++;Y=Y.slice(Q)}return Y},Ce.generateECPolynomial=function(N){let F=new Uint8Array([1]);for(let Y=0;Y<N;Y++)F=Ce.mul(F,new Uint8Array([1,a.exp(Y)]));return F}},6208:(Lt,Ce,I)=>{const a=I(2562),_=I(4505),N=I(6509),F=I(5147),Y=I(5281),Z=I(5232),Q=I(9023),ne=I(7191),Me=I(1297),K=I(9467),le=I(8508),ge=I(1239),we=I(1799);function He(be,_e,te){const W=be.size,Le=le.getEncodedBits(_e,te);let De,Ae;for(De=0;De<15;De++)Ae=1==(Le>>De&1),be.set(De<6?De:De<8?De+1:W-15+De,8,Ae,!0),be.set(8,De<8?W-De-1:De<9?15-De-1+1:15-De-1,Ae,!0);be.set(W-8,8,1,!0)}function Ge(be,_e,te,W){let Le;if(Array.isArray(be))Le=we.fromArray(be);else{if("string"!=typeof be)throw new Error("Invalid data");{let _t=_e;if(!_t){const Rt=we.rawSplit(be);_t=K.getBestVersionForData(Rt,te)}Le=we.fromString(be,_t||40)}}const De=K.getBestVersionForData(Le,te);if(!De)throw new Error("The amount of data is too big to be stored in a QR Code");if(_e){if(_e<De)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+De+".\n")}else _e=De;const Ae=function ot(be,_e,te){const W=new N;te.forEach(function(Ve){W.put(Ve.mode.bit,4),W.put(Ve.getLength(),ge.getCharCountIndicator(Ve.mode,be)),Ve.write(W)});const Ae=8*(a.getSymbolTotalCodewords(be)-ne.getTotalCodewordsCount(be,_e));for(W.getLengthInBits()+4<=Ae&&W.put(0,4);W.getLengthInBits()%8!=0;)W.putBit(0);const Te=(Ae-W.getLengthInBits())/8;for(let Ve=0;Ve<Te;Ve++)W.put(Ve%2?17:236,8);return function ue(be,_e,te){const W=a.getSymbolTotalCodewords(_e),De=W-ne.getTotalCodewordsCount(_e,te),Ae=ne.getBlocksCount(_e,te),Ve=Ae-W%Ae,_t=Math.floor(W/Ae),Rt=Math.floor(De/Ae),At=Rt+1,rt=_t-Rt,fe=new Me(rt);let he=0;const Ue=new Array(Ae),Se=new Array(Ae);let Ke=0;const qe=new Uint8Array(be.buffer);for(let Kt=0;Kt<Ae;Kt++){const Dt=Kt<Ve?Rt:At;Ue[Kt]=qe.slice(he,he+Dt),Se[Kt]=fe.encode(Ue[Kt]),he+=Dt,Ke=Math.max(Ke,Dt)}const ft=new Uint8Array(W);let bt,mt,ht=0;for(bt=0;bt<Ke;bt++)for(mt=0;mt<Ae;mt++)bt<Ue[mt].length&&(ft[ht++]=Ue[mt][bt]);for(bt=0;bt<rt;bt++)for(mt=0;mt<Ae;mt++)ft[ht++]=Se[mt][bt];return ft}(W,be,_e)}(_e,te,Le),Te=a.getSymbolSize(_e),Ve=new F(Te);return function Be(be,_e){const te=be.size,W=Z.getPositions(_e);for(let Le=0;Le<W.length;Le++){const De=W[Le][0],Ae=W[Le][1];for(let Te=-1;Te<=7;Te++)if(!(De+Te<=-1||te<=De+Te))for(let Ve=-1;Ve<=7;Ve++)Ae+Ve<=-1||te<=Ae+Ve||be.set(De+Te,Ae+Ve,Te>=0&&Te<=6&&(0===Ve||6===Ve)||Ve>=0&&Ve<=6&&(0===Te||6===Te)||Te>=2&&Te<=4&&Ve>=2&&Ve<=4,!0)}}(Ve,_e),function $e(be){const _e=be.size;for(let te=8;te<_e-8;te++){const W=te%2==0;be.set(te,6,W,!0),be.set(6,te,W,!0)}}(Ve),function nt(be,_e){const te=Y.getPositions(_e);for(let W=0;W<te.length;W++){const Le=te[W][0],De=te[W][1];for(let Ae=-2;Ae<=2;Ae++)for(let Te=-2;Te<=2;Te++)be.set(Le+Ae,De+Te,-2===Ae||2===Ae||-2===Te||2===Te||0===Ae&&0===Te,!0)}}(Ve,_e),He(Ve,te,0),_e>=7&&function We(be,_e){const te=be.size,W=K.getEncodedBits(_e);let Le,De,Ae;for(let Te=0;Te<18;Te++)Le=Math.floor(Te/3),De=Te%3+te-8-3,Ae=1==(W>>Te&1),be.set(Le,De,Ae,!0),be.set(De,Le,Ae,!0)}(Ve,_e),function Ze(be,_e){const te=be.size;let W=-1,Le=te-1,De=7,Ae=0;for(let Te=te-1;Te>0;Te-=2)for(6===Te&&Te--;;){for(let Ve=0;Ve<2;Ve++)if(!be.isReserved(Le,Te-Ve)){let _t=!1;Ae<_e.length&&(_t=1==(_e[Ae]>>>De&1)),be.set(Le,Te-Ve,_t),De--,-1===De&&(Ae++,De=7)}if(Le+=W,Le<0||te<=Le){Le-=W,W=-W;break}}}(Ve,Ae),isNaN(W)&&(W=Q.getBestMask(Ve,He.bind(null,Ve,te))),Q.applyMask(W,Ve),He(Ve,te,W),{modules:Ve,version:_e,errorCorrectionLevel:te,maskPattern:W,segments:Le}}Ce.create=function(_e,te){if(typeof _e>"u"||""===_e)throw new Error("No input text");let Le,De,W=_.M;return typeof te<"u"&&(W=_.from(te.errorCorrectionLevel,_.M),Le=K.from(te.version),De=Q.from(te.maskPattern),te.toSJISFunc&&a.setToSJISFunction(te.toSJISFunc)),Ge(_e,Le,W,De)}},1297:(Lt,Ce,I)=>{const a=I(2376);function _(N){this.genPoly=void 0,this.degree=N,this.degree&&this.initialize(this.degree)}_.prototype.initialize=function(F){this.degree=F,this.genPoly=a.generateECPolynomial(this.degree)},_.prototype.encode=function(F){if(!this.genPoly)throw new Error("Encoder not initialized");const Y=new Uint8Array(F.length+this.degree);Y.set(F);const Z=a.mod(Y,this.genPoly),Q=this.degree-Z.length;if(Q>0){const ne=new Uint8Array(this.degree);return ne.set(Z,Q),ne}return Z},Lt.exports=_},2427:(Lt,Ce)=>{const I="[0-9]+";let _="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";_=_.replace(/u/g,"\\u");const N="(?:(?![A-Z0-9 $%*+\\-./:]|"+_+")(?:.|[\r\n]))+";Ce.KANJI=new RegExp(_,"g"),Ce.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ce.BYTE=new RegExp(N,"g"),Ce.NUMERIC=new RegExp(I,"g"),Ce.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const F=new RegExp("^"+_+"$"),Y=new RegExp("^"+I+"$"),Z=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ce.testKanji=function(ne){return F.test(ne)},Ce.testNumeric=function(ne){return Y.test(ne)},Ce.testAlphanumeric=function(ne){return Z.test(ne)}},1799:(Lt,Ce,I)=>{const a=I(1239),_=I(8722),N=I(120),F=I(277),Y=I(9995),Z=I(2427),Q=I(2562),ne=I(7206);function Me(We){return unescape(encodeURIComponent(We)).length}function K(We,He,Ze){const ot=[];let ue;for(;null!==(ue=We.exec(Ze));)ot.push({data:ue[0],index:ue.index,mode:He,length:ue[0].length});return ot}function le(We){const He=K(Z.NUMERIC,a.NUMERIC,We),Ze=K(Z.ALPHANUMERIC,a.ALPHANUMERIC,We);let ot,ue;return Q.isKanjiModeEnabled()?(ot=K(Z.BYTE,a.BYTE,We),ue=K(Z.KANJI,a.KANJI,We)):(ot=K(Z.BYTE_KANJI,a.BYTE,We),ue=[]),He.concat(Ze,ot,ue).sort(function(be,_e){return be.index-_e.index}).map(function(be){return{data:be.data,mode:be.mode,length:be.length}})}function ge(We,He){switch(He){case a.NUMERIC:return _.getBitsLength(We);case a.ALPHANUMERIC:return N.getBitsLength(We);case a.KANJI:return Y.getBitsLength(We);case a.BYTE:return F.getBitsLength(We)}}function nt(We,He){let Ze;const ot=a.getBestModeForData(We);if(Ze=a.from(He,ot),Ze!==a.BYTE&&Ze.bit<ot.bit)throw new Error('"'+We+'" cannot be encoded with mode '+a.toString(Ze)+".\n Suggested mode is: "+a.toString(ot));switch(Ze===a.KANJI&&!Q.isKanjiModeEnabled()&&(Ze=a.BYTE),Ze){case a.NUMERIC:return new _(We);case a.ALPHANUMERIC:return new N(We);case a.KANJI:return new Y(We);case a.BYTE:return new F(We)}}Ce.fromArray=function(He){return He.reduce(function(Ze,ot){return"string"==typeof ot?Ze.push(nt(ot,null)):ot.data&&Ze.push(nt(ot.data,ot.mode)),Ze},[])},Ce.fromString=function(He,Ze){const ue=function Be(We){const He=[];for(let Ze=0;Ze<We.length;Ze++){const ot=We[Ze];switch(ot.mode){case a.NUMERIC:He.push([ot,{data:ot.data,mode:a.ALPHANUMERIC,length:ot.length},{data:ot.data,mode:a.BYTE,length:ot.length}]);break;case a.ALPHANUMERIC:He.push([ot,{data:ot.data,mode:a.BYTE,length:ot.length}]);break;case a.KANJI:He.push([ot,{data:ot.data,mode:a.BYTE,length:Me(ot.data)}]);break;case a.BYTE:He.push([{data:ot.data,mode:a.BYTE,length:Me(ot.data)}])}}return He}(le(He,Q.isKanjiModeEnabled())),Ge=function $e(We,He){const Ze={},ot={start:{}};let ue=["start"];for(let Ge=0;Ge<We.length;Ge++){const be=We[Ge],_e=[];for(let te=0;te<be.length;te++){const W=be[te],Le=""+Ge+te;_e.push(Le),Ze[Le]={node:W,lastCount:0},ot[Le]={};for(let De=0;De<ue.length;De++){const Ae=ue[De];Ze[Ae]&&Ze[Ae].node.mode===W.mode?(ot[Ae][Le]=ge(Ze[Ae].lastCount+W.length,W.mode)-ge(Ze[Ae].lastCount,W.mode),Ze[Ae].lastCount+=W.length):(Ze[Ae]&&(Ze[Ae].lastCount=W.length),ot[Ae][Le]=ge(W.length,W.mode)+4+a.getCharCountIndicator(W.mode,He))}}ue=_e}for(let Ge=0;Ge<ue.length;Ge++)ot[ue[Ge]].end=0;return{map:ot,table:Ze}}(ue,Ze),be=ne.find_path(Ge.map,"start","end"),_e=[];for(let te=1;te<be.length-1;te++)_e.push(Ge.table[be[te]].node);return Ce.fromArray(function we(We){return We.reduce(function(He,Ze){const ot=He.length-1>=0?He[He.length-1]:null;return ot&&ot.mode===Ze.mode?(He[He.length-1].data+=Ze.data,He):(He.push(Ze),He)},[])}(_e))},Ce.rawSplit=function(He){return Ce.fromArray(le(He,Q.isKanjiModeEnabled()))}},2562:(Lt,Ce)=>{let I;const a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ce.getSymbolSize=function(N){if(!N)throw new Error('"version" cannot be null or undefined');if(N<1||N>40)throw new Error('"version" should be in range from 1 to 40');return 4*N+17},Ce.getSymbolTotalCodewords=function(N){return a[N]},Ce.getBCHDigit=function(_){let N=0;for(;0!==_;)N++,_>>>=1;return N},Ce.setToSJISFunction=function(N){if("function"!=typeof N)throw new Error('"toSJISFunc" is not a valid function.');I=N},Ce.isKanjiModeEnabled=function(){return typeof I<"u"},Ce.toSJIS=function(N){return I(N)}},6161:(Lt,Ce)=>{Ce.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40}},9467:(Lt,Ce,I)=>{const a=I(2562),_=I(7191),N=I(4505),F=I(1239),Y=I(6161),Q=a.getBCHDigit(7973);function Me(ge,we){return F.getCharCountIndicator(ge,we)+4}function K(ge,we){let Be=0;return ge.forEach(function($e){const nt=Me($e.mode,we);Be+=nt+$e.getBitsLength()}),Be}Ce.from=function(we,Be){return Y.isValid(we)?parseInt(we,10):Be},Ce.getCapacity=function(we,Be,$e){if(!Y.isValid(we))throw new Error("Invalid QR Code version");typeof $e>"u"&&($e=F.BYTE);const He=8*(a.getSymbolTotalCodewords(we)-_.getTotalCodewordsCount(we,Be));if($e===F.MIXED)return He;const Ze=He-Me($e,we);switch($e){case F.NUMERIC:return Math.floor(Ze/10*3);case F.ALPHANUMERIC:return Math.floor(Ze/11*2);case F.KANJI:return Math.floor(Ze/13);default:return Math.floor(Ze/8)}},Ce.getBestVersionForData=function(we,Be){let $e;const nt=N.from(Be,N.M);if(Array.isArray(we)){if(we.length>1)return function le(ge,we){for(let Be=1;Be<=40;Be++)if(K(ge,Be)<=Ce.getCapacity(Be,we,F.MIXED))return Be}(we,nt);if(0===we.length)return 1;$e=we[0]}else $e=we;return function ne(ge,we,Be){for(let $e=1;$e<=40;$e++)if(we<=Ce.getCapacity($e,Be,ge))return $e}($e.mode,$e.getLength(),nt)},Ce.getEncodedBits=function(we){if(!Y.isValid(we)||we<7)throw new Error("Invalid QR Code version");let Be=we<<12;for(;a.getBCHDigit(Be)-Q>=0;)Be^=7973<<a.getBCHDigit(Be)-Q;return we<<12|Be}},6422:(Lt,Ce,I)=>{const a=I(1101);Ce.render=function(Y,Z,Q){let ne=Q,Me=Z;typeof ne>"u"&&(!Z||!Z.getContext)&&(ne=Z,Z=void 0),Z||(Me=function N(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),ne=a.getOptions(ne);const K=a.getImageWidth(Y.modules.size,ne),le=Me.getContext("2d"),ge=le.createImageData(K,K);return a.qrToImageData(ge.data,Y,ne),function _(F,Y,Z){F.clearRect(0,0,Y.width,Y.height),Y.style||(Y.style={}),Y.height=Z,Y.width=Z,Y.style.height=Z+"px",Y.style.width=Z+"px"}(le,Me,K),le.putImageData(ge,0,0),Me},Ce.renderToDataURL=function(Y,Z,Q){let ne=Q;return typeof ne>"u"&&(!Z||!Z.getContext)&&(ne=Z,Z=void 0),ne||(ne={}),Ce.render(Y,Z,ne).toDataURL(ne.type||"image/png",(ne.rendererOpts||{}).quality)}},7772:(Lt,Ce,I)=>{const a=I(1101);function _(Y,Z){const Q=Y.a/255,ne=Z+'="'+Y.hex+'"';return Q<1?ne+" "+Z+'-opacity="'+Q.toFixed(2).slice(1)+'"':ne}function N(Y,Z,Q){let ne=Y+Z;return typeof Q<"u"&&(ne+=" "+Q),ne}Ce.render=function(Z,Q,ne){const Me=a.getOptions(Q),K=Z.modules.size,le=Z.modules.data,ge=K+2*Me.margin,we=Me.color.light.a?"<path "+_(Me.color.light,"fill")+' d="M0 0h'+ge+"v"+ge+'H0z"/>':"",Be="<path "+_(Me.color.dark,"stroke")+' d="'+function F(Y,Z,Q){let ne="",Me=0,K=!1,le=0;for(let ge=0;ge<Y.length;ge++){const we=Math.floor(ge%Z),Be=Math.floor(ge/Z);!we&&!K&&(K=!0),Y[ge]?(le++,ge>0&&we>0&&Y[ge-1]||(ne+=K?N("M",we+Q,.5+Be+Q):N("m",Me,0),Me=0,K=!1),we+1<Z&&Y[ge+1]||(ne+=N("h",le),le=0)):Me++}return ne}(le,K,Me.margin)+'"/>',We='<svg xmlns="http://www.w3.org/2000/svg" '+(Me.width?'width="'+Me.width+'" height="'+Me.width+'" ':"")+'viewBox="0 0 '+ge+" "+ge+'" shape-rendering="crispEdges">'+we+Be+"</svg>\n";return"function"==typeof ne&&ne(null,We),We}},1101:(Lt,Ce)=>{function I(a){if("number"==typeof a&&(a=a.toString()),"string"!=typeof a)throw new Error("Color should be defined as hex string");let _=a.slice().replace("#","").split("");if(_.length<3||5===_.length||_.length>8)throw new Error("Invalid hex color: "+a);(3===_.length||4===_.length)&&(_=Array.prototype.concat.apply([],_.map(function(F){return[F,F]}))),6===_.length&&_.push("F","F");const N=parseInt(_.join(""),16);return{r:N>>24&255,g:N>>16&255,b:N>>8&255,a:255&N,hex:"#"+_.slice(0,6).join("")}}Ce.getOptions=function(_){_||(_={}),_.color||(_.color={});const F=_.width&&_.width>=21?_.width:void 0;return{width:F,scale:F?4:_.scale||4,margin:typeof _.margin>"u"||null===_.margin||_.margin<0?4:_.margin,color:{dark:I(_.color.dark||"#000000ff"),light:I(_.color.light||"#ffffffff")},type:_.type,rendererOpts:_.rendererOpts||{}}},Ce.getScale=function(_,N){return N.width&&N.width>=_+2*N.margin?N.width/(_+2*N.margin):N.scale},Ce.getImageWidth=function(_,N){const F=Ce.getScale(_,N);return Math.floor((_+2*N.margin)*F)},Ce.qrToImageData=function(_,N,F){const Y=N.modules.size,Z=N.modules.data,Q=Ce.getScale(Y,F),ne=Math.floor((Y+2*F.margin)*Q),Me=F.margin*Q,K=[F.color.light,F.color.dark];for(let le=0;le<ne;le++)for(let ge=0;ge<ne;ge++){let we=4*(le*ne+ge),Be=F.color.light;le>=Me&&ge>=Me&&le<ne-Me&&ge<ne-Me&&(Be=K[Z[Math.floor((le-Me)/Q)*Y+Math.floor((ge-Me)/Q)]?1:0]),_[we++]=Be.r,_[we++]=Be.g,_[we++]=Be.b,_[we]=Be.a}}},5619:(Lt,Ce,I)=>{"use strict";I.d(Ce,{X:()=>_});var a=I(8645);class _ extends a.x{constructor(F){super(),this._value=F}get value(){return this.getValue()}_subscribe(F){const Y=super._subscribe(F);return!Y.closed&&F.next(this._value),Y}getValue(){const{hasError:F,thrownError:Y,_value:Z}=this;if(F)throw Y;return this._throwIfClosed(),Z}next(F){super.next(this._value=F)}}},5592:(Lt,Ce,I)=>{"use strict";I.d(Ce,{y:()=>ne});var a=I(305),_=I(7394),N=I(4850),F=I(8407),Y=I(2653),Z=I(4674),Q=I(1441);let ne=(()=>{class ge{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const $e=new ge;return $e.source=this,$e.operator=Be,$e}subscribe(Be,$e,nt){const We=function le(ge){return ge&&ge instanceof a.Lv||function K(ge){return ge&&(0,Z.m)(ge.next)&&(0,Z.m)(ge.error)&&(0,Z.m)(ge.complete)}(ge)&&(0,_.Nn)(ge)}(Be)?Be:new a.Hp(Be,$e,nt);return(0,Q.x)(()=>{const{operator:He,source:Ze}=this;We.add(He?He.call(We,Ze):Ze?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Be){try{return this._subscribe(Be)}catch($e){Be.error($e)}}forEach(Be,$e){return new($e=Me($e))((nt,We)=>{const He=new a.Hp({next:Ze=>{try{Be(Ze)}catch(ot){We(ot),He.unsubscribe()}},error:We,complete:nt});this.subscribe(He)})}_subscribe(Be){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(Be)}[N.L](){return this}pipe(...Be){return(0,F.U)(Be)(this)}toPromise(Be){return new(Be=Me(Be))(($e,nt)=>{let We;this.subscribe(He=>We=He,He=>nt(He),()=>$e(We))})}}return ge.create=we=>new ge(we),ge})();function Me(ge){var we;return null!==(we=null!=ge?ge:Y.config.Promise)&&void 0!==we?we:Promise}},8645:(Lt,Ce,I)=>{"use strict";I.d(Ce,{x:()=>Q});var a=I(5592),_=I(7394);const F=(0,I(2306).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=I(9039),Z=I(1441);let Q=(()=>{class Me extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const ge=new ne(this,this);return ge.operator=le,ge}_throwIfClosed(){if(this.closed)throw new F}next(le){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(le)}})}error(le){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:ge}=this;for(;ge.length;)ge.shift().error(le)}})}complete(){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:ge,isStopped:we,observers:Be}=this;return ge||we?_.Lc:(this.currentObservers=null,Be.push(le),new _.w0(()=>{this.currentObservers=null,(0,Y.P)(Be,le)}))}_checkFinalizedStatuses(le){const{hasError:ge,thrownError:we,isStopped:Be}=this;ge?le.error(we):Be&&le.complete()}asObservable(){const le=new a.y;return le.source=this,le}}return Me.create=(K,le)=>new ne(K,le),Me})();class ne extends Q{constructor(K,le){super(),this.destination=K,this.source=le}next(K){var le,ge;null===(ge=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===ge||ge.call(le,K)}error(K){var le,ge;null===(ge=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===ge||ge.call(le,K)}complete(){var K,le;null===(le=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===le||le.call(K)}_subscribe(K){var le,ge;return null!==(ge=null===(le=this.source)||void 0===le?void 0:le.subscribe(K))&&void 0!==ge?ge:_.Lc}}},305:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Hp:()=>nt,Lv:()=>ge});var a=I(4674),_=I(7394),N=I(2653),F=I(3894),Y=I(2420);const Z=Me("C",void 0,void 0);function Me(ue,Ge,be){return{kind:ue,value:Ge,error:be}}var K=I(7599),le=I(1441);class ge extends _.w0{constructor(Ge){super(),this.isStopped=!1,Ge?(this.destination=Ge,(0,_.Nn)(Ge)&&Ge.add(this)):this.destination=ot}static create(Ge,be,_e){return new nt(Ge,be,_e)}next(Ge){this.isStopped?Ze(function ne(ue){return Me("N",ue,void 0)}(Ge),this):this._next(Ge)}error(Ge){this.isStopped?Ze(function Q(ue){return Me("E",void 0,ue)}(Ge),this):(this.isStopped=!0,this._error(Ge))}complete(){this.isStopped?Ze(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ge){this.destination.next(Ge)}_error(Ge){try{this.destination.error(Ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const we=Function.prototype.bind;function Be(ue,Ge){return we.call(ue,Ge)}class $e{constructor(Ge){this.partialObserver=Ge}next(Ge){const{partialObserver:be}=this;if(be.next)try{be.next(Ge)}catch(_e){We(_e)}}error(Ge){const{partialObserver:be}=this;if(be.error)try{be.error(Ge)}catch(_e){We(_e)}else We(Ge)}complete(){const{partialObserver:Ge}=this;if(Ge.complete)try{Ge.complete()}catch(be){We(be)}}}class nt extends ge{constructor(Ge,be,_e){let te;if(super(),(0,a.m)(Ge)||!Ge)te={next:null!=Ge?Ge:void 0,error:null!=be?be:void 0,complete:null!=_e?_e:void 0};else{let W;this&&N.config.useDeprecatedNextContext?(W=Object.create(Ge),W.unsubscribe=()=>this.unsubscribe(),te={next:Ge.next&&Be(Ge.next,W),error:Ge.error&&Be(Ge.error,W),complete:Ge.complete&&Be(Ge.complete,W)}):te=Ge}this.destination=new $e(te)}}function We(ue){N.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(ue):(0,F.h)(ue)}function Ze(ue,Ge){const{onStoppedNotification:be}=N.config;be&&K.z.setTimeout(()=>be(ue,Ge))}const ot={closed:!0,next:Y.Z,error:function He(ue){throw ue},complete:Y.Z}},7394:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Lc:()=>Z,w0:()=>Y,Nn:()=>Q});var a=I(4674);const N=(0,I(2306).d)(Me=>function(le){Me(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((ge,we)=>`${we+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var F=I(9039);class Y{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Be of le)Be.remove(this);else le.remove(this);const{initialTeardown:ge}=this;if((0,a.m)(ge))try{ge()}catch(Be){K=Be instanceof N?Be.errors:[Be]}const{_finalizers:we}=this;if(we){this._finalizers=null;for(const Be of we)try{ne(Be)}catch($e){K=null!=K?K:[],$e instanceof N?K=[...K,...$e.errors]:K.push($e)}}if(K)throw new N(K)}}add(K){var le;if(K&&K!==this)if(this.closed)ne(K);else{if(K instanceof Y){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(K)}}_hasParent(K){const{_parentage:le}=this;return le===K||Array.isArray(le)&&le.includes(K)}_addParent(K){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(K),le):le?[le,K]:K}_removeParent(K){const{_parentage:le}=this;le===K?this._parentage=null:Array.isArray(le)&&(0,F.P)(le,K)}remove(K){const{_finalizers:le}=this;le&&(0,F.P)(le,K),K instanceof Y&&K._removeParent(this)}}Y.EMPTY=(()=>{const Me=new Y;return Me.closed=!0,Me})();const Z=Y.EMPTY;function Q(Me){return Me instanceof Y||Me&&"closed"in Me&&(0,a.m)(Me.remove)&&(0,a.m)(Me.add)&&(0,a.m)(Me.unsubscribe)}function ne(Me){(0,a.m)(Me)?Me():Me.unsubscribe()}},2653:(Lt,Ce,I)=>{"use strict";I.d(Ce,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Lt,Ce,I)=>{"use strict";I.d(Ce,{a:()=>K});var a=I(5592),_=I(7453),N=I(2459),F=I(2737),Y=I(7400),Z=I(4564),Q=I(2714),ne=I(8251),Me=I(7103);function K(...we){const Be=(0,Z.yG)(we),$e=(0,Z.jO)(we),{args:nt,keys:We}=(0,_.D)(we);if(0===nt.length)return(0,N.D)([],Be);const He=new a.y(function le(we,Be,$e=F.y){return nt=>{ge(Be,()=>{const{length:We}=we,He=new Array(We);let Ze=We,ot=We;for(let ue=0;ue<We;ue++)ge(Be,()=>{const Ge=(0,N.D)(we[ue],Be);let be=!1;Ge.subscribe((0,ne.x)(nt,_e=>{He[ue]=_e,be||(be=!0,ot--),ot||nt.next($e(He.slice()))},()=>{--Ze||nt.complete()}))},nt)},nt)}}(nt,Be,We?Ze=>(0,Q.n)(We,Ze):F.y));return $e?He.pipe((0,Y.Z)($e)):He}function ge(we,Be,$e){we?(0,Me.f)($e,we,Be):Be()}},5211:(Lt,Ce,I)=>{"use strict";I.d(Ce,{z:()=>Y});var a=I(7537),N=I(4564),F=I(2459);function Y(...Z){return function _(){return(0,a.J)(1)}()((0,F.D)(Z,(0,N.yG)(Z)))}},6232:(Lt,Ce,I)=>{"use strict";I.d(Ce,{E:()=>_});const _=new(I(5592).y)(Y=>Y.complete())},2459:(Lt,Ce,I)=>{"use strict";I.d(Ce,{D:()=>Ge});var a=I(4829),_=I(3093),N=I(5137),Z=I(5592),ne=I(4971),Me=I(4674),K=I(7103);function ge(be,_e){if(!be)throw new Error("Iterable cannot be null");return new Z.y(te=>{(0,K.f)(te,_e,()=>{const W=be[Symbol.asyncIterator]();(0,K.f)(te,_e,()=>{W.next().then(Le=>{Le.done?te.complete():te.next(Le.value)})},0,!0)})})}var we=I(8382),Be=I(4026),$e=I(4266),nt=I(3664),We=I(5726),He=I(9853),Ze=I(541);function Ge(be,_e){return _e?function ue(be,_e){if(null!=be){if((0,we.c)(be))return function F(be,_e){return(0,a.Xf)(be).pipe((0,N.R)(_e),(0,_.Q)(_e))}(be,_e);if((0,$e.z)(be))return function Q(be,_e){return new Z.y(te=>{let W=0;return _e.schedule(function(){W===be.length?te.complete():(te.next(be[W++]),te.closed||this.schedule())})})}(be,_e);if((0,Be.t)(be))return function Y(be,_e){return(0,a.Xf)(be).pipe((0,N.R)(_e),(0,_.Q)(_e))}(be,_e);if((0,We.D)(be))return ge(be,_e);if((0,nt.T)(be))return function le(be,_e){return new Z.y(te=>{let W;return(0,K.f)(te,_e,()=>{W=be[ne.h](),(0,K.f)(te,_e,()=>{let Le,De;try{({value:Le,done:De}=W.next())}catch(Ae){return void te.error(Ae)}De?te.complete():te.next(Le)},0,!0)}),()=>(0,Me.m)(null==W?void 0:W.return)&&W.return()})}(be,_e);if((0,Ze.L)(be))return function ot(be,_e){return ge((0,Ze.Q)(be),_e)}(be,_e)}throw(0,He.z)(be)}(be,_e):(0,a.Xf)(be)}},2438:(Lt,Ce,I)=>{"use strict";I.d(Ce,{R:()=>K});var a=I(4829),_=I(5592),N=I(1631),F=I(4266),Y=I(4674),Z=I(7400);const Q=["addListener","removeListener"],ne=["addEventListener","removeEventListener"],Me=["on","off"];function K($e,nt,We,He){if((0,Y.m)(We)&&(He=We,We=void 0),He)return K($e,nt,We).pipe((0,Z.Z)(He));const[Ze,ot]=function Be($e){return(0,Y.m)($e.addEventListener)&&(0,Y.m)($e.removeEventListener)}($e)?ne.map(ue=>Ge=>$e[ue](nt,Ge,We)):function ge($e){return(0,Y.m)($e.addListener)&&(0,Y.m)($e.removeListener)}($e)?Q.map(le($e,nt)):function we($e){return(0,Y.m)($e.on)&&(0,Y.m)($e.off)}($e)?Me.map(le($e,nt)):[];if(!Ze&&(0,F.z)($e))return(0,N.z)(ue=>K(ue,nt,We))((0,a.Xf)($e));if(!Ze)throw new TypeError("Invalid event target");return new _.y(ue=>{const Ge=(...be)=>ue.next(1<be.length?be:be[0]);return Ze(Ge),()=>ot(Ge)})}function le($e,nt){return We=>He=>$e[We](nt,He)}},4829:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Xf:()=>we});var a=I(7582),_=I(4266),N=I(4026),F=I(5592),Y=I(8382),Z=I(5726),Q=I(9853),ne=I(3664),Me=I(541),K=I(4674),le=I(3894),ge=I(4850);function we(ue){if(ue instanceof F.y)return ue;if(null!=ue){if((0,Y.c)(ue))return function Be(ue){return new F.y(Ge=>{const be=ue[ge.L]();if((0,K.m)(be.subscribe))return be.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,_.z)(ue))return function $e(ue){return new F.y(Ge=>{for(let be=0;be<ue.length&&!Ge.closed;be++)Ge.next(ue[be]);Ge.complete()})}(ue);if((0,N.t)(ue))return function nt(ue){return new F.y(Ge=>{ue.then(be=>{Ge.closed||(Ge.next(be),Ge.complete())},be=>Ge.error(be)).then(null,le.h)})}(ue);if((0,Z.D)(ue))return He(ue);if((0,ne.T)(ue))return function We(ue){return new F.y(Ge=>{for(const be of ue)if(Ge.next(be),Ge.closed)return;Ge.complete()})}(ue);if((0,Me.L)(ue))return function Ze(ue){return He((0,Me.Q)(ue))}(ue)}throw(0,Q.z)(ue)}function He(ue){return new F.y(Ge=>{(function ot(ue,Ge){var be,_e,te,W;return(0,a.mG)(this,void 0,void 0,function*(){try{for(be=(0,a.KL)(ue);!(_e=yield be.next()).done;)if(Ge.next(_e.value),Ge.closed)return}catch(Le){te={error:Le}}finally{try{_e&&!_e.done&&(W=be.return)&&(yield W.call(be))}finally{if(te)throw te.error}}Ge.complete()})})(ue,Ge).catch(be=>Ge.error(be))})}},3019:(Lt,Ce,I)=>{"use strict";I.d(Ce,{T:()=>Z});var a=I(7537),_=I(4829),N=I(6232),F=I(4564),Y=I(2459);function Z(...Q){const ne=(0,F.yG)(Q),Me=(0,F._6)(Q,1/0),K=Q;return K.length?1===K.length?(0,_.Xf)(K[0]):(0,a.J)(Me)((0,Y.D)(K,ne)):N.E}},2096:(Lt,Ce,I)=>{"use strict";I.d(Ce,{of:()=>N});var a=I(4564),_=I(2459);function N(...F){const Y=(0,a.yG)(F);return(0,_.D)(F,Y)}},8251:(Lt,Ce,I)=>{"use strict";I.d(Ce,{x:()=>_});var a=I(305);function _(F,Y,Z,Q,ne){return new N(F,Y,Z,Q,ne)}class N extends a.Lv{constructor(Y,Z,Q,ne,Me,K){super(Y),this.onFinalize=Me,this.shouldUnsubscribe=K,this._next=Z?function(le){try{Z(le)}catch(ge){Y.error(ge)}}:super._next,this._error=ne?function(le){try{ne(le)}catch(ge){Y.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(le){Y.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},3572:(Lt,Ce,I)=>{"use strict";I.d(Ce,{d:()=>N});var a=I(9360),_=I(8251);function N(F){return(0,a.e)((Y,Z)=>{let Q=!1;Y.subscribe((0,_.x)(Z,ne=>{Q=!0,Z.next(ne)},()=>{Q||Z.next(F),Z.complete()}))})}},3997:(Lt,Ce,I)=>{"use strict";I.d(Ce,{x:()=>F});var a=I(2737),_=I(9360),N=I(8251);function F(Z,Q=a.y){return Z=null!=Z?Z:Y,(0,_.e)((ne,Me)=>{let K,le=!0;ne.subscribe((0,N.x)(Me,ge=>{const we=Q(ge);(le||!Z(K,we))&&(le=!1,K=we,Me.next(ge))}))})}function Y(Z,Q){return Z===Q}},2181:(Lt,Ce,I)=>{"use strict";I.d(Ce,{h:()=>N});var a=I(9360),_=I(8251);function N(F,Y){return(0,a.e)((Z,Q)=>{let ne=0;Z.subscribe((0,_.x)(Q,Me=>F.call(Y,Me,ne++)&&Q.next(Me)))})}},1374:(Lt,Ce,I)=>{"use strict";I.d(Ce,{P:()=>Q});var a=I(6973),_=I(2181),N=I(8180),F=I(3572),Y=I(3026),Z=I(2737);function Q(ne,Me){const K=arguments.length>=2;return le=>le.pipe(ne?(0,_.h)((ge,we)=>ne(ge,we,le)):Z.y,(0,N.q)(1),K?(0,F.d)(Me):(0,Y.T)(()=>new a.K))}},7398:(Lt,Ce,I)=>{"use strict";I.d(Ce,{U:()=>N});var a=I(9360),_=I(8251);function N(F,Y){return(0,a.e)((Z,Q)=>{let ne=0;Z.subscribe((0,_.x)(Q,Me=>{Q.next(F.call(Y,Me,ne++))}))})}},7537:(Lt,Ce,I)=>{"use strict";I.d(Ce,{J:()=>N});var a=I(1631),_=I(2737);function N(F=1/0){return(0,a.z)(_.y,F)}},1631:(Lt,Ce,I)=>{"use strict";I.d(Ce,{z:()=>ne});var a=I(7398),_=I(4829),N=I(9360),F=I(7103),Y=I(8251),Q=I(4674);function ne(Me,K,le=1/0){return(0,Q.m)(K)?ne((ge,we)=>(0,a.U)((Be,$e)=>K(ge,Be,we,$e))((0,_.Xf)(Me(ge,we))),le):("number"==typeof K&&(le=K),(0,N.e)((ge,we)=>function Z(Me,K,le,ge,we,Be,$e,nt){const We=[];let He=0,Ze=0,ot=!1;const ue=()=>{ot&&!We.length&&!He&&K.complete()},Ge=_e=>He<ge?be(_e):We.push(_e),be=_e=>{Be&&K.next(_e),He++;let te=!1;(0,_.Xf)(le(_e,Ze++)).subscribe((0,Y.x)(K,W=>{null==we||we(W),Be?Ge(W):K.next(W)},()=>{te=!0},void 0,()=>{if(te)try{for(He--;We.length&&He<ge;){const W=We.shift();$e?(0,F.f)(K,$e,()=>be(W)):be(W)}ue()}catch(W){K.error(W)}}))};return Me.subscribe((0,Y.x)(K,Ge,()=>{ot=!0,ue()})),()=>{null==nt||nt()}}(ge,we,Me,le)))}},3093:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Q:()=>F});var a=I(7103),_=I(9360),N=I(8251);function F(Y,Z=0){return(0,_.e)((Q,ne)=>{Q.subscribe((0,N.x)(ne,Me=>(0,a.f)(ne,Y,()=>ne.next(Me),Z),()=>(0,a.f)(ne,Y,()=>ne.complete(),Z),Me=>(0,a.f)(ne,Y,()=>ne.error(Me),Z)))})}},6699:(Lt,Ce,I)=>{"use strict";I.d(Ce,{R:()=>F});var a=I(9360),_=I(8251);function F(Y,Z){return(0,a.e)(function N(Y,Z,Q,ne,Me){return(K,le)=>{let ge=Q,we=Z,Be=0;K.subscribe((0,_.x)(le,$e=>{const nt=Be++;we=ge?Y(we,$e,nt):(ge=!0,$e),ne&&le.next(we)},Me&&(()=>{ge&&le.next(we),le.complete()})))}}(Y,Z,arguments.length>=2,!0))}},3020:(Lt,Ce,I)=>{"use strict";I.d(Ce,{B:()=>Y});var a=I(4829),_=I(8645),N=I(305),F=I(9360);function Y(Q={}){const{connector:ne=(()=>new _.x),resetOnError:Me=!0,resetOnComplete:K=!0,resetOnRefCountZero:le=!0}=Q;return ge=>{let we,Be,$e,nt=0,We=!1,He=!1;const Ze=()=>{null==Be||Be.unsubscribe(),Be=void 0},ot=()=>{Ze(),we=$e=void 0,We=He=!1},ue=()=>{const Ge=we;ot(),null==Ge||Ge.unsubscribe()};return(0,F.e)((Ge,be)=>{nt++,!He&&!We&&Ze();const _e=$e=null!=$e?$e:ne();be.add(()=>{nt--,0===nt&&!He&&!We&&(Be=Z(ue,le))}),_e.subscribe(be),!we&&nt>0&&(we=new N.Hp({next:te=>_e.next(te),error:te=>{He=!0,Ze(),Be=Z(ot,Me,te),_e.error(te)},complete:()=>{We=!0,Ze(),Be=Z(ot,K),_e.complete()}}),(0,a.Xf)(Ge).subscribe(we))})(ge)}}function Z(Q,ne,...Me){if(!0===ne)return void Q();if(!1===ne)return;const K=new N.Hp({next:()=>{K.unsubscribe(),Q()}});return(0,a.Xf)(ne(...Me)).subscribe(K)}},7921:(Lt,Ce,I)=>{"use strict";I.d(Ce,{O:()=>F});var a=I(5211),_=I(4564),N=I(9360);function F(...Y){const Z=(0,_.yG)(Y);return(0,N.e)((Q,ne)=>{(Z?(0,a.z)(Y,Q,Z):(0,a.z)(Y,Q)).subscribe(ne)})}},5137:(Lt,Ce,I)=>{"use strict";I.d(Ce,{R:()=>_});var a=I(9360);function _(N,F=0){return(0,a.e)((Y,Z)=>{Z.add(N.schedule(()=>Y.subscribe(Z),F))})}},4664:(Lt,Ce,I)=>{"use strict";I.d(Ce,{w:()=>F});var a=I(4829),_=I(9360),N=I(8251);function F(Y,Z){return(0,_.e)((Q,ne)=>{let Me=null,K=0,le=!1;const ge=()=>le&&!Me&&ne.complete();Q.subscribe((0,N.x)(ne,we=>{null==Me||Me.unsubscribe();let Be=0;const $e=K++;(0,a.Xf)(Y(we,$e)).subscribe(Me=(0,N.x)(ne,nt=>ne.next(Z?Z(we,nt,$e,Be++):nt),()=>{Me=null,ge()}))},()=>{le=!0,ge()}))})}},8180:(Lt,Ce,I)=>{"use strict";I.d(Ce,{q:()=>F});var a=I(6232),_=I(9360),N=I(8251);function F(Y){return Y<=0?()=>a.E:(0,_.e)((Z,Q)=>{let ne=0;Z.subscribe((0,N.x)(Q,Me=>{++ne<=Y&&(Q.next(Me),Y<=ne&&Q.complete())}))})}},9397:(Lt,Ce,I)=>{"use strict";I.d(Ce,{b:()=>Y});var a=I(4674),_=I(9360),N=I(8251),F=I(2737);function Y(Z,Q,ne){const Me=(0,a.m)(Z)||Q||ne?{next:Z,error:Q,complete:ne}:Z;return Me?(0,_.e)((K,le)=>{var ge;null===(ge=Me.subscribe)||void 0===ge||ge.call(Me);let we=!0;K.subscribe((0,N.x)(le,Be=>{var $e;null===($e=Me.next)||void 0===$e||$e.call(Me,Be),le.next(Be)},()=>{var Be;we=!1,null===(Be=Me.complete)||void 0===Be||Be.call(Me),le.complete()},Be=>{var $e;we=!1,null===($e=Me.error)||void 0===$e||$e.call(Me,Be),le.error(Be)},()=>{var Be,$e;we&&(null===(Be=Me.unsubscribe)||void 0===Be||Be.call(Me)),null===($e=Me.finalize)||void 0===$e||$e.call(Me)}))}):F.y}},3026:(Lt,Ce,I)=>{"use strict";I.d(Ce,{T:()=>F});var a=I(6973),_=I(9360),N=I(8251);function F(Z=Y){return(0,_.e)((Q,ne)=>{let Me=!1;Q.subscribe((0,N.x)(ne,K=>{Me=!0,ne.next(K)},()=>Me?ne.complete():ne.error(Z())))})}function Y(){return new a.K}},1954:(Lt,Ce,I)=>{"use strict";I.d(Ce,{o:()=>Y});var a=I(7394);class _ extends a.w0{constructor(Q,ne){super()}schedule(Q,ne=0){return this}}const N={setInterval(Z,Q,...ne){const{delegate:Me}=N;return null!=Me&&Me.setInterval?Me.setInterval(Z,Q,...ne):setInterval(Z,Q,...ne)},clearInterval(Z){const{delegate:Q}=N;return((null==Q?void 0:Q.clearInterval)||clearInterval)(Z)},delegate:void 0};var F=I(9039);class Y extends _{constructor(Q,ne){super(Q,ne),this.scheduler=Q,this.work=ne,this.pending=!1}schedule(Q,ne=0){var Me;if(this.closed)return this;this.state=Q;const K=this.id,le=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(le,K,ne)),this.pending=!0,this.delay=ne,this.id=null!==(Me=this.id)&&void 0!==Me?Me:this.requestAsyncId(le,this.id,ne),this}requestAsyncId(Q,ne,Me=0){return N.setInterval(Q.flush.bind(Q,this),Me)}recycleAsyncId(Q,ne,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return ne;null!=ne&&N.clearInterval(ne)}execute(Q,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(Q,ne);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,ne){let K,Me=!1;try{this.work(Q)}catch(le){Me=!0,K=le||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:Q,scheduler:ne}=this,{actions:Me}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,F.P)(Me,this),null!=Q&&(this.id=this.recycleAsyncId(ne,Q,null)),this.delay=null,super.unsubscribe()}}}},2631:(Lt,Ce,I)=>{"use strict";I.d(Ce,{v:()=>N});var a=I(4552);class _{constructor(Y,Z=_.now){this.schedulerActionCtor=Y,this.now=Z}schedule(Y,Z=0,Q){return new this.schedulerActionCtor(this,Y).schedule(Q,Z)}}_.now=a.l.now;class N extends _{constructor(Y,Z=_.now){super(Y,Z),this.actions=[],this._active=!1}flush(Y){const{actions:Z}=this;if(this._active)return void Z.push(Y);let Q;this._active=!0;do{if(Q=Y.execute(Y.state,Y.delay))break}while(Y=Z.shift());if(this._active=!1,Q){for(;Y=Z.shift();)Y.unsubscribe();throw Q}}}},6321:(Lt,Ce,I)=>{"use strict";I.d(Ce,{z:()=>N});var a=I(1954);const N=new(I(2631).v)(a.o)},4552:(Lt,Ce,I)=>{"use strict";I.d(Ce,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(Lt,Ce,I)=>{"use strict";I.d(Ce,{z:()=>a});const a={setTimeout(_,N,...F){const{delegate:Y}=a;return null!=Y&&Y.setTimeout?Y.setTimeout(_,N,...F):setTimeout(_,N,...F)},clearTimeout(_){const{delegate:N}=a;return((null==N?void 0:N.clearTimeout)||clearTimeout)(_)},delegate:void 0}},4971:(Lt,Ce,I)=>{"use strict";I.d(Ce,{h:()=>_});const _=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Lt,Ce,I)=>{"use strict";I.d(Ce,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Lt,Ce,I)=>{"use strict";I.d(Ce,{K:()=>_});const _=(0,I(2306).d)(N=>function(){N(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Lt,Ce,I)=>{"use strict";I.d(Ce,{_6:()=>Z,jO:()=>F,yG:()=>Y});var a=I(4674);function N(Q){return Q[Q.length-1]}function F(Q){return(0,a.m)(N(Q))?Q.pop():void 0}function Y(Q){return function _(Q){return Q&&(0,a.m)(Q.schedule)}(N(Q))?Q.pop():void 0}function Z(Q,ne){return"number"==typeof N(Q)?Q.pop():ne}},7453:(Lt,Ce,I)=>{"use strict";I.d(Ce,{D:()=>Y});const{isArray:a}=Array,{getPrototypeOf:_,prototype:N,keys:F}=Object;function Y(Q){if(1===Q.length){const ne=Q[0];if(a(ne))return{args:ne,keys:null};if(function Z(Q){return Q&&"object"==typeof Q&&_(Q)===N}(ne)){const Me=F(ne);return{args:Me.map(K=>ne[K]),keys:Me}}}return{args:Q,keys:null}}},9039:(Lt,Ce,I)=>{"use strict";function a(_,N){if(_){const F=_.indexOf(N);0<=F&&_.splice(F,1)}}I.d(Ce,{P:()=>a})},2306:(Lt,Ce,I)=>{"use strict";function a(_){const F=_(Y=>{Error.call(Y),Y.stack=(new Error).stack});return F.prototype=Object.create(Error.prototype),F.prototype.constructor=F,F}I.d(Ce,{d:()=>a})},2714:(Lt,Ce,I)=>{"use strict";function a(_,N){return _.reduce((F,Y,Z)=>(F[Y]=N[Z],F),{})}I.d(Ce,{n:()=>a})},1441:(Lt,Ce,I)=>{"use strict";I.d(Ce,{O:()=>F,x:()=>N});var a=I(2653);let _=null;function N(Y){if(a.config.useDeprecatedSynchronousErrorHandling){const Z=!_;if(Z&&(_={errorThrown:!1,error:null}),Y(),Z){const{errorThrown:Q,error:ne}=_;if(_=null,Q)throw ne}}else Y()}function F(Y){a.config.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=Y)}},7103:(Lt,Ce,I)=>{"use strict";function a(_,N,F,Y=0,Z=!1){const Q=N.schedule(function(){F(),Z?_.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(_.add(Q),!Z)return Q}I.d(Ce,{f:()=>a})},2737:(Lt,Ce,I)=>{"use strict";function a(_){return _}I.d(Ce,{y:()=>a})},4266:(Lt,Ce,I)=>{"use strict";I.d(Ce,{z:()=>a});const a=_=>_&&"number"==typeof _.length&&"function"!=typeof _},5726:(Lt,Ce,I)=>{"use strict";I.d(Ce,{D:()=>_});var a=I(4674);function _(N){return Symbol.asyncIterator&&(0,a.m)(null==N?void 0:N[Symbol.asyncIterator])}},4674:(Lt,Ce,I)=>{"use strict";function a(_){return"function"==typeof _}I.d(Ce,{m:()=>a})},8382:(Lt,Ce,I)=>{"use strict";I.d(Ce,{c:()=>N});var a=I(4850),_=I(4674);function N(F){return(0,_.m)(F[a.L])}},3664:(Lt,Ce,I)=>{"use strict";I.d(Ce,{T:()=>N});var a=I(4971),_=I(4674);function N(F){return(0,_.m)(null==F?void 0:F[a.h])}},4026:(Lt,Ce,I)=>{"use strict";I.d(Ce,{t:()=>_});var a=I(4674);function _(N){return(0,a.m)(null==N?void 0:N.then)}},541:(Lt,Ce,I)=>{"use strict";I.d(Ce,{L:()=>F,Q:()=>N});var a=I(7582),_=I(4674);function N(Y){return(0,a.FC)(this,arguments,function*(){const Q=Y.getReader();try{for(;;){const{value:ne,done:Me}=yield(0,a.qq)(Q.read());if(Me)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ne)}}finally{Q.releaseLock()}})}function F(Y){return(0,_.m)(null==Y?void 0:Y.getReader)}},9360:(Lt,Ce,I)=>{"use strict";I.d(Ce,{A:()=>_,e:()=>N});var a=I(4674);function _(F){return(0,a.m)(null==F?void 0:F.lift)}function N(F){return Y=>{if(_(Y))return Y.lift(function(Z){try{return F(Z,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Z:()=>F});var a=I(7398);const{isArray:_}=Array;function F(Y){return(0,a.U)(Z=>function N(Y,Z){return _(Z)?Y(...Z):Y(Z)}(Y,Z))}},2420:(Lt,Ce,I)=>{"use strict";function a(){}I.d(Ce,{Z:()=>a})},8407:(Lt,Ce,I)=>{"use strict";I.d(Ce,{U:()=>N,z:()=>_});var a=I(2737);function _(...F){return N(F)}function N(F){return 0===F.length?a.y:1===F.length?F[0]:function(Z){return F.reduce((Q,ne)=>ne(Q),Z)}}},3894:(Lt,Ce,I)=>{"use strict";I.d(Ce,{h:()=>N});var a=I(2653),_=I(7599);function N(F){_.z.setTimeout(()=>{const{onUnhandledError:Y}=a.config;if(!Y)throw F;Y(F)})}},9853:(Lt,Ce,I)=>{"use strict";function a(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}I.d(Ce,{z:()=>a})},863:(Lt,Ce,I)=>{var a={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,9302,433],"./ion-datetime_3.entry.js":[7059,9302,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9941,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function _(N){if(!I.o(a,N))return Promise.resolve().then(()=>{var Z=new Error("Cannot find module '"+N+"'");throw Z.code="MODULE_NOT_FOUND",Z});var F=a[N],Y=F[0];return Promise.all(F.slice(1).map(I.e)).then(()=>I(Y))}_.keys=()=>Object.keys(a),_.id=863,Lt.exports=_},5899:(Lt,Ce,I)=>{var a={"./pwa-action-sheet.entry.js":[1120,1120],"./pwa-camera-modal-instance.entry.js":[4995,4995],"./pwa-camera-modal.entry.js":[7324,7324],"./pwa-camera.entry.js":[6390,6390],"./pwa-toast.entry.js":[2813,2813]};function _(N){if(!I.o(a,N))return Promise.resolve().then(()=>{var Z=new Error("Cannot find module '"+N+"'");throw Z.code="MODULE_NOT_FOUND",Z});var F=a[N],Y=F[0];return I.e(F[1]).then(()=>I(Y))}_.keys=()=>Object.keys(a),_.id=5899,Lt.exports=_},6814:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Do:()=>nt,EM:()=>Pe,HT:()=>F,JF:()=>qt,K0:()=>Z,Mx:()=>Wr,O5:()=>oi,PM:()=>Re,S$:()=>we,V_:()=>ne,Ye:()=>We,b0:()=>$e,bD:()=>Vr,ez:()=>Mi,mk:()=>Ai,q:()=>N,sg:()=>yi,tP:()=>it,w_:()=>Y});var a=I(5879);let _=null;function N(){return _}function F(A){_||(_=A)}class Y{}const Z=new a.OlP("DocumentToken");let Q=(()=>{var A;class H{historyGo(U){throw new Error("Not implemented")}}return(A=H).\u0275fac=function(U){return new(U||A)},A.\u0275prov=a.Yz7({token:A,factory:function(){return(0,a.f3M)(Me)},providedIn:"platform"}),H})();const ne=new a.OlP("Location Initialized");let Me=(()=>{var A;class H extends Q{constructor(){super(),this._doc=(0,a.f3M)(Z),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(U){const Fe=N().getGlobalEventTarget(this._doc,"window");return Fe.addEventListener("popstate",U,!1),()=>Fe.removeEventListener("popstate",U)}onHashChange(U){const Fe=N().getGlobalEventTarget(this._doc,"window");return Fe.addEventListener("hashchange",U,!1),()=>Fe.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,Fe,lt){this._history.pushState(U,Fe,lt)}replaceState(U,Fe,lt){this._history.replaceState(U,Fe,lt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return(A=H).\u0275fac=function(U){return new(U||A)},A.\u0275prov=a.Yz7({token:A,factory:function(){return new A},providedIn:"platform"}),H})();function K(A,H){if(0==A.length)return H;if(0==H.length)return A;let Xe=0;return A.endsWith("/")&&Xe++,H.startsWith("/")&&Xe++,2==Xe?A+H.substring(1):1==Xe?A+H:A+"/"+H}function le(A){const H=A.match(/#|\?|$/),Xe=H&&H.index||A.length;return A.slice(0,Xe-("/"===A[Xe-1]?1:0))+A.slice(Xe)}function ge(A){return A&&"?"!==A[0]?"?"+A:A}let we=(()=>{var A;class H{historyGo(U){throw new Error("Not implemented")}}return(A=H).\u0275fac=function(U){return new(U||A)},A.\u0275prov=a.Yz7({token:A,factory:function(){return(0,a.f3M)($e)},providedIn:"root"}),H})();const Be=new a.OlP("appBaseHref");let $e=(()=>{var A;class H extends we{constructor(U,Fe){var lt,zt,_n;super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=null!==(lt=null!==(zt=null!=Fe?Fe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==zt?zt:null===(_n=(0,a.f3M)(Z).location)||void 0===_n?void 0:_n.origin)&&void 0!==lt?lt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return K(this._baseHref,U)}path(U=!1){const Fe=this._platformLocation.pathname+ge(this._platformLocation.search),lt=this._platformLocation.hash;return lt&&U?`${Fe}${lt}`:Fe}pushState(U,Fe,lt,zt){const _n=this.prepareExternalUrl(lt+ge(zt));this._platformLocation.pushState(U,Fe,_n)}replaceState(U,Fe,lt,zt){const _n=this.prepareExternalUrl(lt+ge(zt));this._platformLocation.replaceState(U,Fe,_n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var Fe,lt;null===(Fe=(lt=this._platformLocation).historyGo)||void 0===Fe||Fe.call(lt,U)}}return(A=H).\u0275fac=function(U){return new(U||A)(a.LFG(Q),a.LFG(Be,8))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),H})(),nt=(()=>{var A;class H extends we{constructor(U,Fe){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=Fe&&(this._baseHref=Fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let Fe=this._platformLocation.hash;return null==Fe&&(Fe="#"),Fe.length>0?Fe.substring(1):Fe}prepareExternalUrl(U){const Fe=K(this._baseHref,U);return Fe.length>0?"#"+Fe:Fe}pushState(U,Fe,lt,zt){let _n=this.prepareExternalUrl(lt+ge(zt));0==_n.length&&(_n=this._platformLocation.pathname),this._platformLocation.pushState(U,Fe,_n)}replaceState(U,Fe,lt,zt){let _n=this.prepareExternalUrl(lt+ge(zt));0==_n.length&&(_n=this._platformLocation.pathname),this._platformLocation.replaceState(U,Fe,_n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var Fe,lt;null===(Fe=(lt=this._platformLocation).historyGo)||void 0===Fe||Fe.call(lt,U)}}return(A=H).\u0275fac=function(U){return new(U||A)(a.LFG(Q),a.LFG(Be,8))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac}),H})(),We=(()=>{var A;class H{constructor(U){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const Fe=this._locationStrategy.getBaseHref();this._basePath=function ue(A){if(new RegExp("^(https?:)?//").test(A)){const[,Xe]=A.split(/\/\/[^\/]+/);return Xe}return A}(le(ot(Fe))),this._locationStrategy.onPopState(lt=>{this._subject.emit({url:this.path(!0),pop:!0,state:lt.state,type:lt.type})})}ngOnDestroy(){var U;null===(U=this._urlChangeSubscription)||void 0===U||U.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,Fe=""){return this.path()==this.normalize(U+ge(Fe))}normalize(U){return H.stripTrailingSlash(function Ze(A,H){if(!A||!H.startsWith(A))return H;const Xe=H.substring(A.length);return""===Xe||["/",";","?","#"].includes(Xe[0])?Xe:H}(this._basePath,ot(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,Fe="",lt=null){this._locationStrategy.pushState(lt,"",U,Fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+ge(Fe)),lt)}replaceState(U,Fe="",lt=null){this._locationStrategy.replaceState(lt,"",U,Fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+ge(Fe)),lt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){var Fe,lt;null===(Fe=(lt=this._locationStrategy).historyGo)||void 0===Fe||Fe.call(lt,U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Fe=>{this._notifyUrlChangeListeners(Fe.url,Fe.state)})),()=>{const Fe=this._urlChangeListeners.indexOf(U);var lt;this._urlChangeListeners.splice(Fe,1),0===this._urlChangeListeners.length&&(null===(lt=this._urlChangeSubscription)||void 0===lt||lt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",Fe){this._urlChangeListeners.forEach(lt=>lt(U,Fe))}subscribe(U,Fe,lt){return this._subject.subscribe({next:U,error:Fe,complete:lt})}}return(A=H).normalizeQueryParams=ge,A.joinWithSlash=K,A.stripTrailingSlash=le,A.\u0275fac=function(U){return new(U||A)(a.LFG(we))},A.\u0275prov=a.Yz7({token:A,factory:function(){return function He(){return new We((0,a.LFG)(we))}()},providedIn:"root"}),H})();function ot(A){return A.replace(/\/index.html$/,"")}function Wr(A,H){H=encodeURIComponent(H);for(const Xe of A.split(";")){const U=Xe.indexOf("="),[Fe,lt]=-1==U?[Xe,""]:[Xe.slice(0,U),Xe.slice(U+1)];if(Fe.trim()===H)return decodeURIComponent(lt)}return null}const vi=/\s+/,Zn=[];let Ai=(()=>{var A;class H{constructor(U,Fe,lt,zt){this._iterableDiffers=U,this._keyValueDiffers=Fe,this._ngEl=lt,this._renderer=zt,this.initialClasses=Zn,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(vi):Zn}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(vi):U}ngDoCheck(){for(const Fe of this.initialClasses)this._updateState(Fe,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const Fe of U)this._updateState(Fe,!0);else if(null!=U)for(const Fe of Object.keys(U))this._updateState(Fe,!!U[Fe]);this._applyStateDiff()}_updateState(U,Fe){const lt=this.stateMap.get(U);void 0!==lt?(lt.enabled!==Fe&&(lt.changed=!0,lt.enabled=Fe),lt.touched=!0):this.stateMap.set(U,{enabled:Fe,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const Fe=U[0],lt=U[1];lt.changed?(this._toggleClass(Fe,lt.enabled),lt.changed=!1):lt.touched||(lt.enabled&&this._toggleClass(Fe,!1),this.stateMap.delete(Fe)),lt.touched=!1}}_toggleClass(U,Fe){(U=U.trim()).length>0&&U.split(vi).forEach(lt=>{Fe?this._renderer.addClass(this._ngEl.nativeElement,lt):this._renderer.removeClass(this._ngEl.nativeElement,lt)})}}return(A=H).\u0275fac=function(U){return new(U||A)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},A.\u0275dir=a.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),H})();class Er{constructor(H,Xe,U,Fe){this.$implicit=H,this.ngForOf=Xe,this.index=U,this.count=Fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yi=(()=>{var A;class H{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,Fe,lt){this._viewContainer=U,this._template=Fe,this._differs=lt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const Fe=this._viewContainer;U.forEachOperation((lt,zt,_n)=>{if(null==lt.previousIndex)Fe.createEmbeddedView(this._template,new Er(lt.item,this._ngForOf,-1,-1),null===_n?void 0:_n);else if(null==_n)Fe.remove(null===zt?void 0:zt);else if(null!==zt){const Mr=Fe.get(zt);Fe.move(Mr,_n),Ei(Mr,lt)}});for(let lt=0,zt=Fe.length;lt<zt;lt++){const Mr=Fe.get(lt).context;Mr.index=lt,Mr.count=zt,Mr.ngForOf=this._ngForOf}U.forEachIdentityChange(lt=>{Ei(Fe.get(lt.currentIndex),lt)})}static ngTemplateContextGuard(U,Fe){return!0}}return(A=H).\u0275fac=function(U){return new(U||A)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},A.\u0275dir=a.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),H})();function Ei(A,H){A.context.$implicit=H.item}let oi=(()=>{var A;class H{constructor(U,Fe){this._viewContainer=U,this._context=new Ti,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Fe}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Si("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Si("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,Fe){return!0}}return(A=H).\u0275fac=function(U){return new(U||A)(a.Y36(a.s_b),a.Y36(a.Rgc))},A.\u0275dir=a.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),H})();class Ti{constructor(){this.$implicit=null,this.ngIf=null}}function Si(A,H){if(H&&!H.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,a.AaK)(H)}'.`)}let it=(()=>{var A;class H{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const Fe=this._viewContainerRef;if(this._viewRef&&Fe.remove(Fe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:lt,ngTemplateOutletContext:zt,ngTemplateOutletInjector:_n}=this;this._viewRef=Fe.createEmbeddedView(lt,zt,_n?{injector:_n}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(A=H).\u0275fac=function(U){return new(U||A)(a.Y36(a.s_b))},A.\u0275dir=a.lG2({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),H})(),Mi=(()=>{var A;class H{}return(A=H).\u0275fac=function(U){return new(U||A)},A.\u0275mod=a.oAB({type:A}),A.\u0275inj=a.cJS({}),H})();const Vr="browser",Bi="server";function Re(A){return A===Bi}let Pe=(()=>{var A;class H{}return(A=H).\u0275prov=(0,a.Yz7)({token:A,providedIn:"root",factory:()=>new et((0,a.LFG)(Z),window)}),H})();class et{constructor(H,Xe){this.document=H,this.window=Xe,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const Xe=function dt(A,H){const Xe=A.getElementById(H)||A.getElementsByName(H)[0];if(Xe)return Xe;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const U=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let Fe=U.currentNode;for(;Fe;){const lt=Fe.shadowRoot;if(lt){const zt=lt.getElementById(H)||lt.querySelector(`[name="${H}"]`);if(zt)return zt}Fe=U.nextNode()}}return null}(this.document,H);Xe&&(this.scrollToElement(Xe),Xe.focus())}setHistoryScrollRestoration(H){this.supportsScrolling()&&(this.window.history.scrollRestoration=H)}scrollToElement(H){const Xe=H.getBoundingClientRect(),U=Xe.left+this.window.pageXOffset,Fe=Xe.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(U-lt[0],Fe-lt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qt{}},5879:(Lt,Ce,I)=>{"use strict";I.d(Ce,{$8M:()=>Us,$WT:()=>Lr,$Z:()=>gf,AFp:()=>Gp,AaK:()=>ge,CHM:()=>su,CRH:()=>NI,DdM:()=>fI,EJc:()=>OT,EiD:()=>kp,EpF:()=>Y_,F$t:()=>zy,F4k:()=>K_,FYo:()=>jm,FiY:()=>ra,G48:()=>_b,GSi:()=>Zl,Gf:()=>xI,GfV:()=>Gm,GkF:()=>kf,Gpc:()=>$e,HDt:()=>nC,Hsn:()=>Gy,JOm:()=>ul,JVY:()=>Sm,JZr:()=>ot,KtG:()=>Do,L6k:()=>fc,LAX:()=>pc,LFG:()=>pt,LMc:()=>qb,LSH:()=>kh,Lbi:()=>mc,Lck:()=>_D,MMx:()=>oI,NdJ:()=>Yg,Ojb:()=>qp,OlP:()=>sn,Oqu:()=>Zy,P3R:()=>km,PXZ:()=>lb,Q6J:()=>jg,QGY:()=>qg,Qsj:()=>Hv,R0b:()=>Oo,RDi:()=>Gl,Rgc:()=>sm,SBq:()=>$a,Sil:()=>FT,Suo:()=>OI,TTD:()=>Hn,TgZ:()=>zg,Tol:()=>eE,VKq:()=>pI,VuI:()=>Gb,X6Q:()=>mb,XFs:()=>hn,Xpm:()=>y,Xq5:()=>O_,Xts:()=>Cd,Y36:()=>Lu,YKP:()=>rI,YNc:()=>z_,Yjl:()=>Dr,Yz7:()=>Dt,Z0I:()=>Ht,ZZ4:()=>M0,_Bn:()=>nI,_UZ:()=>W_,_c5:()=>Ob,_uU:()=>aE,aQg:()=>x0,c2e:()=>tC,cJS:()=>Ct,cg1:()=>Qy,dDg:()=>ib,dqk:()=>en,eBb:()=>vd,eFA:()=>hC,eJc:()=>g0,ekj:()=>Yy,eoX:()=>lC,f3M:()=>Pt,g9A:()=>Uh,h0i:()=>th,hGG:()=>Nb,hij:()=>J_,iGM:()=>MI,ifc:()=>yn,ip1:()=>eC,jDz:()=>sI,kL8:()=>SE,lG2:()=>Ar,lqb:()=>ds,lri:()=>sC,mCW:()=>yd,n5z:()=>Zc,oAB:()=>at,oxw:()=>Hy,pB0:()=>Rm,q3G:()=>Yl,q4F:()=>Qh,qFp:()=>Yb,qLn:()=>Ql,qOj:()=>Ha,qZA:()=>Gg,qzn:()=>fl,rWj:()=>aC,rg0:()=>lt,sBO:()=>vb,s_b:()=>sv,soG:()=>lv,tb:()=>T0,tp0:()=>mu,uIk:()=>kc,vHH:()=>ue,vpe:()=>Ba,wAp:()=>Bf,xp6:()=>l_,z2F:()=>zf,z3N:()=>la,zSh:()=>jp,zs3:()=>es});var a=I(8645),_=I(7394),N=I(5592),F=I(3019),Y=I(5619),Z=I(2096),Q=I(3020),ne=I(4664),Me=I(3997);function K(t){for(let r in t)if(t[r]===K)return r;throw Error("Could not find renamed property on target object.")}function le(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function we(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Be=K({__forward_ref__:K});function $e(t){return t.__forward_ref__=$e,t.toString=function(){return ge(this())},t}function nt(t){return We(t)?t():t}function We(t){return"function"==typeof t&&t.hasOwnProperty(Be)&&t.__forward_ref__===$e}function He(t){return t&&!!t.\u0275providers}const ot="https://g.co/ng/security#xss";class ue extends Error{constructor(r,o){super(function Ge(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function be(t){return"string"==typeof t?t:null==t?"":String(t)}function De(t,r){throw new ue(-201,!1)}function ft(t,r){null==t&&function ht(t,r,o,l){throw new Error(`ASSERTION ERROR: ${t}`+(null==l?"":` [Expected=> ${o} ${l} ${r} <=Actual]`))}(r,t,null,"!=")}function Dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vt(t){return on(t,Jt)||on(t,On)}function Ht(t){return null!==Vt(t)}function on(t,r){return t.hasOwnProperty(r)?t[r]:null}function wn(t){return t&&(t.hasOwnProperty(Dn)||t.hasOwnProperty(fr))?t[Dn]:null}const Jt=K({\u0275prov:K}),Dn=K({\u0275inj:K}),On=K({ngInjectableDef:K}),fr=K({ngInjectorDef:K});var hn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(hn||{});let xn;function Qn(t){const r=xn;return xn=t,r}function mr(t,r,o){const l=Vt(t);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&hn.Optional?null:void 0!==r?r:void De(ge(t))}const en=globalThis;class sn{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Dt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const st={},je="__NG_DI_FLAG__",St="ngTempTokenPath",J=/\n/gm,R="__source";let w;function ce(t){const r=w;return w=t,r}function tt(t,r=hn.Default){if(void 0===w)throw new ue(-203,!1);return null===w?mr(t,void 0,r):w.get(t,r&hn.Optional?null:void 0,r)}function pt(t,r=hn.Default){return(function Sn(){return xn}()||tt)(nt(t),r)}function Pt(t,r=hn.Default){return pt(t,Bt(r))}function Bt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zt(t){const r=[];for(let o=0;o<t.length;o++){const l=nt(t[o]);if(Array.isArray(l)){if(0===l.length)throw new ue(900,!1);let c,h=hn.Default;for(let m=0;m<l.length;m++){const D=l[m],x=Kn(D);"number"==typeof x?-1===x?c=D.token:h|=x:c=D}r.push(pt(c,h))}else r.push(pt(l))}return r}function nn(t,r){return t[je]=r,t.prototype[je]=r,t}function Kn(t){return t[je]}function Et(t){return{toString:t}.toString()}var Gt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gt||{}),yn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yn||{});const Nn={},pn=[],tr=K({\u0275cmp:K}),Br=K({\u0275dir:K}),yr=K({\u0275pipe:K}),ci=K({\u0275mod:K}),Wr=K({\u0275fac:K}),vi=K({__NG_ELEMENT_ID__:K}),Zn=K({__NG_ENV_ID__:K});function Ai(t,r,o){let l=t.length;for(;;){const c=t.indexOf(r,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=r.length;if(c+h===l||t.charCodeAt(c+h)<=32)return c}o=c+1}}function Rr(t,r,o){let l=0;for(;l<o.length;){const c=o[l];if("number"==typeof c){if(0!==c)break;l++;const h=o[l++],m=o[l++],D=o[l++];t.setAttribute(r,m,D,h)}else{const h=c,m=o[++l];Er(h)?t.setProperty(r,h,m):t.setAttribute(r,h,m),l++}}return l}function rr(t){return 3===t||4===t||6===t}function Er(t){return 64===t.charCodeAt(0)}function yi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let l=0;l<r.length;l++){const c=r[l];"number"==typeof c?o=c:0===o||Ei(t,o,c,null,-1===o||2===o?r[++l]:null)}}return t}function Ei(t,r,o,l,c){let h=0,m=t.length;if(-1===r)m=-1;else for(;h<t.length;){const D=t[h++];if("number"==typeof D){if(D===r){m=-1;break}if(D>r){m=h-1;break}}}for(;h<t.length;){const D=t[h];if("number"==typeof D)break;if(D===o){if(null===l)return void(null!==c&&(t[h+1]=c));if(l===t[h+1])return void(t[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==m&&(t.splice(m,0,r),h=m+1),t.splice(h++,0,o),null!==l&&t.splice(h++,0,l),null!==c&&t.splice(h++,0,c)}const Fr="ng-template";function oi(t,r,o){let l=0,c=!0;for(;l<t.length;){let h=t[l++];if("string"==typeof h&&c){const m=t[l++];if(o&&"class"===h&&-1!==Ai(m.toLowerCase(),r,0))return!0}else{if(1===h){for(;l<t.length&&"string"==typeof(h=t[l++]);)if(h.toLowerCase()===r)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function Ti(t){return 4===t.type&&t.value!==Fr}function Si(t,r,o){return r===(4!==t.type||o?t.value:Fr)}function Ri(t,r,o){let l=4;const c=t.attrs||[],h=function ve(t){for(let r=0;r<t.length;r++)if(rr(t[r]))return r;return t.length}(c);let m=!1;for(let D=0;D<r.length;D++){const x=r[D];if("number"!=typeof x){if(!m)if(4&l){if(l=2|1&l,""!==x&&!Si(t,x,o)||""===x&&1===r.length){if(Or(l))return!1;m=!0}}else{const z=8&l?x:r[++D];if(8&l&&null!==t.attrs){if(!oi(t.attrs,z,o)){if(Or(l))return!1;m=!0}continue}const xe=ni(8&l?"class":x,c,Ti(t),o);if(-1===xe){if(Or(l))return!1;m=!0;continue}if(""!==z){let ut;ut=xe>h?"":c[xe+1].toLowerCase();const It=8&l?ut:null;if(It&&-1!==Ai(It,z,0)||2&l&&z!==ut){if(Or(l))return!1;m=!0}}}}else{if(!m&&!Or(l)&&!Or(x))return!1;if(m&&Or(x))continue;m=!1,l=x|1&l}}return Or(l)||m}function Or(t){return 0==(1&t)}function ni(t,r,o,l){if(null===r)return-1;let c=0;if(l||!o){let h=!1;for(;c<r.length;){const m=r[c];if(m===t)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let D=r[++c];for(;"string"==typeof D;)D=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function ie(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const l=t[o];if("number"==typeof l)return-1;if(l===r)return o;o++}return-1}(r,t)}function ki(t,r,o=!1){for(let l=0;l<r.length;l++)if(Ri(t,r[l],o))return!0;return!1}function Qe(t,r){e:for(let o=0;o<r.length;o++){const l=r[o];if(t.length===l.length){for(let c=0;c<t.length;c++)if(t[c]!==l[c])continue e;return!0}}return!1}function it(t,r){return t?":not("+r.trim()+")":r}function Ot(t){let r=t[0],o=1,l=2,c="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&l){const D=t[++o];c+="["+m+(D.length>0?'="'+D+'"':"")+"]"}else 8&l?c+="."+m:4&l&&(c+=" "+m);else""!==c&&!Or(m)&&(r+=it(h,c),c=""),l=m,h=h||!Or(l);o++}return""!==c&&(r+=it(h,c)),r}function y(t){return Et(()=>{var r;const o=fn(t),l={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(r=t.signals)&&void 0!==r&&r,data:t.data||{},encapsulation:t.encapsulation||yn.Emulated,styles:t.styles||pn,_:null,schemas:t.schemas||null,tView:null,id:""};Qt(l);const c=t.dependencies;return l.directiveDefs=En(c,!1),l.pipeDefs=En(c,!0),l.id=function Pr(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(l),l})}function O(t){return Jn(t)||qr(t)}function de(t){return null!==t}function at(t){return Et(()=>({type:t.type,bootstrap:t.bootstrap||pn,declarations:t.declarations||pn,imports:t.imports||pn,exports:t.exports||pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xn(t,r){if(null==t)return Nn;const o={};for(const l in t)if(t.hasOwnProperty(l)){let c=t[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=l,r&&(r[c]=h)}return o}function Ar(t){return Et(()=>{const r=fn(t);return Qt(r),r})}function Dr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jn(t){return t[tr]||null}function qr(t){return t[Br]||null}function hr(t){return t[yr]||null}function Lr(t){const r=Jn(t)||qr(t)||hr(t);return null!==r&&r.standalone}function si(t,r){const o=t[ci]||null;if(!o&&!0===r)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return o}function fn(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Nn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xn(t.inputs,r),outputs:Xn(t.outputs)}}function Qt(t){var r;null===(r=t.features)||void 0===r||r.forEach(o=>o(t))}function En(t,r){if(!t)return null;const o=r?hr:O;return()=>("function"==typeof t?t():t).map(l=>o(l)).filter(de)}const or=0,bn=1,ir=2,Ur=3,Ii=4,Xi=5,Pi=6,Mi=7,Vr=8,Bi=9,bi=10,lr=11,pe=12,Re=13,v=14,b=15,re=16,Pe=17,et=18,dt=19,$t=20,qt=21,gn=22,zn=23,ar=24,jn=25,ai=1,Yr=2,pr=7,mi=9,Hr=11;function Ir(t){return Array.isArray(t)&&"object"==typeof t[ai]}function Jr(t){return Array.isArray(t)&&!0===t[ai]}function ts(t){return 0!=(4&t.flags)}function Ji(t){return t.componentOffset>-1}function bo(t){return 1==(1&t.flags)}function eo(t){return!!t.template}function Ts(t){return 0!=(512&t[ir])}function ao(t,r){return t.hasOwnProperty(Wr)?t[Wr]:null}let Gi=null,go=!1;function to(t){const r=Gi;return Gi=t,r}const _a={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function lo(t){if(!wo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Xa(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Go(t){var r;t.dirty=!0,function gs(t){if(void 0===t.liveConsumerNode)return;const r=go;go=!0;try{for(const o of t.liveConsumerNode)o.dirty||Go(o)}finally{go=r}}(t),null===(r=t.consumerMarkedDirty)||void 0===r||r.call(t,t)}function Qa(t){return t&&(t.nextProducerIndex=0),to(t)}function Co(t,r){if(to(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(wo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Wo(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Xa(t){ms(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],l=t.producerLastReadVersion[r];if(l!==o.version||(lo(o),l!==o.version))return!0}return!1}function li(t){if(ms(t),wo(t))for(let r=0;r<t.producerNode.length;r++)Wo(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wo(t,r){if(function va(t){var r,o;null!==(r=t.liveConsumerNode)&&void 0!==r||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),ms(t),1===t.liveConsumerNode.length)for(let l=0;l<t.producerNode.length;l++)Wo(t.producerNode[l],t.producerIndexOfThis[l]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const l=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];ms(c),c.producerIndexOfThis[l]=r}}function wo(t){var r,o;return t.consumerIsAlwaysLive||(null!==(r=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==r?r:0)>0}function ms(t){var r,o,l;null!==(r=t.producerNode)&&void 0!==r||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(l=t.producerLastReadVersion)&&void 0!==l||(t.producerLastReadVersion=[])}let Rs=null;function lt(t){const r=to(null);try{return t()}finally{to(r)}}const _n=()=>{},Mr=(()=>({..._a,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:_n}))();class Kr{constructor(r,o,l){this.previousValue=r,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Hn(){return ri}function ri(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ci),Zr}function Zr(){const t=tn(this),r=null==t?void 0:t.current;if(r){const o=t.previous;if(o===Nn)t.previous=r;else for(let l in r)o[l]=r[l];t.current=null,this.ngOnChanges(r)}}function Ci(t,r,o,l){const c=this.declaredInputs[o],h=tn(t)||function di(t,r){return t[ns]=r}(t,{previous:Nn,current:null}),m=h.current||(h.current={}),D=h.previous,x=D[c];m[c]=new Kr(x&&x.currentValue,r,D===Nn),t[l]=r}Hn.ngInherit=!0;const ns="__ngSimpleChanges__";function tn(t){return t[ns]||null}const Mn=function(t,r,o){};function Xt(t){for(;Array.isArray(t);)t=t[or];return t}function dn(t,r){return Xt(r[t])}function ii(t,r){return Xt(r[t.index])}function Hc(t,r){return t.data[r]}function Ro(t,r){const o=r[t];return Ir(o)?o:o[or]}function Ps(t,r){return null==r?null:t[r]}function rh(t){t[Pe]=0}function zc(t){1024&t[ir]||(t[ir]|=1024,Cr(t,1))}function rs(t){1024&t[ir]&&(t[ir]&=-1025,Cr(t,-1))}function Cr(t,r){let o=t[Ur];if(null===o)return;o[Xi]+=r;let l=o;for(o=o[Ur];null!==o&&(1===r&&1===l[Xi]||-1===r&&0===l[Xi]);)o[Xi]+=r,l=o,o=o[Ur]}const Un={lFrame:hi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vn(){return Un.bindingsEnabled}function Uo(){return null!==Un.skipHydrationRootTNode}function rn(){return Un.lFrame.lView}function ur(){return Un.lFrame.tView}function su(t){return Un.lFrame.contextLView=t,t[Vr]}function Do(t){return Un.lFrame.contextLView=null,t}function no(){let t=el();for(;null!==t&&64===t.type;)t=t.parent;return t}function el(){return Un.lFrame.currentTNode}function mo(t,r){const o=Un.lFrame;o.currentTNode=t,o.isParent=r}function Da(){return Un.lFrame.isParent}function Mt(){Un.lFrame.isParent=!1}function Ki(){const t=Un.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Yo(){return Un.lFrame.bindingIndex++}function os(t){const r=Un.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function k(t,r){const o=Un.lFrame;o.bindingIndex=o.bindingRootIndex=t,B(r)}function B(t){Un.lFrame.currentDirectiveIndex=t}function ze(){return Un.lFrame.currentQueryIndex}function vt(t){Un.lFrame.currentQueryIndex=t}function Cn(t){const r=t[bn];return 2===r.type?r.declTNode:1===r.type?t[Pi]:null}function kt(t,r,o){if(o&hn.SkipSelf){let c=r,h=t;for(;!(c=c.parent,null!==c||o&hn.Host||(c=Cn(h),null===c||(h=h[v],10&c.type))););if(null===c)return!1;r=c,t=h}const l=Un.lFrame=dr();return l.currentTNode=r,l.lView=t,!0}function Rn(t){const r=dr(),o=t[bn];Un.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function dr(){const t=Un.lFrame,r=null===t?null:t.child;return null===r?hi(t):r}function hi(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function co(){const t=Un.lFrame;return Un.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fi=co;function ro(){const t=co();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function io(){return Un.lFrame.selectedIndex}function ss(t){Un.lFrame.selectedIndex=t}function Li(){const t=Un.lFrame;return Hc(t.tView,t.selectedIndex)}let Yu=!0;function Ku(){return Yu}function Vs(t){Yu=t}function Rl(t,r){for(let z=r.directiveStart,se=r.directiveEnd;z<se;z++){const ut=t.data[z].type.prototype,{ngAfterContentInit:It,ngAfterContentChecked:Wt,ngAfterViewInit:vn,ngAfterViewChecked:$n,ngOnDestroy:nr}=ut;var o,l,c,h,m,D,x;It&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-z,It),Wt&&((null!==(l=t.contentHooks)&&void 0!==l?l:t.contentHooks=[]).push(z,Wt),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(z,Wt)),vn&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-z,vn),$n&&((null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(z,$n),(null!==(D=t.viewCheckHooks)&&void 0!==D?D:t.viewCheckHooks=[]).push(z,$n)),null!=nr&&(null!==(x=t.destroyHooks)&&void 0!==x?x:t.destroyHooks=[]).push(z,nr)}}function lu(t,r,o){Ml(t,r,3,o)}function rl(t,r,o,l){(3&t[ir])===o&&Ml(t,r,o,l)}function Pl(t,r){let o=t[ir];(3&o)===r&&(o&=8191,o+=1,t[ir]=o)}function Ml(t,r,o,l){const h=null!=l?l:-1,m=r.length-1;let D=0;for(let x=void 0!==l?65535&t[Pe]:0;x<m;x++)if("number"==typeof r[x+1]){if(D=r[x],null!=l&&D>=l)break}else r[x]<0&&(t[Pe]+=65536),(D<h||-1==h)&&(Zu(t,o,r,x),t[Pe]=(4294901760&t[Pe])+x+2),x++}function _o(t,r){Mn(4,t,r);const o=to(null);try{r.call(t)}finally{to(o),Mn(5,t,r)}}function Zu(t,r,o,l){const c=o[l]<0,h=o[l+1],D=t[c?-o[l]:o[l]];c?t[ir]>>13<t[Pe]>>16&&(3&t[ir])===r&&(t[ir]+=8192,_o(D,h)):_o(D,h)}const as=-1;class Es{constructor(r,o,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function uu(t){return t!==as}function Zi(t){return 32767&t}function Is(t,r){let o=function qc(t){return t>>16}(t),l=r;for(;o>0;)l=l[v],o--;return l}let Ui=!0;function Ko(t){const r=Ui;return Ui=t,r}const Zs=255,xl=5;let Kf=0;const yo={};function Qs(t,r){const o=Cs(t,r);if(-1!==o)return o;const l=r[bn];l.firstCreatePass&&(t.injectorIndex=r.length,Bs(l.data,t),Bs(r,null),Bs(l.blueprint,null));const c=Xs(t,r),h=t.injectorIndex;if(uu(c)){const m=Zi(c),D=Is(c,r),x=D[bn].data;for(let z=0;z<8;z++)r[h+z]=D[m+z]|x[m+z]}return r[h+8]=c,h}function Bs(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Cs(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Xs(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,l=null,c=r;for(;null!==c;){if(l=$i(c),null===l)return as;if(o++,c=c[v],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return as}function Ms(t,r,o){!function $s(t,r,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(vi)&&(l=o[vi]),null==l&&(l=o[vi]=Kf++);const c=l&Zs;r.data[t+(c>>xl)]|=1<<c}(t,r,o)}function ol(t,r,o){if(o&hn.Optional||void 0!==t)return t;De()}function Ol(t,r,o,l){if(o&hn.Optional&&void 0===l&&(l=null),!(o&(hn.Self|hn.Host))){const c=t[Bi],h=Qn(void 0);try{return c?c.get(r,l,o&hn.Optional):mr(r,l,o&hn.Optional)}finally{Qn(h)}}return ol(l,0,o)}function cu(t,r,o,l=hn.Default,c){if(null!==t){if(2048&r[ir]&&!(l&hn.Self)){const m=function Qc(t,r,o,l,c){let h=t,m=r;for(;null!==h&&null!==m&&2048&m[ir]&&!(512&m[ir]);){const D=Ta(h,m,o,l|hn.Self,yo);if(D!==yo)return D;let x=h.parent;if(!x){const z=m[$t];if(z){const se=z.get(o,yo,l);if(se!==yo)return se}x=$i(m),m=m[v]}h=x}return c}(t,r,o,l,yo);if(m!==yo)return m}const h=Ta(t,r,o,l,yo);if(h!==yo)return h}return Ol(r,o,l,c)}function Ta(t,r,o,l,c){const h=function Xu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(vi)?t[vi]:void 0;return"number"==typeof r?r>=0?r&Zs:Ju:r}(o);if("function"==typeof h){if(!kt(r,t,l))return l&hn.Host?ol(c,0,l):Ol(r,o,l,c);try{let m;if(m=h(l),null!=m||l&hn.Optional)return m;De()}finally{fi()}}else if("number"==typeof h){let m=null,D=Cs(t,r),x=as,z=l&hn.Host?r[b][Pi]:null;for((-1===D||l&hn.SkipSelf)&&(x=-1===D?Xs(t,r):r[D+8],x!==as&&Sa(l,!1)?(m=r[bn],D=Zi(x),r=Is(x,r)):D=-1);-1!==D;){const se=r[bn];if(hu(h,D,se.data)){const xe=du(D,r,o,m,l,z);if(xe!==yo)return xe}x=r[D+8],x!==as&&Sa(l,r[bn].data[D+8]===z)&&hu(h,D,r)?(m=se,D=Zi(x),r=Is(x,r)):D=-1}}return c}function du(t,r,o,l,c,h){const m=r[bn],D=m.data[t+8],se=ba(D,m,o,null==l?Ji(D)&&Ui:l!=m&&0!=(3&D.type),c&hn.Host&&h===D);return null!==se?Aa(r,m,se,D):yo}function ba(t,r,o,l,c){const h=t.providerIndexes,m=r.data,D=1048575&h,x=t.directiveStart,se=h>>20,ut=c?D+se:t.directiveEnd;for(let It=l?D:D+se;It<ut;It++){const Wt=m[It];if(It<x&&o===Wt||It>=x&&Wt.type===o)return It}if(c){const It=m[x];if(It&&eo(It)&&It.type===o)return x}return null}function Aa(t,r,o,l){let c=t[o];const h=r.data;if(function xi(t){return t instanceof Es}(c)){const m=c;m.resolving&&function te(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ue(-200,`Circular dependency in DI detected for ${t}${o}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():be(t)}(h[o]));const D=Ko(m.canSeeViewProviders);m.resolving=!0;const z=m.injectImpl?Qn(m.injectImpl):null;kt(t,l,hn.Default);try{c=t[o]=m.factory(void 0,h,t,l),r.firstCreatePass&&o>=l.directiveStart&&function ah(t,r,o){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(l){var m,D;const xe=ri(r);(null!==(m=o.preOrderHooks)&&void 0!==m?m:o.preOrderHooks=[]).push(t,xe),(null!==(D=o.preOrderCheckHooks)&&void 0!==D?D:o.preOrderCheckHooks=[]).push(t,xe)}var x,z,se;c&&(null!==(x=o.preOrderHooks)&&void 0!==x?x:o.preOrderHooks=[]).push(0-t,c),h&&((null!==(z=o.preOrderHooks)&&void 0!==z?z:o.preOrderHooks=[]).push(t,h),(null!==(se=o.preOrderCheckHooks)&&void 0!==se?se:o.preOrderCheckHooks=[]).push(t,h))}(o,h[o],r)}finally{null!==z&&Qn(z),Ko(D),m.resolving=!1,fi()}}return c}function hu(t,r,o){return!!(o[r+(t>>xl)]&1<<t)}function Sa(t,r){return!(t&hn.Self||t&hn.Host&&r)}class No{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,l){return cu(this._tNode,this._lView,r,Bt(l),o)}}function Ju(){return new No(no(),rn())}function Zc(t){return Et(()=>{const r=t.prototype.constructor,o=r[Wr]||ho(r),l=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==l;){const h=c[Wr]||ho(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function ho(t){return We(t)?()=>{const r=ho(nt(t));return r&&r()}:ao(t)}function $i(t){const r=t[bn],o=r.type;return 2===o?r.declTNode:1===o?t[Pi]:null}function Us(t){return function lh(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const l=o.length;let c=0;for(;c<l;){const h=o[c];if(rr(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof o[c];)c++;else{if(h===r)return o[c+1];c+=2}}}return null}(no(),t)}const Pa="__annotations__",Js="__parameters__",js="__prop__metadata__";function uh(t,r,o,l,c){return Et(()=>{const h=ec(r);function m(...D){if(this instanceof m)return h.call(this,...D),this;const x=new m(...D);return function(se){return c&&c(se,...D),(se.hasOwnProperty(Pa)?se[Pa]:Object.defineProperty(se,Pa,{value:[]})[Pa]).push(x),l&&l(se),se}}return o&&(m.prototype=Object.create(o.prototype)),m.prototype.ngMetadataName=t,m.annotationCls=m,m})}function ec(t){return function(...o){if(t){const l=t(...o);for(const c in l)this[c]=l[c]}}}function zr(t,r,o){return Et(()=>{const l=ec(r);function c(...h){if(this instanceof c)return l.apply(this,h),this;const m=new c(...h);return D.annotation=m,D;function D(x,z,se){const xe=x.hasOwnProperty(Js)?x[Js]:Object.defineProperty(x,Js,{value:[]})[Js];for(;xe.length<=se;)xe.push(null);return(xe[se]=xe[se]||[]).push(m),x}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const Nl=zr("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>Us(t)}));function Eo(t){const r=en.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const hh=Function;function al(t){return"function"==typeof t}function kl(t,r){t.forEach(o=>Array.isArray(o)?kl(o,r):r(o))}function ph(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Fl(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Ds(t,r){const o=[];for(let l=0;l<t;l++)o.push(r);return o}function Zo(t,r,o){let l=ea(t,r);return l>=0?t[1|l]=o:(l=~l,function nc(t,r,o,l){let c=t.length;if(c==r)t.push(o,l);else if(1===c)t.push(l,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=o,t[r+1]=l}}(t,l,r,o)),l}function us(t,r){const o=ea(t,r);if(o>=0)return t[1|o]}function ea(t,r){return function gu(t,r,o){let l=0,c=t.length>>o;for(;c!==l;){const h=l+(c-l>>1),m=t[h<<o];if(r===m)return h<<o;m>r?c=h:l=h+1}return~(c<<o)}(t,r,1)}const ed=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,ll=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,jo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,rc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class nd{constructor(r){this._reflect=r||en.Reflect}factory(r){return(...o)=>new r(...o)}_zipTypesAndAnnotations(r,o){let l;l=Ds(typeof r>"u"?o.length:r.length);for(let c=0;c<l.length;c++)l[c]=typeof r>"u"?[]:r[c]&&r[c]!=Object?[r[c]]:[],o&&null!=o[c]&&(l[c]=l[c].concat(o[c]));return l}_ownParameters(r,o){if(function td(t){return ed.test(t)||rc.test(t)||ll.test(t)&&!jo.test(t)}(r.toString()))return null;if(r.parameters&&r.parameters!==o.parameters)return r.parameters;const c=r.ctorParameters;if(c&&c!==o.ctorParameters){const D="function"==typeof c?c():c,x=D.map(se=>se&&se.type),z=D.map(se=>se&&ta(se.decorators));return this._zipTypesAndAnnotations(x,z)}const h=r.hasOwnProperty(Js)&&r[Js],m=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",r);return m||h?this._zipTypesAndAnnotations(m,h):Ds(r.length)}parameters(r){if(!al(r))return[];const o=Ll(r);let l=this._ownParameters(r,o);return!l&&o!==Object&&(l=this.parameters(o)),l||[]}_ownAnnotations(r,o){if(r.annotations&&r.annotations!==o.annotations){let l=r.annotations;return"function"==typeof l&&l.annotations&&(l=l.annotations),l}return r.decorators&&r.decorators!==o.decorators?ta(r.decorators):r.hasOwnProperty(Pa)?r[Pa]:null}annotations(r){if(!al(r))return[];const o=Ll(r),l=this._ownAnnotations(r,o)||[];return(o!==Object?this.annotations(o):[]).concat(l)}_ownPropMetadata(r,o){if(r.propMetadata&&r.propMetadata!==o.propMetadata){let l=r.propMetadata;return"function"==typeof l&&l.propMetadata&&(l=l.propMetadata),l}if(r.propDecorators&&r.propDecorators!==o.propDecorators){const l=r.propDecorators,c={};return Object.keys(l).forEach(h=>{c[h]=ta(l[h])}),c}return r.hasOwnProperty(js)?r[js]:null}propMetadata(r){if(!al(r))return{};const o=Ll(r),l={};if(o!==Object){const h=this.propMetadata(o);Object.keys(h).forEach(m=>{l[m]=h[m]})}const c=this._ownPropMetadata(r,o);return c&&Object.keys(c).forEach(h=>{const m=[];l.hasOwnProperty(h)&&m.push(...l[h]),m.push(...c[h]),l[h]=m}),l}ownPropMetadata(r){return al(r)&&this._ownPropMetadata(r,Ll(r))||{}}hasLifecycleHook(r,o){return r instanceof hh&&o in r.prototype}}function ta(t){return t?t.map(r=>new(0,r.type.annotationCls)(...r.args?r.args:[])):[]}function Ll(t){const r=t.prototype?Object.getPrototypeOf(t.prototype):null;return(r?r.constructor:null)||Object}const na=nn(zr("Inject",t=>({token:t})),-1),ra=nn(zr("Optional"),8),rd=nn(zr("Self"),2),mu=nn(zr("SkipSelf"),4),tp=nn(zr("Host"),1);let Hs=null;function Mo(t){return ic(function id(){return Hs=Hs||new nd}().parameters(t))}function ic(t){return t.map(r=>function _u(t){const r={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let o=0;o<t.length;o++){const l=t[o];if(void 0===l)continue;const c=Object.getPrototypeOf(l);if(l instanceof ra||"Optional"===c.ngMetadataName)r.optional=!0;else if(l instanceof mu||"SkipSelf"===c.ngMetadataName)r.skipSelf=!0;else if(l instanceof rd||"Self"===c.ngMetadataName)r.self=!0;else if(l instanceof tp||"Host"===c.ngMetadataName)r.host=!0;else if(l instanceof na)r.token=l.token;else if(l instanceof Nl){if(void 0===l.attributeName)throw new ue(204,!1);r.attribute=l.attributeName}else r.token=l}else r.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return r}(r))}function ad(t){return 128==(128&t.flags)}var ul=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ul||{});const op=/^>|^->|<!--|-->|--!>|<!-$/g,sp=/(<|>)/g,ap="\u200b$1\u200b";const lp=new Map;let pv=0;const Ch="__ngContext__";function ko(t,r){Ir(r)?(t[Ch]=r[dt],function gi(t){lp.set(t[dt],t)}(r)):t[Ch]=r}let gp;function mp(t,r){return gp(t,r)}function yu(t){const r=t[Ur];return Jr(r)?r[Ur]:r}function mm(t){return Dh(t[pe])}function fo(t){return Dh(t[Ii])}function Dh(t){for(;null!==t&&!Jr(t);)t=t[Ii];return t}function Eu(t,r,o,l,c){if(null!=l){let h,m=!1;Jr(l)?h=l:Ir(l)&&(m=!0,l=l[or]);const D=Xt(l);0===t&&null!==o?null==c?Im(r,o,D):Iu(r,o,D,c||null,!0):1===t&&null!==o?Iu(r,o,D,c||null,!0):2===t?function zl(t,r,o){const l=fd(t,r);l&&function jl(t,r,o,l){t.removeChild(r,o,l)}(t,l,r,o)}(r,D,m):3===t&&r.destroyNode(D),null!=h&&function Iv(t,r,o,l,c){const h=o[pr];h!==Xt(o)&&Eu(r,t,l,h,c);for(let D=Hr;D<o.length;D++){const x=o[D];wu(x[bn],x,t,r,l,h)}}(r,t,h,o,c)}}function ud(t,r){return t.createComment(function Eh(t){return t.replace(op,r=>r.replace(sp,ap))}(r))}function cd(t,r,o){return t.createElement(r,o)}function cc(t,r){const o=t[mi],l=o.indexOf(r);rs(r),o.splice(l,1)}function dc(t,r){if(t.length<=Hr)return;const o=Hr+r,l=t[o];if(l){const c=l[re];null!==c&&c!==t&&cc(c,l),r>0&&(t[o-1][Ii]=l[Ii]);const h=Fl(t,Hr+r);!function dd(t,r){wu(t,r,r[lr],2,null,null),r[or]=null,r[Pi]=null}(l[bn],l);const m=h[et];null!==m&&m.detachView(h[bn]),l[Ur]=null,l[Ii]=null,l[ir]&=-129}return l}function _p(t,r){if(!(256&r[ir])){const o=r[lr];r[zn]&&li(r[zn]),r[ar]&&li(r[ar]),o.destroyNode&&wu(t,r,o,3,null,null),function ym(t){let r=t[pe];if(!r)return Th(t[bn],t);for(;r;){let o=null;if(Ir(r))o=r[pe];else{const l=r[Hr];l&&(o=l)}if(!o){for(;r&&!r[Ii]&&r!==t;)Ir(r)&&Th(r[bn],r),r=r[Ur];null===r&&(r=t),Ir(r)&&Th(r[bn],r),o=r&&r[Ii]}r=o}}(r)}}function Th(t,r){if(!(256&r[ir])){r[ir]&=-129,r[ir]|=256,function Em(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let l=0;l<o.length;l+=2){const c=r[o[l]];if(!(c instanceof Es)){const h=o[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const D=c[h[m]],x=h[m+1];Mn(4,D,x);try{x.call(D)}finally{Mn(5,D,x)}}else{Mn(4,c,h);try{h.call(c)}finally{Mn(5,c,h)}}}}}(t,r),function vp(t,r){const o=t.cleanup,l=r[Mi];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?l[m]():l[-m].unsubscribe(),h+=2}else o[h].call(l[o[h+1]]);null!==l&&(r[Mi]=null);const c=r[qt];if(null!==c){r[qt]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,r),1===r[bn].type&&r[lr].destroy();const o=r[re];if(null!==o&&Jr(r[Ur])){o!==r[Ur]&&cc(o,r);const l=r[et];null!==l&&l.detachView(t)}!function hm(t){lp.delete(t[dt])}(r)}}function yp(t,r,o){return function Ep(t,r,o){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return o[or];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:h}=t.data[l.directiveStart+c];if(h===yn.None||h===yn.Emulated)return null}return ii(l,o)}}(t,r.parent,o)}function Iu(t,r,o,l,c){t.insertBefore(r,o,l,c)}function Im(t,r,o){t.appendChild(r,o)}function Cm(t,r,o,l,c){null!==l?Iu(t,r,o,l,c):Im(t,r,o)}function fd(t,r){return t.parentNode(r)}function Ip(t,r,o){return Cp(t,r,o)}let wp,Fa,hl,_d,Cp=function ka(t,r,o){return 40&t.type?ii(t,o):null};function Cu(t,r,o,l){const c=yp(t,l,r),h=r[lr],D=Ip(l.parent||r[Pi],l,r);if(null!=c)if(Array.isArray(o))for(let x=0;x<o.length;x++)Cm(h,c,o[x],D,!1);else Cm(h,c,o,D,!1);void 0!==wp&&wp(h,l,r,o,c)}function aa(t,r){if(null!==r){const o=r.type;if(3&o)return ii(r,t);if(4&o)return dl(-1,t[r.index]);if(8&o){const l=r.child;if(null!==l)return aa(t,l);{const c=t[r.index];return Jr(c)?dl(-1,c):Xt(c)}}if(32&o)return mp(r,t)()||Xt(t[r.index]);{const l=Hl(t,r);return null!==l?Array.isArray(l)?l[0]:aa(yu(t[b]),l):aa(t,r.next)}}return null}function Hl(t,r){return null!==r?t[b][Pi].projection[r.projection]:null}function dl(t,r){const o=Hr+t+1;if(o<r.length){const l=r[o],c=l[bn].firstChild;if(null!==c)return aa(l,c)}return r[pr]}function pd(t,r,o,l,c,h,m){for(;null!=o;){const D=l[o.index],x=o.type;if(m&&0===r&&(D&&ko(Xt(D),l),o.flags|=2),32!=(32&o.flags))if(8&x)pd(t,r,o.child,l,c,h,!1),Eu(r,t,c,D,h);else if(32&x){const z=mp(o,l);let se;for(;se=z();)Eu(r,t,c,se,h);Eu(r,t,c,D,h)}else 16&x?bp(t,r,l,o,c,h):Eu(r,t,c,D,h);o=m?o.projectionNext:o.next}}function wu(t,r,o,l,c,h){pd(o,l,t.firstChild,r,c,h,!1)}function bp(t,r,o,l,c,h){const m=o[b],x=m[Pi].projection[l.projection];if(Array.isArray(x))for(let z=0;z<x.length;z++)Eu(r,t,c,x[z],h);else{let z=x;const se=m[Ur];ad(l)&&(z.flags|=128),pd(t,r,z,se,c,h,!0)}}function gd(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function hc(t,r,o){const{mergedAttrs:l,classes:c,styles:h}=o;null!==l&&Rr(t,r,l),null!==c&&gd(t,r,c),null!==h&&function Tm(t,r,o){t.setAttribute(r,"style",o)}(t,r,h)}function Du(t){var r;return(null===(r=function Ap(){if(void 0===Fa&&(Fa=null,en.trustedTypes))try{Fa=en.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fa}())||void 0===r?void 0:r.createHTML(t))||t}function Gl(t){hl=t}function Sh(t){var r;return(null===(r=function bh(){if(void 0===_d&&(_d=null,en.trustedTypes))try{_d=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _d}())||void 0===r?void 0:r.createScriptURL(t))||t}class Wl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}class Sp extends Wl{getTypeName(){return"HTML"}}class Rp extends Wl{getTypeName(){return"Style"}}class Am extends Wl{getTypeName(){return"Script"}}class Rh extends Wl{getTypeName(){return"URL"}}class Dv extends Wl{getTypeName(){return"ResourceURL"}}function la(t){return t instanceof Wl?t.changingThisBreaksApplicationSecurity:t}function fl(t,r){const o=function Tv(t){return t instanceof Wl&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${ot})`)}return o===r}function Sm(t){return new Sp(t)}function fc(t){return new Rp(t)}function vd(t){return new Am(t)}function pc(t){return new Rh(t)}function Rm(t){return new Dv(t)}class Xo{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Du(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class Pm{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=Du(r),o}}const Mh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yd(t){return(t=String(t)).match(Mh)?t:"unsafe:"+t}function Jo(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function La(...t){const r={};for(const o of t)for(const l in o)o.hasOwnProperty(l)&&(r[l]=!0);return r}const Mp=Jo("area,br,col,hr,img,wbr"),ql=Jo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mm=Jo("rp,rt"),xh=La(Mp,La(ql,Jo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),La(Mm,Jo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),La(Mm,ql)),xp=Jo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Op=La(xp,Jo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sv=Jo("script,style,template");class Oh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!xh.hasOwnProperty(o))return this.sanitizedSomething=!0,!Sv.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=r.attributes;for(let c=0;c<l.length;c++){const h=l.item(c),m=h.name,D=m.toLowerCase();if(!Op.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=h.value;xp[D]&&(x=yd(x)),this.buf.push(" ",m,'="',Np(x),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();xh.hasOwnProperty(o)&&!Mp.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Np(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const xm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rv=/([^\#-~ |!])/g;function Np(t){return t.replace(/&/g,"&amp;").replace(xm,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Rv,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nh;function kp(t,r){let o=null;try{Nh=Nh||function Pp(t){const r=new Pm(t);return function Ph(){try{return!!(new window.DOMParser).parseFromString(Du(""),"text/html")}catch{return!1}}()?new Xo(r):r}(t);let l=r?String(r):"";o=Nh.getInertBodyElement(l);let c=5,h=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=h,h=o.innerHTML,o=Nh.getInertBodyElement(l)}while(l!==h);return Du((new Oh).sanitizeChildren(pl(o)||o))}finally{if(o){const l=pl(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function pl(t){return"content"in t&&function Id(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Yl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yl||{});function kh(t){const r=Au();return r?r.sanitize(Yl.URL,t)||"":fl(t,"URL")?la(t):yd(be(t))}function Nm(t){const r=Au();if(r)return Sh(r.sanitize(Yl.RESOURCE_URL,t)||"");if(fl(t,"ResourceURL"))return Sh(la(t));throw new ue(904,!1)}function km(t,r,o){return function xv(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Nm:kh}(r,o)(t)}function Au(){const t=rn();return t&&t[bi].sanitizer}const Cd=new sn("ENVIRONMENT_INITIALIZER"),wd=new sn("INJECTOR",-1),Dd=new sn("INJECTOR_DEF_TYPES");class Lp{get(r,o=st){if(o===st){const l=new Error(`NullInjectorError: No provider for ${ge(r)}!`);throw l.name="NullInjectorError",l}return o}}function $p(...t){return{\u0275providers:Fh(0,t),\u0275fromNgModule:!0}}function Fh(t,...r){const o=[],l=new Set;let c;const h=m=>{o.push(m)};return kl(r,m=>{const D=m;Su(D,h,[],l)&&(c||(c=[]),c.push(D))}),void 0!==c&&gc(c,h),o}function gc(t,r){for(let o=0;o<t.length;o++){const{ngModule:l,providers:c}=t[o];Td(c,h=>{r(h,l)})}}function Su(t,r,o,l){if(!(t=nt(t)))return!1;let c=null,h=wn(t);const m=!h&&Jn(t);if(h||m){if(m&&!m.standalone)return!1;c=t}else{const x=t.ngModule;if(h=wn(x),!h)return!1;c=x}const D=l.has(c);if(m){if(D)return!1;if(l.add(c),m.dependencies){const x="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const z of x)Su(z,r,o,l)}}else{if(!h)return!1;{if(null!=h.imports&&!D){let z;l.add(c);try{kl(h.imports,se=>{Su(se,r,o,l)&&(z||(z=[]),z.push(se))})}finally{}void 0!==z&&gc(z,r)}if(!D){const z=ao(c)||(()=>new c);r({provide:c,useFactory:z,deps:pn},c),r({provide:Dd,useValue:c,multi:!0},c),r({provide:Cd,useValue:()=>pt(c),multi:!0},c)}const x=h.providers;if(null!=x&&!D){const z=t;Td(x,se=>{r(se,z)})}}}return c!==t&&void 0!==t.providers}function Td(t,r){for(let o of t)He(o)&&(o=o.\u0275providers),Array.isArray(o)?Td(o,r):r(o)}const Ov=K({provide:String,useValue:K});function Lh(t){return null!==t&&"object"==typeof t&&Ov in t}function Kl(t){return"function"==typeof t}const jp=new sn("Set Injector scope."),bd={},Nv={};let Vh;function $h(){return void 0===Vh&&(Vh=new Lp),Vh}class ds{}class ua extends ds{get destroyed(){return this._destroyed}constructor(r,o,l,c){super(),this.parent=o,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sd(r,m=>this.processProvider(m)),this.records.set(wd,Ru(void 0,this)),c.has("environment")&&this.records.set(ds,Ru(void 0,this));const h=this.records.get(jp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Dd.multi,pn,hn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=ce(this),l=Qn(void 0);try{return r()}finally{ce(o),Qn(l)}}get(r,o=st,l=hn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Zn))return r[Zn](this);l=Bt(l);const h=ce(this),m=Qn(void 0);try{if(!(l&hn.SkipSelf)){let x=this.records.get(r);if(void 0===x){const z=function Fv(t){return"function"==typeof t||"object"==typeof t&&t instanceof sn}(r)&&Vt(r);x=z&&this.injectableDefInScope(z)?Ru(Ad(r),bd):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(l&hn.Self?$h():this.parent).get(r,o=l&hn.Optional&&o===st?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[St]=D[St]||[]).unshift(ge(r)),h)throw D;return function Gr(t,r,o,l){const c=t[St];throw r[R]&&c.unshift(r[R]),t.message=function xt(t,r,o,l=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=ge(r);if(Array.isArray(r))c=r.map(ge).join(" -> ");else if("object"==typeof r){let h=[];for(let m in r)if(r.hasOwnProperty(m)){let D=r[m];h.push(m+":"+("string"==typeof D?JSON.stringify(D):ge(D)))}c=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${c}]: ${t.replace(J,"\n  ")}`}("\n"+t.message,c,o,l),t.ngTokenPath=c,t[St]=null,t}(D,r,"R3InjectorError",this.source)}throw D}finally{Qn(m),ce(h)}}resolveInjectorInitializers(){const r=ce(this),o=Qn(void 0);try{const c=this.get(Cd.multi,pn,hn.Self);for(const h of c)h()}finally{ce(r),Qn(o)}}toString(){const r=[],o=this.records;for(const l of o.keys())r.push(ge(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(r){let o=Kl(r=nt(r))?r:nt(r&&r.provide);const l=function Vm(t){return Lh(t)?Ru(void 0,t.useValue):Ru(Hp(t),bd)}(r);if(Kl(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Ru(void 0,bd,!0),c.factory=()=>Zt(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,l)}hydrate(r,o){return o.value===bd&&(o.value=Nv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function zp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=nt(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Ad(t){const r=Vt(t),o=null!==r?r.factory:ao(t);if(null!==o)return o;if(t instanceof sn)throw new ue(204,!1);if(t instanceof Function)return function Bh(t){const r=t.length;if(r>0)throw Ds(r,"?"),new ue(204,!1);const o=function cn(t){return t&&(t[Jt]||t[On])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new ue(204,!1)}function Hp(t,r,o){let l;if(Kl(t)){const c=nt(t);return ao(c)||Ad(c)}if(Lh(t))l=()=>nt(t.useValue);else if(function Bp(t){return!(!t||!t.useFactory)}(t))l=()=>t.useFactory(...Zt(t.deps||[]));else if(function Lm(t){return!(!t||!t.useExisting)}(t))l=()=>pt(nt(t.useExisting));else{const c=nt(t&&(t.useClass||t.provide));if(!function kv(t){return!!t.deps}(t))return ao(c)||Ad(c);l=()=>new c(...Zt(t.deps))}return l}function Ru(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Sd(t,r){for(const o of t)Array.isArray(o)?Sd(o,r):o&&He(o)?Sd(o.\u0275providers,r):r(o)}const Gp=new sn("AppId",{providedIn:"root",factory:()=>$m}),$m="ng",Uh=new sn("Platform Initializer"),mc=new sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qp=new sn("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function Tu(){if(void 0!==hl)return hl;if(typeof document<"u")return document;throw new ue(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Gh=(t,r,o)=>null;function Mu(t,r,o=!1){return Gh(t,r,o)}class Uv{}class Kh{}class Jp{resolveComponentFactory(r){throw function jv(t){const r=Error(`No component factory found for ${ge(t)}.`);return r.ngComponent=t,r}(r)}}let xu=(()=>{class r{}return r.NULL=new Jp,r})();function eg(){return Ou(no(),rn())}function Ou(t,r){return new $a(ii(t,r))}let $a=(()=>{class r{constructor(l){this.nativeElement=l}}return r.__NG_ELEMENT_ID__=eg,r})();function tg(t){return t instanceof $a?t.nativeElement:t}class jm{}let Hv=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Hm(){const t=rn(),o=Ro(no().index,t);return(Ir(o)?o:t)[lr]}(),r})(),zm=(()=>{var t;class r{}return(t=r).\u0275prov=Dt({token:t,providedIn:"root",factory:()=>null}),r})();class Gm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Qh=new Gm("16.2.12"),ng={},Xh={\u0275\u0275defineInjectable:Dt,\u0275\u0275defineInjector:Ct,\u0275\u0275inject:pt,\u0275\u0275invalidFactoryDep:function wt(t){throw new ue(202,!1)},resolveForwardRef:nt};const ig=K({provide:String,useValue:K});function og(t){return void 0!==t.useClass}function Jh(t){return void 0!==t.useFactory}const Zl=uh("Injectable",void 0,void 0,void 0,(t,r)=>function zv(t,r){let o=null,l=null;t.hasOwnProperty(Jt)||Object.defineProperty(t,Jt,{get:()=>(null===o&&(o=Eo().compileInjectable(Xh,`ng:///${t.name}/\u0275prov.js`,function Tc(t,r){const o=r||{providedIn:null},l={name:t.name,type:t,typeArgumentCount:0,providedIn:o.providedIn};return(og(o)||Jh(o))&&void 0!==o.deps&&(l.deps=ic(o.deps)),og(o)?l.useClass=o.useClass:function sg(t){return ig in t}(o)?l.useValue=o.useValue:Jh(o)?l.useFactory=o.useFactory:function ag(t){return void 0!==t.useExisting}(o)&&(l.useExisting=o.useExisting),l}(t,r))),o)}),t.hasOwnProperty(Wr)||Object.defineProperty(t,Wr,{get:()=>{if(null===l){const c=Eo();l=c.compileFactory(Xh,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:Mo(t),target:c.FactoryTarget.Injectable})}return l},configurable:!0})}(t,r));function ef(t,r=null,o=null,l){const c=Nu(t,r,o,l);return c.resolveInjectorInitializers(),c}function Nu(t,r=null,o=null,l,c=new Set){const h=[o||pn,$p(t)];return l=l||("object"==typeof t?void 0:ge(t)),new ua(h,r||$h(),l||null,c)}let es=(()=>{var t;class r{static create(l,c){if(Array.isArray(l))return ef({name:""},c,l,"");{var h;const m=null!==(h=l.name)&&void 0!==h?h:"";return ef({name:m},l.parent,l.providers,m)}}}return(t=r).THROW_IF_NOT_FOUND=st,t.NULL=new Lp,t.\u0275prov=Dt({token:t,providedIn:"any",factory:()=>pt(wd)}),t.__NG_ELEMENT_ID__=-1,r})();function ug(t){return t.ngOriginalError}class Ql{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&ug(r);for(;o&&ug(o);)o=ug(o);return o||null}}function hg(t){return r=>{setTimeout(t,void 0,r)}}const Ba=class dg extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,l){let c=r,h=o||(()=>null),m=l;if(r&&"object"==typeof r){var D,x,z;const xe=r;c=null===(D=xe.next)||void 0===D?void 0:D.bind(xe),h=null===(x=xe.error)||void 0===x?void 0:x.bind(xe),m=null===(z=xe.complete)||void 0===z?void 0:z.bind(xe)}this.__isAsync&&(h=hg(h),c&&(c=hg(c)),m&&(m=hg(m)));const se=super.subscribe({next:c,error:h,complete:m});return r instanceof _.w0&&r.add(se),se}};function tf(...t){}class Oo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&o,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function fg(){const t="function"==typeof en.requestAnimationFrame;let r=en[t?"requestAnimationFrame":"setTimeout"],o=en[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Km(t){const r=()=>{!function Ym(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(en,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rf(t),t.isCheckStableRunning=!0,nf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,c,h,m,D)=>{if(function pg(t){var r;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(r=t[0].data)||void 0===r?void 0:r.__ignore_ng_zone__)}(D))return o.invokeTask(c,h,m,D);try{return Zm(t),o.invokeTask(c,h,m,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&r(),Qm(t)}},onInvoke:(o,l,c,h,m,D,x)=>{try{return Zm(t),o.invoke(c,h,m,D,x)}finally{t.shouldCoalesceRunChangeDetection&&r(),Qm(t)}},onHasTask:(o,l,c,h)=>{o.hasTask(c,h),l===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,rf(t),nf(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,c,h)=>(o.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oo.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(Oo.isInAngularZone())throw new ue(909,!1)}run(r,o,l){return this._inner.run(r,o,l)}runTask(r,o,l,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,r,Gv,tf,tf);try{return h.runTask(m,o,l)}finally{h.cancelTask(m)}}runGuarded(r,o,l){return this._inner.runGuarded(r,o,l)}runOutsideAngular(r){return this._outer.run(r)}}const Gv={};function nf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qm(t){t._nesting--,nf(t)}class Wv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(r,o,l){return r.apply(o,l)}runGuarded(r,o,l){return r.apply(o,l)}runOutsideAngular(r){return r()}runTask(r,o,l,c){return r.apply(o,l)}}const Xm=new sn("",{providedIn:"root",factory:sf});function sf(){const t=Pt(Oo);let r=!0;const o=new N.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),l=new N.y(c=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{Oo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const m=t.onUnstable.subscribe(()=>{Oo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});return(0,F.T)(o,l.pipe((0,Q.B)()))}function ca(t){return t instanceof Function?t():t}let _g=(()=>{var t;class r{constructor(){this.renderDepth=0,this.handler=null}begin(){var l;null===(l=this.handler)||void 0===l||l.validateBegin(),this.renderDepth++}end(){var l;this.renderDepth--,0===this.renderDepth&&(null===(l=this.handler)||void 0===l||l.execute())}ngOnDestroy(){var l;null===(l=this.handler)||void 0===l||l.destroy(),this.handler=null}}return(t=r).\u0275prov=Dt({token:t,providedIn:"root",factory:()=>new t}),r})();function Fu(t){for(;t;){t[ir]|=64;const r=yu(t);if(Ts(t)&&!r)return t;t=r}return null}const t_=new sn("",{providedIn:"root",factory:()=>!1});let kd=null;function s_(t,r){var o;return null!==(o=t[r])&&void 0!==o?o:a_()}function hf(t,r){var o;const l=a_();null!==(o=l.producerNode)&&void 0!==o&&o.length&&(t[r]=kd,l.lView=t,kd=ff())}const Kv={..._a,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Fu(t.lView)},lView:null};function ff(){return Object.create(Kv)}function a_(){var t;return null!==(t=kd)&&void 0!==t||(kd=ff()),kd}const $r={};function l_(t){pf(ur(),rn(),io()+t,!1)}function pf(t,r,o,l){if(!l)if(3==(3&r[ir])){const h=t.preOrderCheckHooks;null!==h&&lu(r,h,o)}else{const h=t.preOrderHooks;null!==h&&rl(r,h,0,o)}ss(o)}function Lu(t,r=hn.Default){const o=rn();return null===o?pt(t,r):cu(no(),o,nt(t),r)}function gf(){throw new Error("invalid")}function mf(t,r,o,l,c,h,m,D,x,z,se){const xe=r.blueprint.slice();return xe[or]=c,xe[ir]=140|l,(null!==z||t&&2048&t[ir])&&(xe[ir]|=2048),rh(xe),xe[Ur]=xe[v]=t,xe[Vr]=o,xe[bi]=m||t&&t[bi],xe[lr]=D||t&&t[lr],xe[Bi]=x||t&&t[Bi]||null,xe[Pi]=h,xe[dt]=function To(){return pv++}(),xe[gn]=se,xe[$t]=z,xe[b]=2==r.type?t[b]:xe,xe}function Sc(t,r,o,l,c){let h=t.data[r];if(null===h)h=function Fd(t,r,o,l,c){const h=el(),m=Da(),x=t.data[r]=function Xv(t,r,o,l,c,h){let m=r?r.injectorIndex:-1,D=0;return Uo()&&(D|=128),{type:o,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,r,l,c);return null===t.firstChild&&(t.firstChild=x),null!==h&&(m?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x,x.prev=h)),x}(t,r,o,l,c),function C(){return Un.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=l,h.attrs=c;const m=function wa(){const t=Un.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return mo(h,!0),h}function Ld(t,r,o,l){if(0===o)return-1;const c=r.length;for(let h=0;h<o;h++)r.push(l),t.blueprint.push(l),t.data.push(null);return c}function _f(t,r,o,l,c){const h=s_(r,zn),m=io(),D=2&l;try{ss(-1),D&&r.length>jn&&pf(t,r,jn,!1),Mn(D?2:0,c);const z=D?h:null,se=Qa(z);try{null!==z&&(z.dirty=!1),o(l,c)}finally{Co(z,se)}}finally{D&&null===r[zn]&&hf(r,zn),ss(m),Mn(D?3:1,c)}}function Vd(t,r,o){if(ts(r)){const l=to(null);try{const h=r.directiveEnd;for(let m=r.directiveStart;m<h;m++){const D=t.data[m];D.contentQueries&&D.contentQueries(1,o[m],m)}}finally{to(l)}}}function $d(t,r,o){Vn()&&(function g_(t,r,o,l){const c=o.directiveStart,h=o.directiveEnd;Ji(o)&&function ny(t,r,o){const l=ii(r,t),c=Rc(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const D=jd(t,mf(t,c,null,m,l,r,null,t[bi].rendererFactory.createRenderer(l,o),null,null,null));t[r.index]=D}(r,o,t.data[c+o.componentOffset]),t.firstCreatePass||Qs(o,r),ko(l,r);const m=o.initialInputs;for(let D=c;D<h;D++){const x=t.data[D],z=Aa(r,t,D,o);ko(z,r),null!==m&&ry(0,D-c,z,x,0,m),eo(x)&&(Ro(o.index,r)[Vr]=Aa(r,t,D,o))}}(t,r,o,ii(o,r)),64==(64&o.flags)&&Ef(t,r,o))}function Cg(t,r,o=ii){const l=r.localNames;if(null!==l){let c=r.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],D=-1===m?o(r,t):t[m];t[c++]=D}}}function Rc(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=wg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function wg(t,r,o,l,c,h,m,D,x,z,se){const xe=jn+l,ut=xe+c,It=function Dg(t,r){const o=[];for(let l=0;l<r;l++)o.push(l<t?null:$r);return o}(xe,ut),Wt="function"==typeof z?z():z;return It[bn]={type:t,blueprint:It,template:o,queries:null,viewQuery:D,declTNode:r,data:It.slice().fill(null,xe),bindingStartIndex:xe,expandoStartIndex:ut,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:x,consts:Wt,incompleteFirstPass:!1,ssrId:se}}let Tg=t=>null;function d_(t,r,o,l){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const h=t[c];null===l?Bd(o,r,c,h):l.hasOwnProperty(c)&&Bd(o,r,l[c],h)}return o}function Bd(t,r,o,l){t.hasOwnProperty(o)?t[o].push(r,l):t[o]=[r,l]}function Mc(t,r,o,l){if(Vn()){const c=null===l?null:{"":-1},h=function Oc(t,r){const o=t.directiveRegistry;let l=null,c=null;if(o)for(let m=0;m<o.length;m++){const D=o[m];if(ki(r,D.selectors,!1))if(l||(l=[]),eo(D))if(null!==D.findHostDirectiveDefs){const x=[];c=c||new Map,D.findHostDirectiveDefs(D,x,c),l.unshift(...x,D),Ud(t,r,x.length)}else l.unshift(D),Ud(t,r,0);else{var h;c=c||new Map,null===(h=D.findHostDirectiveDefs)||void 0===h||h.call(D,D,l,c),l.push(D)}}return null===l?null:[l,c]}(t,o);let m,D;null===h?m=D=null:[m,D]=h,null!==m&&yf(t,r,o,m,c,D),c&&function Jv(t,r,o){if(r){const l=t.localNames=[];for(let c=0;c<r.length;c+=2){const h=o[r[c+1]];if(null==h)throw new ue(-301,!1);l.push(r[c],h)}}}(o,l,c)}o.mergedAttrs=yi(o.mergedAttrs,o.attrs)}function yf(t,r,o,l,c,h){for(let xe=0;xe<l.length;xe++)Ms(Qs(o,r),t,l[xe].type);!function ty(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,l.length);for(let xe=0;xe<l.length;xe++){const ut=l[xe];ut.providersResolver&&ut.providersResolver(ut)}let m=!1,D=!1,x=Ld(t,r,l.length,null);for(let xe=0;xe<l.length;xe++){const ut=l[xe];o.mergedAttrs=yi(o.mergedAttrs,ut.hostAttrs),__(t,o,r,x,ut),ey(x,ut,c),null!==ut.contentQueries&&(o.flags|=4),(null!==ut.hostBindings||null!==ut.hostAttrs||0!==ut.hostVars)&&(o.flags|=64);const It=ut.type.prototype;var z,se;!m&&(It.ngOnChanges||It.ngOnInit||It.ngDoCheck)&&((null!==(z=t.preOrderHooks)&&void 0!==z?z:t.preOrderHooks=[]).push(o.index),m=!0),D||!It.ngOnChanges&&!It.ngDoCheck||((null!==(se=t.preOrderCheckHooks)&&void 0!==se?se:t.preOrderCheckHooks=[]).push(o.index),D=!0),x++}!function bg(t,r,o){const c=r.directiveEnd,h=t.data,m=r.attrs,D=[];let x=null,z=null;for(let se=r.directiveStart;se<c;se++){const xe=h[se],ut=o?o.get(xe):null,Wt=ut?ut.outputs:null;x=d_(xe.inputs,se,x,ut?ut.inputs:null),z=d_(xe.outputs,se,z,Wt);const vn=null===x||null===m||Ti(r)?null:iy(x,se,m);D.push(vn)}null!==x&&(x.hasOwnProperty("class")&&(r.flags|=8),x.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=D,r.inputs=x,r.outputs=z}(t,o,h)}function Ef(t,r,o){const l=o.directiveStart,c=o.directiveEnd,h=o.index,m=function T(){return Un.lFrame.currentDirectiveIndex}();try{ss(h);for(let D=l;D<c;D++){const x=t.data[D],z=r[D];B(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&m_(x,z)}}finally{ss(-1),B(m)}}function m_(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Ud(t,r,o){var l;r.componentOffset=o,(null!==(l=t.components)&&void 0!==l?l:t.components=[]).push(r.index)}function ey(t,r,o){if(o){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)o[r.exportAs[l]]=t;eo(r)&&(o[""]=t)}}function __(t,r,o,l,c){t.data[l]=c;const h=c.factory||(c.factory=ao(c.type)),m=new Es(h,eo(c),Lu);t.blueprint[l]=m,o[l]=m,function p_(t,r,o,l,c){const h=c.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const D=~r.index;(function xc(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(m)!=D&&m.push(D),m.push(o,l,h)}}(t,r,l,Ld(t,o,c.hostVars,$r),c)}function da(t,r,o,l,c,h){const m=ii(t,r);!function Rg(t,r,o,l,c,h,m){if(null==h)t.removeAttribute(r,c,o);else{const D=null==m?be(h):m(h,l||"",c);t.setAttribute(r,c,D,o)}}(r[lr],m,h,t.value,o,l,c)}function ry(t,r,o,l,c,h){const m=h[r];if(null!==m)for(let D=0;D<m.length;)v_(l,o,m[D++],m[D++],m[D++])}function v_(t,r,o,l,c){const h=to(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(l)&&(c=m[l].call(r,c)),null!==t.setInput?t.setInput(r,c,o,l):r[l]=c}finally{to(h)}}function iy(t,r,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===l&&(l=[]);const m=t[h];for(let D=0;D<m.length;D+=2)if(m[D]===r){l.push(h,m[D+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function y_(t,r,o,l){return[t,!0,!1,r,null,0,l,o,null,null,null]}function E_(t,r){const o=t.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const h=o[l+1];if(-1!==h){const m=t.data[h];vt(o[l]),m.contentQueries(2,r[h],h)}}}function jd(t,r){return t[pe]?t[Re][Ii]=r:t[pe]=r,t[Re]=r,r}function If(t,r,o){vt(0);const l=to(null);try{r(t,o)}finally{to(l)}}function Pg(t){return t[Mi]||(t[Mi]=[])}function Mg(t){return t.cleanup||(t.cleanup=[])}function Hd(t,r){const o=t[Bi],l=o?o.get(Ql,null):null;l&&l.handleError(r)}function ti(t,r,o,l,c){for(let h=0;h<o.length;){const m=o[h++],D=o[h++];v_(t.data[m],r[m],l,D,c)}}function C_(t,r){const o=Ro(r,t),l=o[bn];!function zd(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(l,o);const c=o[or];null!==c&&null===o[gn]&&(o[gn]=Mu(c,o[Bi])),Cf(l,o,o[Vr])}function Cf(t,r,o){Rn(r);try{const l=t.viewQuery;null!==l&&If(1,l,o);const c=t.template;null!==c&&_f(t,r,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&E_(t,r),t.staticViewQueries&&If(2,t.viewQuery,o);const h=t.components;null!==h&&function Ho(t,r){for(let o=0;o<r.length;o++)C_(t,r[o])}(r,h)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{r[ir]&=-5,ro()}}let oo=(()=>{var t;class r{constructor(){this.all=new Set,this.queue=new Map}create(l,c,h){const m=typeof Zone>"u"?null:Zone.current,D=function zt(t,r,o){const l=Object.create(Mr);o&&(l.consumerAllowSignalWrites=!0),l.fn=t,l.schedule=r;const c=m=>{l.cleanupFn=m};return l.ref={notify:()=>Go(l),run:()=>{if(l.dirty=!1,l.hasRun&&!Xa(l))return;l.hasRun=!0;const m=Qa(l);try{l.cleanupFn(),l.cleanupFn=_n,l.fn(c)}finally{Co(l,m)}},cleanup:()=>l.cleanupFn()},l.ref}(l,se=>{this.all.has(se)&&this.queue.set(se,m)},h);let x;this.all.add(D),D.notify();const z=()=>{var se;D.cleanup(),null===(se=x)||void 0===se||se(),this.all.delete(D),this.queue.delete(D)};return x=null==c?void 0:c.onDestroy(z),{destroy:z}}flush(){if(0!==this.queue.size)for(const[l,c]of this.queue)this.queue.delete(l),c?c.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=r).\u0275prov=Dt({token:t,providedIn:"root",factory:()=>new t}),r})();function wf(t,r,o){let l=o?t.styles:null,c=o?t.classes:null,h=0;if(null!==r)for(let m=0;m<r.length;m++){const D=r[m];"number"==typeof D?h=D:1==h?c=we(c,D):2==h&&(l=we(l,D+": "+r[++m]+";"))}o?t.styles=l:t.stylesWithoutHost=l,o?t.classes=c:t.classesWithoutHost=c}function Gd(t,r,o,l,c=!1){for(;null!==o;){const h=r[o.index];null!==h&&l.push(Xt(h)),Jr(h)&&Og(h,l);const m=o.type;if(8&m)Gd(t,r,o.child,l);else if(32&m){const D=mp(o,r);let x;for(;x=D();)l.push(x)}else if(16&m){const D=Hl(r,o);if(Array.isArray(D))l.push(...D);else{const x=yu(r[b]);Gd(x[bn],x,D,l,!0)}}o=c?o.projectionNext:o.next}return l}function Og(t,r){for(let o=Hr;o<t.length;o++){const l=t[o],c=l[bn].firstChild;null!==c&&Gd(l[bn],l,c,r)}t[pr]!==t[or]&&r.push(t[pr])}function Df(t,r,o,l=!0){const c=r[bi],h=c.rendererFactory,m=c.afterRenderEventManager;var x;null===(x=h.begin)||void 0===x||x.call(h),null==m||m.begin();try{Tf(t,r,t.template,o)}catch(xe){throw l&&Hd(r,xe),xe}finally{var z,se;null===(z=h.end)||void 0===z||z.call(h),null===(se=c.effectManager)||void 0===se||se.flush(),null==m||m.end()}}function Tf(t,r,o,l){var c;const h=r[ir];if(256!=(256&h)){null===(c=r[bi].effectManager)||void 0===c||c.flush(),Rn(r);try{rh(r),function au(t){return Un.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&_f(t,r,o,2,l);const D=3==(3&h);if(D){const se=t.preOrderCheckHooks;null!==se&&lu(r,se,null)}else{const se=t.preOrderHooks;null!==se&&rl(r,se,0,null),Pl(r,0)}if(function sy(t){for(let r=mm(t);null!==r;r=fo(r)){if(!r[Yr])continue;const o=r[mi];for(let l=0;l<o.length;l++){zc(o[l])}}}(r),D_(r,2),null!==t.contentQueries&&E_(t,r),D){const se=t.contentCheckHooks;null!==se&&lu(r,se)}else{const se=t.contentHooks;null!==se&&rl(r,se,1),Pl(r,1)}!function u_(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const l=s_(r,ar);try{for(let c=0;c<o.length;c++){const h=o[c];if(h<0)ss(~h);else{const m=h,D=o[++c],x=o[++c];k(D,m),l.dirty=!1;const z=Qa(l);try{x(2,r[m])}finally{Co(l,z)}}}}finally{null===r[ar]&&hf(r,ar),ss(-1)}}(t,r);const x=t.components;null!==x&&T_(r,x,0);const z=t.viewQuery;if(null!==z&&If(2,z,l),D){const se=t.viewCheckHooks;null!==se&&lu(r,se)}else{const se=t.viewHooks;null!==se&&rl(r,se,2),Pl(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[ir]&=-73,rs(r)}finally{ro()}}}function D_(t,r){for(let o=mm(t);null!==o;o=fo(o))for(let l=Hr;l<o.length;l++)ay(o[l],r)}function Wi(t,r,o){ay(Ro(r,t),o)}function ay(t,r){if(!function iu(t){return 128==(128&t[ir])}(t))return;const o=t[bn],l=t[ir];if(80&l&&0===r||1024&l||2===r)Tf(o,t,o.template,t[Vr]);else if(t[Xi]>0){D_(t,1);const c=o.components;null!==c&&T_(t,c,1)}}function T_(t,r,o){for(let l=0;l<r.length;l++)Wi(t,r[l],o)}class qi{get rootNodes(){const r=this._lView,o=r[bn];return Gd(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vr]}set context(r){this._lView[Vr]=r}get destroyed(){return 256==(256&this._lView[ir])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Ur];if(Jr(r)){const o=r[8],l=o?o.indexOf(this):-1;l>-1&&(dc(r,l),Fl(o,l))}this._attachedToViewContainer=!1}_p(this._lView[bn],this._lView)}onDestroy(r){!function ks(t,r){if(256==(256&t[ir]))throw new ue(911,!1);null===t[qt]&&(t[qt]=[]),t[qt].push(r)}(this._lView,r)}markForCheck(){Fu(this._cdRefInjectingView||this._lView)}detach(){this._lView[ir]&=-129}reattach(){this._lView[ir]|=128}detectChanges(){Df(this._lView[bn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vm(t,r){wu(t,r,r[lr],2,null,null)}(this._lView[bn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=r}}class b_ extends qi{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Df(r[bn],r,r[Vr],!1)}checkNoChanges(){}get context(){return null}}class A_ extends xu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Jn(r);return new Wd(o,this.ngModule)}}function S_(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class ly{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,l){l=Bt(l);const c=this.injector.get(r,ng,l);return c!==ng||o===ng?c:this.parentInjector.get(r,o,l)}}class Wd extends Kh{get inputs(){const r=this.componentDef,o=r.inputTransforms,l=S_(r.inputs);if(null!==o)for(const c of l)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return l}get outputs(){return S_(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function ct(t){return t.map(Ot).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,l,c){var h;let m=(c=c||this.ngModule)instanceof ds?c:null===(h=c)||void 0===h?void 0:h.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const D=m?new ly(r,m):r,x=D.get(jm,null);if(null===x)throw new ue(407,!1);const ut={rendererFactory:x,sanitizer:D.get(zm,null),effectManager:D.get(oo,null),afterRenderEventManager:D.get(_g,null)},It=x.createRenderer(null,this.componentDef),Wt=this.componentDef.selectors[0][0]||"div",vn=l?function c_(t,r,o,l){const h=l.get(t_,!1)||o===yn.ShadowDom,m=t.selectRootElement(r,h);return function Pc(t){Tg(t)}(m),m}(It,l,this.componentDef.encapsulation,D):cd(It,Wt,function R_(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Wt)),un=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Nr=null;null!==vn&&(Nr=Mu(vn,D,!0));const ui=wg(0,null,null,1,0,null,null,null,null,null,null),Di=mf(null,ui,null,un,null,null,ut,It,D,null,Nr);let Ya,um;Rn(Di);try{const Uc=this.componentDef;let Gf,N0=null;Uc.findHostDirectiveDefs?(Gf=[],N0=new Map,Uc.findHostDirectiveDefs(Uc,Gf,N0),Gf.push(Uc)):Gf=[Uc];const Kb=function cy(t,r){const o=t[bn],l=jn;return t[l]=r,Sc(o,l,2,"#host",null)}(Di,vn),Zb=function j0(t,r,o,l,c,h,m){const D=c[bn];!function dy(t,r,o,l){for(const c of t)r.mergedAttrs=yi(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(wf(r,r.mergedAttrs,!0),null!==o&&hc(l,o,r))}(l,t,r,m);let x=null;null!==r&&(x=Mu(r,c[Bi]));const z=h.rendererFactory.createRenderer(r,o);let se=16;o.signals?se=4096:o.onPush&&(se=64);const xe=mf(c,Rc(o),null,se,c[t.index],t,h,z,null,null,x);return D.firstCreatePass&&Ud(D,t,l.length-1),jd(c,xe),c[t.index]=xe}(Kb,vn,Uc,Gf,Di,ut,It);um=Hc(ui,jn),vn&&function P_(t,r,o,l){if(l)Rr(t,o,["ng-version",Qh.full]);else{const{attrs:c,classes:h}=function Yt(t){const r=[],o=[];let l=1,c=2;for(;l<t.length;){let h=t[l];if("string"==typeof h)2===c?""!==h&&r.push(h,t[++l]):8===c&&o.push(h);else{if(!Or(c))break;c=h}l++}return{attrs:r,classes:o}}(r.selectors[0]);c&&Rr(t,o,c),h&&h.length>0&&gd(t,o,h.join(" "))}}(It,Uc,vn,l),void 0!==o&&function qd(t,r,o){const l=t.projection=[];for(let c=0;c<r.length;c++){const h=o[c];l.push(null!=h?Array.from(h):null)}}(um,this.ngContentSelectors,o),Ya=function hy(t,r,o,l,c,h){const m=no(),D=c[bn],x=ii(m,c);yf(D,c,m,o,null,l);for(let se=0;se<o.length;se++)ko(Aa(c,D,m.directiveStart+se,m),c);Ef(D,c,m),x&&ko(x,c);const z=Aa(c,D,m.directiveStart+m.componentOffset,m);if(t[Vr]=c[Vr]=z,null!==h)for(const se of h)se(z,r);return Vd(D,m,t),z}(Zb,Uc,Gf,N0,Di,[fy]),Cf(ui,Di,null)}finally{ro()}return new uy(this.componentType,Ya,Ou(um,Di),Di,um)}}class uy extends Uv{constructor(r,o,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new b_(c),this.componentType=r}setInput(r,o){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[r])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const m=this._rootLView;ti(m[bn],m,c,r,o),this.previousInputValues.set(r,o),Fu(Ro(this._tNode.index,m))}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function fy(){const t=no();Rl(rn()[bn],t)}function Ha(t){let r=function ml(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const l=[t];for(;r;){let c;if(eo(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ue(903,!1);c=r.\u0275dir}if(c){if(o){l.push(c);const m=t;m.inputs=za(t.inputs),m.inputTransforms=za(t.inputTransforms),m.declaredInputs=za(t.declaredInputs),m.outputs=za(t.outputs);const D=c.hostBindings;D&&gy(t,D);const x=c.viewQuery,z=c.contentQueries;if(x&&bf(t,x),z&&py(t,z),le(t.inputs,c.inputs),le(t.declaredInputs,c.declaredInputs),le(t.outputs,c.outputs),null!==c.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),le(m.inputTransforms,c.inputTransforms)),eo(c)&&c.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const D=h[m];D&&D.ngInherit&&D(t),D===Ha&&(o=!1)}}r=Object.getPrototypeOf(r)}!function H0(t){let r=0,o=null;for(let l=t.length-1;l>=0;l--){const c=t[l];c.hostVars=r+=c.hostVars,c.hostAttrs=yi(c.hostAttrs,o=yi(o,c.hostAttrs))}}(l)}function za(t){return t===Nn?{}:t===pn?[]:t}function bf(t,r){const o=t.viewQuery;t.viewQuery=o?(l,c)=>{r(l,c),o(l,c)}:r}function py(t,r){const o=t.contentQueries;t.contentQueries=o?(l,c,h)=>{r(l,c,h),o(l,c,h)}:r}function gy(t,r){const o=t.hostBindings;t.hostBindings=o?(l,c)=>{r(l,c),o(l,c)}:r}function O_(t){const r=t.inputConfig,o={};for(const l in r)if(r.hasOwnProperty(l)){const c=r[l];Array.isArray(c)&&c[2]&&(o[l]=c[2])}t.inputTransforms=o}function Rf(t){return!!Pf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Pf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ha(t,r,o){return t[r]=o}function Lo(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function kc(t,r,o,l){const c=rn();return Lo(c,Yo(),r)&&(ur(),da(Li(),c,t,r,o,l)),kc}function z_(t,r,o,l,c,h,m,D){const x=rn(),z=ur(),se=t+jn,xe=z.firstCreatePass?function xy(t,r,o,l,c,h,m,D,x){const z=r.consts,se=Sc(r,t,4,m||null,Ps(z,D));Mc(r,o,se,Ps(z,x)),Rl(r,se);const xe=se.tView=wg(2,se,l,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z,null);return null!==r.queries&&(r.queries.template(r,se),xe.queries=r.queries.embeddedTView(se)),se}(se,z,x,r,o,l,c,h,m):z.data[se];mo(xe,!1);const ut=G_(z,x,xe,t);Ku()&&Cu(z,x,ut,xe),ko(ut,x),jd(x,x[se]=y_(ut,x,ut,xe)),bo(xe)&&$d(z,x,xe),null!=m&&Cg(x,xe,D)}let G_=function zu(t,r,o,l){return Vs(!0),r[lr].createComment("")};function jg(t,r,o){const l=rn();return Lo(l,Yo(),r)&&function hs(t,r,o,l,c,h,m,D){const x=ii(r,o);let se,z=r.inputs;!D&&null!=z&&(se=z[l])?(ti(t,o,se,l,c),Ji(r)&&function h_(t,r){const o=Ro(r,t);16&o[ir]||(o[ir]|=64)}(o,r.index)):3&r.type&&(l=function Ag(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(l),c=null!=m?m(c,r.value||"",l):c,h.setProperty(x,l,c))}(ur(),Li(),l,t,r,l[lr],o,!1),jg}function Hg(t,r,o,l,c){const m=c?"class":"style";ti(t,o,r.inputs[m],m,l)}function zg(t,r,o,l){const c=rn(),h=ur(),m=jn+t,D=c[lr],x=h.firstCreatePass?function ky(t,r,o,l,c,h){const m=r.consts,x=Sc(r,t,2,l,Ps(m,c));return Mc(r,o,x,Ps(m,h)),null!==x.attrs&&wf(x,x.attrs,!1),null!==x.mergedAttrs&&wf(x,x.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,x),x}(m,h,c,r,o,l):h.data[m],z=Fy(h,c,x,D,r,t);c[m]=z;const se=bo(x);return mo(x,!0),hc(D,z,x),32!=(32&x.flags)&&Ku()&&Cu(h,c,z,x),0===function ei(){return Un.lFrame.elementDepthCount}()&&ko(z,c),function Gc(){Un.lFrame.elementDepthCount++}(),se&&($d(h,c,x),Vd(h,x,c)),null!==l&&Cg(c,x),zg}function Gg(){let t=no();Da()?Mt():(t=t.parent,mo(t,!1));const r=t;(function qu(t){return Un.skipHydrationRootTNode===t})(r)&&function Ja(){Un.skipHydrationRootTNode=null}(),function Fi(){Un.lFrame.elementDepthCount--}();const o=ur();return o.firstCreatePass&&(Rl(o,t),ts(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Qu(t){return 0!=(8&t.flags)}(r)&&Hg(o,r,rn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function il(t){return 0!=(16&t.flags)}(r)&&Hg(o,r,rn(),r.stylesWithoutHost,!1),Gg}function W_(t,r,o,l){return zg(t,r,o,l),Gg(),W_}let Fy=(t,r,o,l,c,h)=>(Vs(!0),cd(l,c,function sh(){return Un.lFrame.currentNamespace}()));function q_(t,r,o){const l=rn(),c=ur(),h=t+jn,m=c.firstCreatePass?function $y(t,r,o,l,c){const h=r.consts,m=Ps(h,l),D=Sc(r,t,8,"ng-container",m);return null!==m&&wf(D,m,!0),Mc(r,o,D,Ps(h,c)),null!==r.queries&&r.queries.elementStart(r,D),D}(h,c,l,r,o):c.data[h];mo(m,!0);const D=vl(c,l,m,t);return l[h]=D,Ku()&&Cu(c,l,D,m),ko(D,l),bo(m)&&($d(c,l,m),Vd(c,m,l)),null!=o&&Cg(l,m),q_}function Wg(){let t=no();const r=ur();return Da()?Mt():(t=t.parent,mo(t,!1)),r.firstCreatePass&&(Rl(r,t),ts(t)&&r.queries.elementEnd(t)),Wg}function kf(t,r,o){return q_(t,r,o),Wg(),kf}let vl=(t,r,o,l)=>(Vs(!0),ud(r[lr],""));function Y_(){return rn()}function qg(t){return!!t&&"function"==typeof t.then}function K_(t){return!!t&&"function"==typeof t.subscribe}function Yg(t,r,o,l){const c=rn(),h=ur(),m=no();return function jy(t,r,o,l,c,h,m){const D=bo(l),z=t.firstCreatePass&&Mg(t),se=r[Vr],xe=Pg(r);let ut=!0;if(3&l.type||m){const vn=ii(l,r),$n=m?m(vn):vn,nr=xe.length,un=m?ui=>m(Xt(ui[l.index])):l.index;let Nr=null;if(!m&&D&&(Nr=function Y0(t,r,o,l){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===l){const D=r[Mi],x=c[h+2];return D.length>x?D[x]:null}"string"==typeof m&&(h+=2)}return null}(t,r,c,l.index)),null!==Nr)(Nr.__ngLastListenerFn__||Nr).__ngNextListenerFn__=h,Nr.__ngLastListenerFn__=h,ut=!1;else{h=Q_(l,r,se,h,!1);const ui=o.listen($n,c,h);xe.push(h,ui),z&&z.push(c,un,nr,nr+1)}}else h=Q_(l,r,se,h,!1);const It=l.outputs;let Wt;if(ut&&null!==It&&(Wt=It[c])){const vn=Wt.length;if(vn)for(let $n=0;$n<vn;$n+=2){const Di=r[Wt[$n]][Wt[$n+1]].subscribe(h),Ya=xe.length;xe.push(h,Di),z&&z.push(c,l.index,Ya,-(Ya+1))}}}(h,c,c[lr],m,t,r,l),Yg}function Kg(t,r,o,l){try{return Mn(6,r,o),!1!==o(l)}catch(c){return Hd(t,c),!1}finally{Mn(7,r,o)}}function Q_(t,r,o,l,c){return function h(m){if(m===Function)return l;Fu(t.componentOffset>-1?Ro(t.index,r):r);let x=Kg(r,o,l,m),z=h.__ngNextListenerFn__;for(;z;)x=Kg(r,o,z,m)&&x,z=z.__ngNextListenerFn__;return c&&!1===x&&m.preventDefault(),x}}function Hy(t=1){return function ys(t){return(Un.lFrame.contextLView=function nl(t,r){for(;t>0;)r=r[v],t--;return r}(t,Un.lFrame.contextLView))[Vr]}(t)}function K0(t,r){let o=null;const l=function Yi(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let c=0;c<r.length;c++){const h=r[c];if("*"!==h){if(null===l?ki(t,h,!0):Qe(l,h))return c}else o=c}return o}function zy(t){const r=rn()[b][Pi];if(!r.projection){const l=r.projection=Ds(t?t.length:1,null),c=l.slice();let h=r.child;for(;null!==h;){const m=t?K0(h,t):0;null!==m&&(c[m]?c[m].projectionNext=h:l[m]=h,c[m]=h),h=h.next}}}function Gy(t,r=0,o){const l=rn(),c=ur(),h=Sc(c,jn+t,16,null,o||null);null===h.projection&&(h.projection=r),Mt(),(!l[gn]||Uo())&&32!=(32&h.flags)&&function wm(t,r,o){bp(r[lr],0,r,o,yp(t,o,r),Ip(o.parent||r[Pi],o,r))}(c,l,h)}function d(t,r){return t<<17|r<<2}function p(t){return t>>17&32767}function X(t){return 2|t}function Ee(t){return(131068&t)>>2}function Je(t,r){return-131069&t|r<<2}function Ft(t){return 1|t}function Tr(t,r,o,l,c){const h=t[o+1],m=null===r;let D=l?p(h):Ee(h),x=!1;for(;0!==D&&(!1===x||m);){const se=t[D+1];wr(t[D],r)&&(x=!0,t[D+1]=l?Ft(se):X(se)),D=l?p(se):Ee(se)}x&&(t[o+1]=l?X(h):Ft(h))}function wr(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ea(t,r)>=0}const gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ji(t){return t.substring(gr.key,gr.keyEnd)}function ma(t,r){const o=gr.textEnd;return o===r?-1:(r=gr.keyEnd=function VC(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,gr.key=r,o),Vf(t,r,o))}function Vf(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function Yy(t,r){return function yl(t,r,o,l){const c=rn(),h=ur(),m=os(2);h.firstUpdatePass&&nE(h,t,m,l),r!==$r&&Lo(c,m,r)&&iE(h,h.data[io()],c,c[lr],t,c[m+1]=function KC(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ge(la(t)))),t}(r,o),l,m)}(t,r,null,!0),Yy}function eE(t){!function El(t,r,o,l){const c=ur(),h=os(2);c.firstUpdatePass&&nE(c,null,h,l);const m=rn();if(o!==$r&&Lo(m,h,o)){const D=c.data[io()];if(sE(D,l)&&!tE(c,h)){let x=l?D.classesWithoutHost:D.stylesWithoutHost;null!==x&&(o=we(x,o||"")),Hg(c,D,m,o,l)}else!function YC(t,r,o,l,c,h,m,D){c===$r&&(c=pn);let x=0,z=0,se=0<c.length?c[0]:null,xe=0<h.length?h[0]:null;for(;null!==se||null!==xe;){const ut=x<c.length?c[x+1]:void 0,It=z<h.length?h[z+1]:void 0;let vn,Wt=null;se===xe?(x+=2,z+=2,ut!==It&&(Wt=xe,vn=It)):null===xe||null!==se&&se<xe?(x+=2,Wt=se):(z+=2,Wt=xe,vn=It),null!==Wt&&iE(t,r,o,l,Wt,vn,m,D),se=x<c.length?c[x]:null,xe=z<h.length?h[z]:null}}(c,D,m,m[lr],m[h+1],m[h+1]=function WC(t,r,o){if(null==o||""===o)return pn;const l=[],c=la(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)t(l,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&t(l,h,c[h]);else"string"==typeof c&&r(l,c);return l}(t,r,o),l,h)}}(qC,nu,t,!0)}function nu(t,r){for(let o=function Vo(t){return function Z0(t){gr.key=0,gr.keyEnd=0,gr.value=0,gr.valueEnd=0,gr.textEnd=t.length}(t),ma(t,Vf(t,0,gr.textEnd))}(r);o>=0;o=ma(r,o))Zo(t,ji(r),!0)}function tE(t,r){return r>=t.expandoStartIndex}function nE(t,r,o,l){const c=t.data;if(null===c[o+1]){const h=c[io()],m=tE(t,o);sE(h,l)&&null===r&&!m&&(r=!1),r=function jC(t,r,o,l){const c=function me(t){const r=Un.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let h=l?r.residualClasses:r.residualStyles;if(null===c)0===(l?r.classBindings:r.styleBindings)&&(o=Xg(o=Ky(null,t,r,o,l),r.attrs,l),h=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==c)if(o=Ky(c,t,r,o,l),null===h){let x=function HC(t,r,o){const l=o?r.classBindings:r.styleBindings;if(0!==Ee(l))return t[p(l)]}(t,r,l);void 0!==x&&Array.isArray(x)&&(x=Ky(null,t,r,x[1],l),x=Xg(x,r.attrs,l),function zC(t,r,o,l){t[p(o?r.classBindings:r.styleBindings)]=l}(t,r,l,x))}else h=function GC(t,r,o){let l;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)l=Xg(l,t[h].hostAttrs,o);return Xg(l,r.attrs,o)}(t,r,l)}return void 0!==h&&(l?r.residualClasses=h:r.residualStyles=h),o}(c,h,r,l),function Fn(t,r,o,l,c,h){let m=h?r.classBindings:r.styleBindings,D=p(m),x=Ee(m);t[l]=o;let se,z=!1;if(Array.isArray(o)?(se=o[1],(null===se||ea(o,se)>0)&&(z=!0)):se=o,c)if(0!==x){const ut=p(t[D+1]);t[l+1]=d(ut,D),0!==ut&&(t[ut+1]=Je(t[ut+1],l)),t[D+1]=function L(t,r){return 131071&t|r<<17}(t[D+1],l)}else t[l+1]=d(D,0),0!==D&&(t[D+1]=Je(t[D+1],l)),D=l;else t[l+1]=d(x,0),0===D?D=l:t[x+1]=Je(t[x+1],l),x=l;z&&(t[l+1]=X(t[l+1])),Tr(t,se,l,!0),Tr(t,se,l,!1),function vr(t,r,o,l,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof r&&ea(h,r)>=0&&(o[l+1]=Ft(o[l+1]))}(r,se,t,l,h),m=d(D,x),h?r.classBindings=m:r.styleBindings=m}(c,h,r,o,m,l)}}function Ky(t,r,o,l,c){let h=null;const m=o.directiveEnd;let D=o.directiveStylingLast;for(-1===D?D=o.directiveStart:D++;D<m&&(h=r[D],l=Xg(l,h.hostAttrs,c),h!==t);)D++;return null!==t&&(o.directiveStylingLast=D),l}function Xg(t,r,o){const l=o?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const m=r[h];"number"==typeof m?c=m:c===l&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Zo(t,m,!!o||r[++h]))}return void 0===t?null:t}function qC(t,r,o){const l=String(r);""!==l&&!l.includes(" ")&&Zo(t,l,o)}function iE(t,r,o,l,c,h,m,D){if(!(3&r.type))return;const x=t.data,z=x[D+1],se=function gt(t){return 1==(1&t)}(z)?oE(x,r,o,c,Ee(z),m):void 0;X_(se)||(X_(h)||function M(t){return 2==(2&t)}(z)&&(h=oE(x,null,o,c,D,m)),function Dm(t,r,o,l,c){if(r)c?t.addClass(o,l):t.removeClass(o,l);else{let h=-1===l.indexOf("-")?void 0:ul.DashCase;null==c?t.removeStyle(o,l,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=ul.Important),t.setStyle(o,l,c,h))}}(l,m,dn(io(),o),c,h))}function oE(t,r,o,l,c,h){const m=null===r;let D;for(;c>0;){const x=t[c],z=Array.isArray(x),se=z?x[1]:x,xe=null===se;let ut=o[c+1];ut===$r&&(ut=xe?pn:void 0);let It=xe?us(ut,l):se===l?ut:void 0;if(z&&!X_(It)&&(It=us(x,l)),X_(It)&&(D=It,m))return D;const Wt=t[c+1];c=m?p(Wt):Ee(Wt)}if(null!==r){let x=h?r.residualClasses:r.residualStyles;null!=x&&(D=us(x,l))}return D}function X_(t){return void 0!==t}function sE(t,r){return 0!=(t.flags&(r?8:16))}function aE(t,r=""){const o=rn(),l=ur(),c=t+jn,h=l.firstCreatePass?Sc(l,c,1,r,null):l.data[c],m=lE(l,o,h,r,t);o[c]=m,Ku()&&Cu(l,o,m,h),mo(h,!1)}let lE=(t,r,o,l,c)=>(Vs(!0),function Ul(t,r){return t.createText(r)}(r[lr],l));function Zy(t){return J_("",t,""),Zy}function J_(t,r,o){const l=rn(),c=function Ga(t,r,o,l){return Lo(t,Yo(),o)?r+be(o)+l:$r}(l,t,r,o);return c!==$r&&function Ua(t,r,o){const l=dn(r,t);!function sa(t,r,o){t.setValue(r,o)}(t[lr],l,o)}(l,io(),c),J_}const eh=void 0;var _w=["en",[["a","p"],["AM","PM"],eh],[["AM","PM"],eh,eh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eh,"{1} 'at' {0}",eh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mw(t){const o=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let $f={};function Qy(t){const r=function vw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=RE(r);if(o)return o;const l=r.split("-")[0];if(o=RE(l),o)return o;if("en"===l)return _w;throw new ue(701,!1)}function SE(t){return Qy(t)[Bf.PluralCase]}function RE(t){return t in $f||($f[t]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[t]),$f[t]}var Bf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Bf||{});const Uf="en-US";let PE=Uf;function e0(t,r,o,l,c){if(t=nt(t),Array.isArray(t))for(let h=0;h<t.length;h++)e0(t[h],r,o,l,c);else{const h=ur(),m=rn(),D=no();let x=Kl(t)?t:nt(t.provide);const z=Hp(t),se=1048575&D.providerIndexes,xe=D.directiveStart,ut=D.providerIndexes>>20;if(Kl(t)||!t.multi){const It=new Es(z,c,Lu),Wt=n0(x,r,c?se:se+ut,xe);-1===Wt?(Ms(Qs(D,m),h,x),t0(h,t,r.length),r.push(x),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),o.push(It),m.push(It)):(o[Wt]=It,m[Wt]=It)}else{const It=n0(x,r,se+ut,xe),Wt=n0(x,r,se,se+ut),$n=Wt>=0&&o[Wt];if(c&&!$n||!c&&!(It>=0&&o[It])){Ms(Qs(D,m),h,x);const nr=function mD(t,r,o,l,c){const h=new Es(t,o,Lu);return h.multi=[],h.index=r,h.componentProviders=0,tI(h,c,l&&!o),h}(c?gD:pD,o.length,c,l,z);!c&&$n&&(o[Wt].providerFactory=nr),t0(h,t,r.length,0),r.push(x),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),o.push(nr),m.push(nr)}else t0(h,t,It>-1?It:Wt,tI(o[c?Wt:It],z,!c&&l));!c&&l&&$n&&o[Wt].componentProviders++}}}function t0(t,r,o,l){const c=Kl(r),h=function Up(t){return!!t.useClass}(r);if(c||h){const x=(h?nt(r.useClass):r).prototype.ngOnDestroy;if(x){const z=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const se=z.indexOf(o);-1===se?z.push(o,[l,x]):z[se+1].push(l,x)}else z.push(o,x)}}}function tI(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function n0(t,r,o,l){for(let c=o;c<l;c++)if(r[c]===t)return c;return-1}function pD(t,r,o,l){return r0(this.multi,[])}function gD(t,r,o,l){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,D=Aa(o,o[bn],this.providerFactory.index,l);h=D.slice(0,m),r0(c,h);for(let x=m;x<D.length;x++)h.push(D[x])}else h=[],r0(c,h);return h}function r0(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function nI(t,r=[]){return o=>{o.providersResolver=(l,c)=>function fD(t,r,o){const l=ur();if(l.firstCreatePass){const c=eo(t);e0(o,l.data,l.blueprint,c,!0),e0(r,l.data,l.blueprint,c,!1)}}(l,c?c(t):t,r)}}class th{}class rI{}function _D(t,r){return new o0(t,null!=r?r:null,[])}class o0 extends th{constructor(r,o,l){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new A_(this);const c=si(r);this._bootstrapComponents=ca(c.bootstrap),this._r3Injector=Nu(r,o,[{provide:th,useValue:this},{provide:xu,useValue:this.componentFactoryResolver},...l],ge(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class s0 extends rI{constructor(r){super(),this.moduleType=r}create(r){return new o0(this.moduleType,r,[])}}class iI extends th{constructor(r){super(),this.componentFactoryResolver=new A_(this),this.instance=null;const o=new ua([...r.providers,{provide:th,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],r.parent||$h(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function oI(t,r,o=null){return new iI({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let yD=(()=>{var t;class r{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const c=Fh(0,l.type),h=c.length>0?oI([c],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,h)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=Dt({token:t,providedIn:"environment",factory:()=>new t(pt(ds))}),r})();function sI(t){t.getStandaloneInjector=r=>r.get(yD).getOrCreateStandaloneInjector(t)}function fI(t,r,o){const l=Ki()+t,c=rn();return c[l]===$r?ha(c,l,o?r.call(o):r()):function Nc(t,r){return t[r]}(c,l)}function pI(t,r,o,l){return function gI(t,r,o,l,c,h){const m=r+o;return Lo(t,m,c)?ha(t,m+1,h?l.call(h,c):l(c)):function im(t,r){const o=t[r];return o===$r?void 0:o}(t,m+1)}(rn(),Ki(),t,r,o,l)}function HD(){return this._results[Symbol.iterator]()}class l0{get changes(){return this._changes||(this._changes=new Ba)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=l0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=HD)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const l=this;l.dirty=!1;const c=function ws(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function fh(t,r,o){if(t.length!==r.length)return!1;for(let l=0;l<t.length;l++){let c=t[l],h=r[l];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(l._results,c,o))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GD(t,r,o,l=!0){const c=r[bn];if(function vv(t,r,o,l){const c=Hr+l,h=o.length;l>0&&(o[c-1][Ii]=r),l<h-Hr?(r[Ii]=o[c],ph(o,Hr+l,r)):(o.push(r),r[Ii]=null),r[Ur]=o;const m=r[re];null!==m&&o!==m&&function yv(t,r){const o=t[mi];r[b]!==r[Ur][Ur][b]&&(t[Yr]=!0),null===o?t[mi]=[r]:o.push(r)}(m,r);const D=r[et];null!==D&&D.insertView(t),r[ir]|=128}(c,r,t,o),l){const h=dl(o,t),m=r[lr],D=fd(m,t[pr]);null!==D&&function _m(t,r,o,l,c,h){l[or]=c,l[Pi]=r,wu(t,l,o,1,c,h)}(c,t[Pi],m,r,D,h)}}let sm=(()=>{class r{}return r.__NG_ELEMENT_ID__=YD,r})();const WD=sm,qD=class extends WD{constructor(r,o,l){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=l}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,l){const c=function zD(t,r,o,l){var c,h;const m=r.tView,z=mf(t,m,o,4096&t[ir]?4096:16,null,r,null,null,null,null!==(c=null==l?void 0:l.injector)&&void 0!==c?c:null,null!==(h=null==l?void 0:l.hydrationInfo)&&void 0!==h?h:null);z[re]=t[r.index];const xe=t[et];return null!==xe&&(z[et]=xe.createEmbeddedView(m)),Cf(m,z,o),z}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:l});return new qi(c)}};function YD(){return iv(no(),rn())}function iv(t,r){return 4&t.type?new qD(r,t,Ou(t,r)):null}let sv=(()=>{class r{}return r.__NG_ELEMENT_ID__=eT,r})();function eT(){return bI(no(),rn())}const tT=sv,DI=class extends tT{constructor(r,o,l){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=l}get element(){return Ou(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const r=Xs(this._hostTNode,this._hostLView);if(uu(r)){const o=Is(r,this._hostLView),l=Zi(r);return new No(o[bn].data[l+8],o)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=TI(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Hr}createEmbeddedView(r,o,l){let c,h;"number"==typeof l?c=l:null!=l&&(c=l.index,h=l.injector);const D=r.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(D,c,false),D}createComponent(r,o,l,c,h){var m,x;const z=r&&!al(r);let se;if(z)se=o;else{const un=o||{};se=un.index,l=un.injector,c=un.projectableNodes,h=un.environmentInjector||un.ngModuleRef}const xe=z?r:new Wd(Jn(r)),ut=l||this.parentInjector;if(!h&&null==xe.ngModule){const Nr=(z?ut:this.parentInjector).get(ds,null);Nr&&(h=Nr)}const It=Jn(null!==(m=xe.componentType)&&void 0!==m?m:{}),Wt=(null==It?void 0:It.id,null),vn=null!==(x=null==Wt?void 0:Wt.firstChild)&&void 0!==x?x:null,$n=xe.create(ut,c,vn,h),nr=!!Wt&&!ad(this._hostTNode);return this.insertImpl($n.hostView,se,nr),$n}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,l){const c=r._lView;if(function Al(t){return Jr(t[Ur])}(c)){const x=this.indexOf(r);if(-1!==x)this.detach(x);else{const z=c[Ur],se=new DI(z,z[Pi],z[Ur]);se.detach(se.indexOf(r))}}const m=this._adjustIndex(o),D=this._lContainer;return GD(D,c,m,!l),r.attachToViewContainerRef(),ph(u0(D),m,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=TI(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),l=dc(this._lContainer,o);l&&(Fl(u0(this._lContainer),o),_p(l[bn],l))}detach(r){const o=this._adjustIndex(r,-1),l=dc(this._lContainer,o);return l&&null!=Fl(u0(this._lContainer),o)?new qi(l):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function TI(t){return t[8]}function u0(t){return t[8]||(t[8]=[])}function bI(t,r){let o;const l=r[t.index];return Jr(l)?o=l:(o=y_(l,r,null,t),r[t.index]=o,jd(r,o)),AI(o,r,t,l),new DI(o,t,r)}let AI=function SI(t,r,o,l){if(t[pr])return;let c;c=8&o.type?Xt(l):function nT(t,r){const o=t[lr],l=o.createComment(""),c=ii(r,t);return Iu(o,fd(o,c),l,function Ev(t,r){return t.nextSibling(r)}(o,c),!1),l}(r,o),t[pr]=c};class c0{constructor(r){this.queryList=r,this.matches=null}clone(){return new c0(this.queryList)}setDirty(){this.queryList.setDirty()}}class d0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const l=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let h=0;h<l;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new d0(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==LI(r,o).matches&&this.queries[o].setDirty()}}class RI{constructor(r,o,l=null){this.predicate=r,this.flags=o,this.read=l}}class h0{constructor(r=[]){this.queries=r}elementStart(r,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let l=0;l<this.length;l++){const c=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(r,c);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new h0(o):null}template(r,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class f0{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new f0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(r,o,oT(o,h)),this.matchTNodeWithReadOption(r,o,ba(o,r,h,!1,!1))}else l===sm?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,ba(o,r,l,!1,!1))}matchTNodeWithReadOption(r,o,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===$a||c===sv||c===sm&&4&o.type)this.addMatch(o.index,-2);else{const h=ba(o,r,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function oT(t,r){const o=t.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===r)return o[l+1];return null}function aT(t,r,o,l){return-1===o?function sT(t,r){return 11&t.type?Ou(t,r):4&t.type?iv(t,r):null}(r,t):-2===o?function lT(t,r,o){return o===$a?Ou(r,t):o===sm?iv(r,t):o===sv?bI(r,t):void 0}(t,r,l):Aa(t,t[bn],o,r)}function PI(t,r,o,l){const c=r[et].queries[l];if(null===c.matches){const h=t.data,m=o.matches,D=[];for(let x=0;x<m.length;x+=2){const z=m[x];D.push(z<0?null:aT(r,h[z],m[x+1],o.metadata.read))}c.matches=D}return c.matches}function p0(t,r,o,l){const c=t.queries.getByIndex(o),h=c.matches;if(null!==h){const m=PI(t,r,c,o);for(let D=0;D<h.length;D+=2){const x=h[D];if(x>0)l.push(m[D/2]);else{const z=h[D+1],se=r[-x];for(let xe=Hr;xe<se.length;xe++){const ut=se[xe];ut[re]===ut[Ur]&&p0(ut[bn],ut,z,l)}if(null!==se[mi]){const xe=se[mi];for(let ut=0;ut<xe.length;ut++){const It=xe[ut];p0(It[bn],It,z,l)}}}}}return l}function MI(t){const r=rn(),o=ur(),l=ze();vt(l+1);const c=LI(o,l);if(t.dirty&&function Ea(t){return 4==(4&t[ir])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?p0(o,r,l,[]):PI(o,r,c,l);t.reset(h,tg),t.notifyOnChanges()}return!0}return!1}function xI(t,r,o){const l=ur();l.firstCreatePass&&(FI(l,new RI(t,r,o),-1),2==(2&r)&&(l.staticViewQueries=!0)),kI(l,rn(),r)}function OI(t,r,o,l){const c=ur();if(c.firstCreatePass){const h=no();FI(c,new RI(r,o,l),h.index),function cT(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}kI(c,rn(),o)}function NI(){return function uT(t,r){return t[et].queries[r].queryList}(rn(),ze())}function kI(t,r,o){const l=new l0(4==(4&o));(function Qv(t,r,o,l){const c=Pg(r);c.push(o),t.firstCreatePass&&Mg(t).push(l,c.length-1)})(t,r,l,l.destroy),null===r[et]&&(r[et]=new d0),r[et].queries.push(new c0(l))}function FI(t,r,o){null===t.queries&&(t.queries=new h0),t.queries.track(new f0(r,o))}function LI(t,r){return t.queries.getByIndex(r)}function g0(t){return!!si(t)}const eC=new sn("Application Initializer");let E0=(()=>{var t;class r{constructor(){var l;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(l=Pt(eC,{optional:!0}))&&void 0!==l?l:[]}runInitializers(){if(this.initialized)return;const l=[];for(const h of this.appInits){const m=h();if(qg(m))l.push(m);else if(K_(m)){const D=new Promise((x,z)=>{m.subscribe({complete:x,error:z})});l.push(D)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return(t=r).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),tC=(()=>{var t;class r{log(l){console.log(l)}warn(l){console.warn(l)}}return(t=r).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const lv=new sn("LocaleId",{providedIn:"root",factory:()=>Pt(lv,hn.Optional|hn.SkipSelf)||function xT(){return typeof $localize<"u"&&$localize.locale||Uf}()}),OT=new sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let nC=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Y.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=r).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();class kT{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let FT=(()=>{var t;class r{compileModuleSync(l){return new s0(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),m=ca(si(l).declarations).reduce((D,x)=>{const z=Jn(x);return z&&D.push(new Wd(z)),D},[]);return new kT(c,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return(t=r).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const sC=new sn(""),aC=new sn("");let w0,ib=(()=>{var t;class r{constructor(l,c,h){this._ngZone=l,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,w0||(function ob(t){w0=t}(h),h.addToWindow(c)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==m),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,c,h){return[]}}return(t=r).\u0275fac=function(l){return new(l||t)(pt(Oo),pt(lC),pt(aC))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),r})(),lC=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){var h,m;return null!==(h=null===(m=w0)||void 0===m?void 0:m.findTestabilityInTree(this,l,c))&&void 0!==h?h:null}}return(t=r).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Bc=null;const uC=new sn("AllowMultipleToken"),D0=new sn("PlatformDestroyListeners"),T0=new sn("appBootstrapListener");class lb{constructor(r,o){this.name=r,this.token=o}}function hC(t,r,o=[]){const l=`Platform: ${r}`,c=new sn(l);return(h=[])=>{let m=b0();if(!m||m.injector.get(uC,!1)){const D=[...o,...h,{provide:c,useValue:!0}];t?t(D):function ub(t){if(Bc&&!Bc.get(uC,!1))throw new ue(400,!1);(function cC(){!function Ns(t){Rs=t}(()=>{throw new ue(600,!1)})})(),Bc=t;const r=t.get(pC);(function dC(t){const r=t.get(Uh,null);null==r||r.forEach(o=>o())})(t)}(function fC(t=[],r){return es.create({name:r,providers:[{provide:jp,useValue:"platform"},{provide:D0,useValue:new Set([()=>Bc=null])},...t]})}(D,l))}return function db(t){const r=b0();if(!r)throw new ue(401,!1);return r}()}}function b0(){var t,r;return null!==(t=null===(r=Bc)||void 0===r?void 0:r.get(pC))&&void 0!==t?t:null}let pC=(()=>{var t;class r{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const h=function hb(t="zone.js",r){return"noop"===t?new Wv:"zone.js"===t?new Oo(r):t}(null==c?void 0:c.ngZone,function gC(t){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const m=function vD(t,r,o){return new o0(t,r,o)}(l.moduleType,this.injector,function EC(t){return[{provide:Oo,useFactory:t},{provide:Cd,multi:!0,useFactory:()=>{const r=Pt(pb,{optional:!0});return()=>r.initialize()}},{provide:yC,useFactory:fb},{provide:Xm,useFactory:sf}]}(()=>h)),D=m.injector.get(Ql,null);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:z=>{D.handleError(z)}});m.onDestroy(()=>{cv(this._modules,m),x.unsubscribe()})}),function mC(t,r,o){try{const l=o();return qg(l)?l.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):l}catch(l){throw r.runOutsideAngular(()=>t.handleError(l)),l}}(D,h,()=>{const x=m.injector.get(E0);return x.runInitializers(),x.donePromise.then(()=>(function ME(t){ft(t,"Expected localeId to be defined"),"string"==typeof t&&(PE=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(lv,Uf)||Uf),this._moduleDoBootstrap(m),m))})})}bootstrapModule(l,c=[]){const h=_C({},c);return function sb(t,r,o){const l=new s0(o);return Promise.resolve(l)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const c=l.injector.get(zf);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new ue(-403,!1);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(D0,null);l&&(l.forEach(c=>c()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(l){return new(l||t)(pt(es))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function _C(t,r){return Array.isArray(r)?r.reduce(_C,t):{...t,...r}}let zf=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pt(yC),this.zoneIsStable=Pt(Xm),this.componentTypes=[],this.components=[],this.isStable=Pt(nC).hasPendingTasks.pipe((0,ne.w)(l=>l?(0,Z.of)(!1):this.zoneIsStable),(0,Me.x)(),(0,Q.B)()),this._injector=Pt(ds)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,c){const h=l instanceof Kh;if(!this._injector.get(E0).done)throw!h&&Lr(l),new ue(405,!1);let D;D=h?l:this._injector.get(xu).resolveComponentFactory(l),this.componentTypes.push(D.componentType);const x=function ab(t){return t.isBoundToModule}(D)?void 0:this._injector.get(th),se=D.create(es.NULL,[],c||D.selector,x),xe=se.location.nativeElement,ut=se.injector.get(sC,null);return null==ut||ut.registerApplication(xe),se.onDestroy(()=>{this.detachView(se.hostView),cv(this.components,se),null==ut||ut.unregisterApplication(xe)}),this._loadComponent(se),se}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;cv(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const c=this._injector.get(T0,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>cv(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ue(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function cv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const yC=new sn("",{providedIn:"root",factory:()=>Pt(Ql).handleError.bind(void 0)});function fb(){const t=Pt(Oo),r=Pt(Ql);return o=>t.runOutsideAngular(()=>r.handleError(o))}let pb=(()=>{var t;class r{constructor(){this.zone=Pt(Oo),this.applicationRef=Pt(zf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var l;null===(l=this._onMicrotaskEmptySubscription)||void 0===l||l.unsubscribe()}}return(t=r).\u0275fac=function(l){return new(l||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function mb(){return!1}function _b(){}let vb=(()=>{class r{}return r.__NG_ELEMENT_ID__=yb,r})();function yb(t){return function Eb(t,r,o){if(Ji(t)&&!o){const l=Ro(t.index,r);return new qi(l,l)}return 47&t.type?new qi(r[b],r):null}(no(),rn(),16==(16&t))}class DC{constructor(){}supports(r){return Rf(r)}create(r){return new bb(r)}}const Tb=(t,r)=>r;class bb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Tb}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,l=this._removalsHead,c=0,h=null;for(;o||l;){const m=!l||o&&o.currentIndex<bC(l,c,h)?o:l,D=bC(m,c,h),x=m.currentIndex;if(m===l)c--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const z=D-c,se=x-c;if(z!=se){for(let ut=0;ut<z;ut++){const It=ut<h.length?h[ut]:h[ut]=0,Wt=It+ut;se<=Wt&&Wt<z&&(h[ut]=It+1)}h[m.previousIndex]=se-z}}D!==x&&r(m,D,x)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Rf(r))throw new ue(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,m,o=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)h=r[D],m=this._trackByFn(D,h),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,h,m,D)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,D),l=!0),o=o._next}else c=0,function kg(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let l;for(;!(l=o.next()).done;)r(l.value)}}(r,D=>{m=this._trackByFn(c,D),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,D,m,c)),Object.is(o.item,D)||this._addIdentityChange(o,D)):(o=this._mismatch(o,D,m,c),l=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,l,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,h,c)):r=this._addAfter(new Ab(o,l),h,c),r}_verifyReinsertion(r,o,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,o,l),this._addToMoves(r,l),r}_moveAfter(r,o,l){return this._unlink(r),this._insertAfter(r,o,l),this._addToMoves(r,l),r}_addAfter(r,o,l){return this._insertAfter(r,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,l){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new TC),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,l=r._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Ab{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const o=r._prevDup,l=r._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class TC{constructor(){this.map=new Map}put(r){const o=r.trackById;let l=this.map.get(o);l||(l=new Sb,this.map.set(o,l)),l.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bC(t,r,o){const l=t.previousIndex;if(null===l)return l;let c=0;return o&&l<o.length&&(c=o[l]),l+r+c}class AC{constructor(){}supports(r){return r instanceof Map||Pf(r)}create(){return new Rb}}class Rb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Pf(r)))throw new ue(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const l=r._prev;return o._next=r,o._prev=l,r._prev=o,l&&(l._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const l=new Pb(r);return this._records.set(r,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(l=>o(r[l],l))}}class Pb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SC(){return new M0([new DC])}let M0=(()=>{var t;class r{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new r(l)}static extend(l){return{provide:r,useFactory:c=>r.create(l,c||SC()),deps:[[r,new mu,new ra]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new ue(901,!1)}}return(t=r).\u0275prov=Dt({token:t,providedIn:"root",factory:SC}),r})();function RC(){return new x0([new AC])}let x0=(()=>{var t;class r{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new r(l)}static extend(l){return{provide:r,useFactory:c=>r.create(l,c||RC()),deps:[[r,new mu,new ra]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new ue(901,!1)}}return(t=r).\u0275prov=Dt({token:t,providedIn:"root",factory:RC}),r})();const Ob=hC(null,"core",[]);let Nb=(()=>{var t;class r{constructor(l){}}return(t=r).\u0275fac=function(l){return new(l||t)(pt(zf))},t.\u0275mod=at({type:t}),t.\u0275inj=Ct({}),r})();function Gb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function qb(t,r){const o=Jn(t),l=r.elementInjector||$h();return new Wd(o).create(l,r.projectableNodes,r.hostElement,r.environmentInjector)}function Yb(t){const r=Jn(t);if(!r)return null;const o=new Wd(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7213:(Lt,Ce,I)=>{"use strict";I.d(Ce,{zQ:()=>Rt,ww:()=>At,rT:()=>Ae,f7:()=>Ve,L6:()=>Le,_Q:()=>De,lh:()=>Te,Qv:()=>W,nw:()=>_t});var a=I(1180),N=(I(6365),I(6814)),F=I(5879),Y=I(1920),Z=I(7217),Q=I(8645),ne=I(2096),Me=I(5592),K=I(2459),le=I(3019),ge=I(3093),we=I(4664),Be=I(7398),$e=I(4552);class nt extends Q.x{constructor(fe=1/0,he=1/0,Ue=$e.l){super(),this._bufferSize=fe,this._windowTime=he,this._timestampProvider=Ue,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=he===1/0,this._bufferSize=Math.max(1,fe),this._windowTime=Math.max(1,he)}next(fe){const{isStopped:he,_buffer:Ue,_infiniteTimeWindow:Se,_timestampProvider:Ke,_windowTime:qe}=this;he||(Ue.push(fe),!Se&&Ue.push(Ke.now()+qe)),this._trimBuffer(),super.next(fe)}_subscribe(fe){this._throwIfClosed(),this._trimBuffer();const he=this._innerSubscribe(fe),{_infiniteTimeWindow:Ue,_buffer:Se}=this,Ke=Se.slice();for(let qe=0;qe<Ke.length&&!fe.closed;qe+=Ue?1:2)fe.next(Ke[qe]);return this._checkFinalizedStatuses(fe),he}_trimBuffer(){const{_bufferSize:fe,_timestampProvider:he,_buffer:Ue,_infiniteTimeWindow:Se}=this,Ke=(Se?1:2)*fe;if(fe<1/0&&Ke<Ue.length&&Ue.splice(0,Ue.length-Ke),!Se){const qe=he.now();let ft=0;for(let ht=1;ht<Ue.length&&Ue[ht]<=qe;ht+=2)ft=ht;ft&&Ue.splice(0,ft+1)}}}var We=I(3020);function He(rt,fe,he){let Ue,Se=!1;return rt&&"object"==typeof rt?({bufferSize:Ue=1/0,windowTime:fe=1/0,refCount:Se=!1,scheduler:he}=rt):Ue=null!=rt?rt:1/0,(0,We.B)({connector:()=>new nt(Ue,fe,he),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Se})}var Ze=I(1374),ot=I(4674);function ue(rt,fe){return(0,ot.m)(fe)?(0,we.w)(()=>rt,fe):(0,we.w)(()=>rt)}var Ge=I(5137),be=I(2181),_e=I(7142);const W=new F.OlP("angularfire2.auth.use-emulator"),Le=new F.OlP("angularfire2.auth.settings"),De=new F.OlP("angularfire2.auth.tenant-id"),Ae=new F.OlP("angularfire2.auth.langugage-code"),Te=new F.OlP("angularfire2.auth.use-device-language"),Ve=new F.OlP("angularfire.auth.persistence"),_t=(rt,fe,he,Ue,Se,Ke,qe,ft)=>(0,Z.cc)(`${rt.name}.auth`,"AngularFireAuth",rt.name,()=>{const ht=fe.runOutsideAngular(()=>rt.auth());if(he&&ht.useEmulator(...he),Ue&&(ht.tenantId=Ue),ht.languageCode=Se,Ke&&ht.useDeviceLanguage(),qe)for(const[bt,mt]of Object.entries(qe))ht.settings[bt]=mt;return ft&&ht.setPersistence(ft),ht},[he,Ue,Se,Ke,qe,ft]);let Rt=(()=>{var rt;class fe{constructor(Ue,Se,Ke,qe,ft,ht,bt,mt,Kt,Dt,Tt,Ct){(0,a.Z)(this,"authState",void 0),(0,a.Z)(this,"idToken",void 0),(0,a.Z)(this,"user",void 0),(0,a.Z)(this,"idTokenResult",void 0),(0,a.Z)(this,"credential",void 0);const Vt=new Q.x,Ht=(0,ne.of)(void 0).pipe((0,ge.Q)(ft.outsideAngular),(0,we.w)(()=>qe.runOutsideAngular(()=>Promise.resolve().then(I.bind(I,6365)))),(0,Be.U)(()=>(0,Z.on)(Ue,qe,Se)),(0,Be.U)(on=>_t(on,qe,ht,mt,Kt,Dt,bt,Tt)),He({bufferSize:1,refCount:!1}));if((0,N.PM)(Ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ne.of)(null);else{Ht.pipe((0,Ze.P)()).subscribe();const on=Ht.pipe((0,we.w)(Jt=>Jt.getRedirectResult().then(Dn=>Dn,()=>null)),Y.iC,He({bufferSize:1,refCount:!1})),cn=Ht.pipe((0,we.w)(Jt=>new Me.y(Dn=>({unsubscribe:qe.runOutsideAngular(()=>Jt.onAuthStateChanged(On=>Dn.next(On),On=>Dn.error(On),()=>Dn.complete()))})))),wn=Ht.pipe((0,we.w)(Jt=>new Me.y(Dn=>({unsubscribe:qe.runOutsideAngular(()=>Jt.onIdTokenChanged(On=>Dn.next(On),On=>Dn.error(On),()=>Dn.complete()))}))));this.authState=on.pipe(ue(cn),(0,Ge.R)(ft.outsideAngular),(0,ge.Q)(ft.insideAngular)),this.user=on.pipe(ue(wn),(0,Ge.R)(ft.outsideAngular),(0,ge.Q)(ft.insideAngular)),this.idToken=this.user.pipe((0,we.w)(Jt=>Jt?(0,K.D)(Jt.getIdToken()):(0,ne.of)(null))),this.idTokenResult=this.user.pipe((0,we.w)(Jt=>Jt?(0,K.D)(Jt.getIdTokenResult()):(0,ne.of)(null))),this.credential=(0,le.T)(on,Vt,this.authState.pipe((0,be.h)(Jt=>!Jt))).pipe((0,Be.U)(Jt=>null!=Jt&&Jt.user?Jt:null),(0,Ge.R)(ft.outsideAngular),(0,ge.Q)(ft.insideAngular))}return(0,Z.pX)(this,Ht,qe,{spy:{apply:(on,cn,wn)=>{(on.startsWith("signIn")||on.startsWith("createUser"))&&wn.then(Jt=>Vt.next(Jt))}}})}}return rt=fe,(0,a.Z)(fe,"\u0275fac",function(Ue){return new(Ue||rt)(F.LFG(Z.Dh),F.LFG(Z.xv,8),F.LFG(F.Lbi),F.LFG(F.R0b),F.LFG(Y.HU),F.LFG(W,8),F.LFG(Le,8),F.LFG(De,8),F.LFG(Ae,8),F.LFG(Te,8),F.LFG(Ve,8),F.LFG(Y.Rf,8))}),(0,a.Z)(fe,"\u0275prov",F.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"any"})),fe})(),At=(()=>{var rt;class fe{constructor(){_e.Z.registerVersion("angularfire",Y.q4.full,"auth-compat")}}return rt=fe,(0,a.Z)(fe,"\u0275fac",function(Ue){return new(Ue||rt)}),(0,a.Z)(fe,"\u0275mod",F.oAB({type:rt})),(0,a.Z)(fe,"\u0275inj",F.cJS({providers:[Rt]})),fe})()},7104:(Lt,Ce,I)=>{"use strict";I.d(Ce,{ST:()=>Gn,yb:()=>Pn});var a=I(1180),_=I(6814),N=I(5879),F=I(1920),Y=I(7217),Z=I(7213),Q=I(6321),ne=I(5592),Me=I(2459),K=I(2096),le=I(7921),ge=I(9360),we=I(8251);function Be(){return(0,ge.e)((Nt,ye)=>{let ee,Ne=!1;Nt.subscribe((0,we.x)(ye,st=>{const je=ee;ee=st,Ne&&ye.next([je,st]),Ne=!0}))})}var $e=I(7398),nt=I(6699),We=I(3997),He=I(2181),ot=(I(6365),I(3106)),ue=I(5776),Ge=I(9058),be=I(4537);function W(Nt,ye){if(void 0===ye)return{merge:!1};if(void 0!==ye.mergeFields&&void 0!==ye.merge)throw new ue.WA("invalid-argument",`Invalid options passed to function ${Nt}(): You cannot specify both "merge" and "mergeFields".`);return ye}function Le(){if(typeof Uint8Array>"u")throw new ue.WA("unimplemented","Uint8Arrays are not available in this environment.")}function De(){if(!(0,ue.Me)())throw new ue.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ae{constructor(ye){this._delegate=ye}static fromBase64String(ye){return De(),new Ae(ue.Jj.fromBase64String(ye))}static fromUint8Array(ye){return Le(),new Ae(ue.Jj.fromUint8Array(ye))}toBase64(){return De(),this._delegate.toBase64()}toUint8Array(){return Le(),this._delegate.toUint8Array()}isEqual(ye){return this._delegate.isEqual(ye._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Te(Nt){return function Ve(Nt,ye){if("object"!=typeof Nt||null===Nt)return!1;const ee=Nt;for(const Ne of ye)if(Ne in ee&&"function"==typeof ee[Ne])return!0;return!1}(Nt,["next","error","complete"])}class _t{enableIndexedDbPersistence(ye,ee){return(0,ue.ST)(ye._delegate,{forceOwnership:ee})}enableMultiTabIndexedDbPersistence(ye){return(0,ue.fH)(ye._delegate)}clearIndexedDbPersistence(ye){return(0,ue.Fc)(ye._delegate)}}class Rt{constructor(ye,ee,Ne){this._delegate=ee,this._persistenceProvider=Ne,this.INTERNAL={delete:()=>this.terminate()},ye instanceof ue.l7||(this._appCompat=ye)}get _databaseId(){return this._delegate._databaseId}settings(ye){const ee=this._delegate._getSettings();!ye.merge&&ee.host!==ye.host&&(0,ue.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ye.merge&&delete(ye=Object.assign(Object.assign({},ee),ye)).merge,this._delegate._setSettings(ye)}useEmulator(ye,ee,Ne={}){(0,ue.at)(this._delegate,ye,ee,Ne)}enableNetwork(){return(0,ue.Ix)(this._delegate)}disableNetwork(){return(0,ue.TF)(this._delegate)}enablePersistence(ye){let ee=!1,Ne=!1;return ye&&(ee=!!ye.synchronizeTabs,Ne=!!ye.experimentalForceOwningTab,(0,ue.Wi)("synchronizeTabs",ee,"experimentalForceOwningTab",Ne)),ee?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ne)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ue.Mx)(this._delegate)}onSnapshotsInSync(ye){return(0,ue.sc)(this._delegate,ye)}get app(){if(!this._appCompat)throw new ue.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ye){try{return new Tt(this,(0,ue.hJ)(this._delegate,ye))}catch(ee){throw Ke(ee,"collection()","Firestore.collection()")}}doc(ye){try{return new Se(this,(0,ue.JU)(this._delegate,ye))}catch(ee){throw Ke(ee,"doc()","Firestore.doc()")}}collectionGroup(ye){try{return new mt(this,(0,ue.B$)(this._delegate,ye))}catch(ee){throw Ke(ee,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ye){return(0,ue.i3)(this._delegate,ee=>ye(new fe(this,ee)))}batch(){return(0,ue.qY)(this._delegate),new he(new ue.PU(this._delegate,ye=>(0,ue.GL)(this._delegate,ye)))}loadBundle(ye){return(0,ue.Pb)(this._delegate,ye)}namedQuery(ye){return(0,ue.L$)(this._delegate,ye).then(ee=>ee?new mt(this,ee):null)}}class At extends ue.u7{constructor(ye){super(),this.firestore=ye}convertBytes(ye){return new Ae(new ue.Jj(ye))}convertReference(ye){const ee=this.convertDocumentKey(ye,this.firestore._databaseId);return Se.forKey(ee,this.firestore,null)}}class fe{constructor(ye,ee){this._firestore=ye,this._delegate=ee,this._userDataWriter=new At(ye)}get(ye){const ee=Ct(ye);return this._delegate.get(ee).then(Ne=>new ht(this._firestore,new ue.xU(this._firestore._delegate,this._userDataWriter,Ne._key,Ne._document,Ne.metadata,ee.converter)))}set(ye,ee,Ne){const st=Ct(ye);return Ne?(W("Transaction.set",Ne),this._delegate.set(st,ee,Ne)):this._delegate.set(st,ee),this}update(ye,ee,Ne,...st){const je=Ct(ye);return 2===arguments.length?this._delegate.update(je,ee):this._delegate.update(je,ee,Ne,...st),this}delete(ye){const ee=Ct(ye);return this._delegate.delete(ee),this}}class he{constructor(ye){this._delegate=ye}set(ye,ee,Ne){const st=Ct(ye);return Ne?(W("WriteBatch.set",Ne),this._delegate.set(st,ee,Ne)):this._delegate.set(st,ee),this}update(ye,ee,Ne,...st){const je=Ct(ye);return 2===arguments.length?this._delegate.update(je,ee):this._delegate.update(je,ee,Ne,...st),this}delete(ye){const ee=Ct(ye);return this._delegate.delete(ee),this}commit(){return this._delegate.commit()}}class Ue{constructor(ye,ee,Ne){this._firestore=ye,this._userDataWriter=ee,this._delegate=Ne}fromFirestore(ye,ee){const Ne=new ue.$q(this._firestore._delegate,this._userDataWriter,ye._key,ye._document,ye.metadata,null);return this._delegate.fromFirestore(new bt(this._firestore,Ne),null!=ee?ee:{})}toFirestore(ye,ee){return ee?this._delegate.toFirestore(ye,ee):this._delegate.toFirestore(ye)}static getInstance(ye,ee){const Ne=Ue.INSTANCES;let st=Ne.get(ye);st||(st=new WeakMap,Ne.set(ye,st));let je=st.get(ee);return je||(je=new Ue(ye,new At(ye),ee),st.set(ee,je)),je}}Ue.INSTANCES=new WeakMap;class Se{constructor(ye,ee){this.firestore=ye,this._delegate=ee,this._userDataWriter=new At(ye)}static forPath(ye,ee,Ne){if(ye.length%2!=0)throw new ue.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ye.canonicalString()} has ${ye.length}`);return new Se(ee,new ue.my(ee._delegate,Ne,new ue.Ky(ye)))}static forKey(ye,ee,Ne){return new Se(ee,new ue.my(ee._delegate,Ne,ye))}get id(){return this._delegate.id}get parent(){return new Tt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ye){try{return new Tt(this.firestore,(0,ue.hJ)(this._delegate,ye))}catch(ee){throw Ke(ee,"collection()","DocumentReference.collection()")}}isEqual(ye){return(ye=(0,Ge.m9)(ye))instanceof ue.my&&(0,ue.Eo)(this._delegate,ye)}set(ye,ee){ee=W("DocumentReference.set",ee);try{return ee?(0,ue.pl)(this._delegate,ye,ee):(0,ue.pl)(this._delegate,ye)}catch(Ne){throw Ke(Ne,"setDoc()","DocumentReference.set()")}}update(ye,ee,...Ne){try{return 1===arguments.length?(0,ue.r7)(this._delegate,ye):(0,ue.r7)(this._delegate,ye,ee,...Ne)}catch(st){throw Ke(st,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ue.oe)(this._delegate)}onSnapshot(...ye){const ee=qe(ye),Ne=ft(ye,st=>new ht(this.firestore,new ue.xU(this.firestore._delegate,this._userDataWriter,st._key,st._document,st.metadata,this._delegate.converter)));return(0,ue.cf)(this._delegate,ee,Ne)}get(ye){let ee;return ee="cache"===(null==ye?void 0:ye.source)?(0,ue.kl)(this._delegate):"server"===(null==ye?void 0:ye.source)?(0,ue.Xk)(this._delegate):(0,ue.QT)(this._delegate),ee.then(Ne=>new ht(this.firestore,new ue.xU(this.firestore._delegate,this._userDataWriter,Ne._key,Ne._document,Ne.metadata,this._delegate.converter)))}withConverter(ye){return new Se(this.firestore,this._delegate.withConverter(ye?Ue.getInstance(this.firestore,ye):null))}}function Ke(Nt,ye,ee){return Nt.message=Nt.message.replace(ye,ee),Nt}function qe(Nt){for(const ye of Nt)if("object"==typeof ye&&!Te(ye))return ye;return{}}function ft(Nt,ye){var ee,Ne;let st;return st=Te(Nt[0])?Nt[0]:Te(Nt[1])?Nt[1]:"function"==typeof Nt[0]?{next:Nt[0],error:Nt[1],complete:Nt[2]}:{next:Nt[1],error:Nt[2],complete:Nt[3]},{next:je=>{st.next&&st.next(ye(je))},error:null===(ee=st.error)||void 0===ee?void 0:ee.bind(st),complete:null===(Ne=st.complete)||void 0===Ne?void 0:Ne.bind(st)}}class ht{constructor(ye,ee){this._firestore=ye,this._delegate=ee}get ref(){return new Se(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ye){return this._delegate.data(ye)}get(ye,ee){return this._delegate.get(ye,ee)}isEqual(ye){return(0,ue.qK)(this._delegate,ye._delegate)}}class bt extends ht{data(ye){const ee=this._delegate.data(ye);return this._delegate._converter||(0,ue.K9)(void 0!==ee,"Document in a QueryDocumentSnapshot should exist"),ee}}class mt{constructor(ye,ee){this.firestore=ye,this._delegate=ee,this._userDataWriter=new At(ye)}where(ye,ee,Ne){try{return new mt(this.firestore,(0,ue.IO)(this._delegate,(0,ue.ar)(ye,ee,Ne)))}catch(st){throw Ke(st,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ye,ee){try{return new mt(this.firestore,(0,ue.IO)(this._delegate,(0,ue.Xo)(ye,ee)))}catch(Ne){throw Ke(Ne,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ye){try{return new mt(this.firestore,(0,ue.IO)(this._delegate,(0,ue.b9)(ye)))}catch(ee){throw Ke(ee,"limit()","Query.limit()")}}limitToLast(ye){try{return new mt(this.firestore,(0,ue.IO)(this._delegate,(0,ue.vh)(ye)))}catch(ee){throw Ke(ee,"limitToLast()","Query.limitToLast()")}}startAt(...ye){try{return new mt(this.firestore,(0,ue.IO)(this._delegate,(0,ue.e0)(...ye)))}catch(ee){throw Ke(ee,"startAt()","Query.startAt()")}}startAfter(...ye){try{return new mt(this.firestore,(0,ue.IO)(this._delegate,(0,ue.TQ)(...ye)))}catch(ee){throw Ke(ee,"startAfter()","Query.startAfter()")}}endBefore(...ye){try{return new mt(this.firestore,(0,ue.IO)(this._delegate,(0,ue.Lx)(...ye)))}catch(ee){throw Ke(ee,"endBefore()","Query.endBefore()")}}endAt(...ye){try{return new mt(this.firestore,(0,ue.IO)(this._delegate,(0,ue.Wu)(...ye)))}catch(ee){throw Ke(ee,"endAt()","Query.endAt()")}}isEqual(ye){return(0,ue.iE)(this._delegate,ye._delegate)}get(ye){let ee;return ee="cache"===(null==ye?void 0:ye.source)?(0,ue.UQ)(this._delegate):"server"===(null==ye?void 0:ye.source)?(0,ue.zN)(this._delegate):(0,ue.PL)(this._delegate),ee.then(Ne=>new Dt(this.firestore,new ue.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ne._snapshot)))}onSnapshot(...ye){const ee=qe(ye),Ne=ft(ye,st=>new Dt(this.firestore,new ue.W(this.firestore._delegate,this._userDataWriter,this._delegate,st._snapshot)));return(0,ue.cf)(this._delegate,ee,Ne)}withConverter(ye){return new mt(this.firestore,this._delegate.withConverter(ye?Ue.getInstance(this.firestore,ye):null))}}class Kt{constructor(ye,ee){this._firestore=ye,this._delegate=ee}get type(){return this._delegate.type}get doc(){return new bt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Dt{constructor(ye,ee){this._firestore=ye,this._delegate=ee}get query(){return new mt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ye=>new bt(this._firestore,ye))}docChanges(ye){return this._delegate.docChanges(ye).map(ee=>new Kt(this._firestore,ee))}forEach(ye,ee){this._delegate.forEach(Ne=>{ye.call(ee,new bt(this._firestore,Ne))})}isEqual(ye){return(0,ue.qK)(this._delegate,ye._delegate)}}class Tt extends mt{constructor(ye,ee){super(ye,ee),this.firestore=ye,this._delegate=ee}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ye=this._delegate.parent;return ye?new Se(this.firestore,ye):null}doc(ye){try{return new Se(this.firestore,void 0===ye?(0,ue.JU)(this._delegate):(0,ue.JU)(this._delegate,ye))}catch(ee){throw Ke(ee,"doc()","CollectionReference.doc()")}}add(ye){return(0,ue.ET)(this._delegate,ye).then(ee=>new Se(this.firestore,ee))}isEqual(ye){return(0,ue.Eo)(this._delegate,ye._delegate)}withConverter(ye){return new Tt(this.firestore,this._delegate.withConverter(ye?Ue.getInstance(this.firestore,ye):null))}}function Ct(Nt){return(0,ue.Cf)(Nt,ue.my)}class Vt{constructor(...ye){this._delegate=new ue.Lz(...ye)}static documentId(){return new Vt(ue.Xb.keyField().canonicalString())}isEqual(ye){return(ye=(0,Ge.m9)(ye))instanceof ue.Lz&&this._delegate._internalPath.isEqual(ye._internalPath)}}class Ht{constructor(ye){this._delegate=ye}static serverTimestamp(){const ye=(0,ue.Bt)();return ye._methodName="FieldValue.serverTimestamp",new Ht(ye)}static delete(){const ye=(0,ue.AK)();return ye._methodName="FieldValue.delete",new Ht(ye)}static arrayUnion(...ye){const ee=(0,ue.vr)(...ye);return ee._methodName="FieldValue.arrayUnion",new Ht(ee)}static arrayRemove(...ye){const ee=(0,ue.Ab)(...ye);return ee._methodName="FieldValue.arrayRemove",new Ht(ee)}static increment(ye){const ee=(0,ue.nP)(ye);return ee._methodName="FieldValue.increment",new Ht(ee)}isEqual(ye){return this._delegate.isEqual(ye._delegate)}}const on={Firestore:Rt,GeoPoint:ue.F8,Timestamp:ue.EK,Blob:Ae,Transaction:fe,WriteBatch:he,DocumentReference:Se,DocumentSnapshot:ht,Query:mt,QueryDocumentSnapshot:bt,QuerySnapshot:Dt,CollectionReference:Tt,FieldPath:Vt,FieldValue:Ht,setLogLevel:function rt(Nt){(0,ue.Ub)(Nt)},CACHE_SIZE_UNLIMITED:ue.IX};!function wn(Nt){(function cn(Nt,ye){Nt.INTERNAL.registerComponent(new be.wA("firestore-compat",ee=>{const Ne=ee.getProvider("app-compat").getImmediate(),st=ee.getProvider("firestore").getImmediate();return ye(Ne,st)},"PUBLIC").setServiceProps(Object.assign({},on)))})(Nt,(ye,ee)=>new Rt(ye,ee,new _t)),Nt.registerVersion("@firebase/firestore-compat","0.3.22")}(ot.Z);var Jt=I(7142);function On(Nt,ye){return function Dn(Nt,ye=Q.z){return new ne.y(ee=>{let Ne;return null!=ye?ye.schedule(()=>{Ne=Nt.onSnapshot({includeMetadataChanges:!0},ee)}):Ne=Nt.onSnapshot({includeMetadataChanges:!0},ee),()=>{null!=Ne&&Ne()}})}(Nt,ye)}function hn(Nt,ye){return On(Nt,ye).pipe((0,$e.U)(ee=>({payload:ee,type:"query"})))}class xn{constructor(ye,ee){(0,a.Z)(this,"ref",void 0),(0,a.Z)(this,"afs",void 0),this.ref=ye,this.afs=ee}set(ye,ee){return this.ref.set(ye,ee)}update(ye){return this.ref.update(ye)}delete(){return this.ref.delete()}collection(ye,ee){const Ne=this.ref.collection(ye),{ref:st,query:je}=br(Ne,ee);return new xr(st,je,this.afs)}snapshotChanges(){return function fr(Nt,ye){return On(Nt,ye).pipe((0,le.O)(void 0),Be(),(0,$e.U)(ee=>{const[Ne,st]=ee;return st.exists?null!=Ne&&Ne.exists?{payload:st,type:"modified"}:{payload:st,type:"added"}:{payload:st,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(F.iC)}valueChanges(ye={}){return this.snapshotChanges().pipe((0,$e.U)(({payload:ee})=>ye.idField?{...ee.data(),[ye.idField]:ee.id}:ee.data()))}get(ye){return(0,Me.D)(this.ref.get(ye)).pipe(F.iC)}}function Sn(Nt,ye){return hn(Nt,ye).pipe((0,le.O)(void 0),Be(),(0,$e.U)(ee=>{const[Ne,st]=ee,je=st.payload.docChanges(),St=je.map(ke=>({type:ke.type,payload:ke}));return Ne&&JSON.stringify(Ne.payload.metadata)!==JSON.stringify(st.payload.metadata)&&st.payload.docs.forEach((ke,J)=>{const $=je.find(w=>w.doc.ref.isEqual(ke.ref)),R=null==Ne?void 0:Ne.payload.docs.find(w=>w.ref.isEqual(ke.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(ke.metadata)||!$&&R&&JSON.stringify(R.metadata)===JSON.stringify(ke.metadata)||St.push({type:"modified",payload:{oldIndex:J,newIndex:J,type:"modified",doc:ke}})}),St}))}function Qn(Nt,ye,ee){return Sn(Nt,ee).pipe((0,nt.R)((Ne,st)=>function mr(Nt,ye,ee){return ye.forEach(Ne=>{ee.indexOf(Ne.type)>-1&&(Nt=function en(Nt,ye){switch(ye.type){case"added":if(!Nt[ye.newIndex]||!Nt[ye.newIndex].doc.ref.isEqual(ye.doc.ref))return _r(Nt,ye.newIndex,0,ye);break;case"modified":if(null==Nt[ye.oldIndex]||Nt[ye.oldIndex].doc.ref.isEqual(ye.doc.ref)){if(ye.oldIndex!==ye.newIndex){const ee=Nt.slice();return ee.splice(ye.oldIndex,1),ee.splice(ye.newIndex,0,ye),ee}return _r(Nt,ye.newIndex,1,ye)}break;case"removed":if(Nt[ye.oldIndex]&&Nt[ye.oldIndex].doc.ref.isEqual(ye.doc.ref))return _r(Nt,ye.oldIndex,1)}return Nt}(Nt,Ne))}),Nt}(Ne,st.map(je=>je.payload),ye),[]),(0,We.x)(),(0,$e.U)(Ne=>Ne.map(st=>({type:st.type,payload:st}))))}function _r(Nt,ye,ee,...Ne){const st=Nt.slice();return st.splice(ye,ee,...Ne),st}function Ln(Nt){return(!Nt||0===Nt.length)&&(Nt=["added","removed","modified"]),Nt}class xr{constructor(ye,ee,Ne){(0,a.Z)(this,"ref",void 0),(0,a.Z)(this,"query",void 0),(0,a.Z)(this,"afs",void 0),this.ref=ye,this.query=ee,this.afs=Ne}stateChanges(ye){let ee=Sn(this.query,this.afs.schedulers.outsideAngular);return ye&&ye.length>0&&(ee=ee.pipe((0,$e.U)(Ne=>Ne.filter(st=>ye.indexOf(st.type)>-1)))),ee.pipe((0,le.O)(void 0),Be(),(0,He.h)(([Ne,st])=>st.length>0||!Ne),(0,$e.U)(([,Ne])=>Ne),F.iC)}auditTrail(ye){return this.stateChanges(ye).pipe((0,nt.R)((ee,Ne)=>[...ee,...Ne],[]))}snapshotChanges(ye){const ee=Ln(ye);return Qn(this.query,ee,this.afs.schedulers.outsideAngular).pipe(F.iC)}valueChanges(ye={}){return hn(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(ee=>ee.payload.docs.map(Ne=>ye.idField?{...Ne.data(),[ye.idField]:Ne.id}:Ne.data())),F.iC)}get(ye){return(0,Me.D)(this.query.get(ye)).pipe(F.iC)}add(ye){return this.ref.add(ye)}doc(ye){return new xn(this.ref.doc(ye),this.afs)}}class sn{constructor(ye,ee){(0,a.Z)(this,"query",void 0),(0,a.Z)(this,"afs",void 0),this.query=ye,this.afs=ee}stateChanges(ye){return ye&&0!==ye.length?Sn(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(ee=>ee.filter(Ne=>ye.indexOf(Ne.type)>-1)),(0,He.h)(ee=>ee.length>0),F.iC):Sn(this.query,this.afs.schedulers.outsideAngular).pipe(F.iC)}auditTrail(ye){return this.stateChanges(ye).pipe((0,nt.R)((ee,Ne)=>[...ee,...Ne],[]))}snapshotChanges(ye){const ee=Ln(ye);return Qn(this.query,ee,this.afs.schedulers.outsideAngular).pipe(F.iC)}valueChanges(ye={}){return hn(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(Ne=>Ne.payload.docs.map(st=>ye.idField?{[ye.idField]:st.id,...st.data()}:st.data())),F.iC)}get(ye){return(0,Me.D)(this.query.get(ye)).pipe(F.iC)}}const cr=new N.OlP("angularfire2.enableFirestorePersistence"),an=new N.OlP("angularfire2.firestore.persistenceSettings"),Wn=new N.OlP("angularfire2.firestore.settings"),kr=new N.OlP("angularfire2.firestore.use-emulator");function br(Nt,ye=(ee=>ee)){return{query:ye(Nt),ref:Nt}}let Gn=(()=>{var Nt;class ye{constructor(Ne,st,je,St,ke,J,$,R,w,j,ce,tt,pt,wt,Pt,Bt,Zt){(0,a.Z)(this,"schedulers",void 0),(0,a.Z)(this,"firestore",void 0),(0,a.Z)(this,"persistenceEnabled$",void 0),this.schedulers=$;const nn=(0,Y.on)(Ne,J,st),Kn=w;j&&(0,Z.nw)(nn,J,ce,pt,wt,Pt,tt,Bt),[this.firestore,this.persistenceEnabled$]=(0,Y.cc)(`${nn.name}.firestore`,"AngularFirestore",nn.name,()=>{const Gr=J.runOutsideAngular(()=>nn.firestore());if(St&&Gr.settings(St),Kn&&Gr.useEmulator(...Kn),je&&!(0,_.PM)(ke)){const xt=()=>{try{return(0,Me.D)(Gr.enablePersistence(R||void 0).then(()=>!0,()=>!1))}catch(Et){return typeof console<"u"&&console.warn(Et),(0,K.of)(!1)}};return[Gr,J.runOutsideAngular(xt)]}return[Gr,(0,K.of)(!1)]},[St,Kn,je])}collection(Ne,st){let je;je="string"==typeof Ne?this.firestore.collection(Ne):Ne;const{ref:St,query:ke}=br(je,st),J=this.schedulers.ngZone.run(()=>St);return new xr(J,ke,this)}collectionGroup(Ne,st){const je=st||(ke=>ke),St=this.firestore.collectionGroup(Ne);return new sn(je(St),this)}doc(Ne){let st;st="string"==typeof Ne?this.firestore.doc(Ne):Ne;const je=this.schedulers.ngZone.run(()=>st);return new xn(je,this)}createId(){return this.firestore.collection("_").doc().id}}return Nt=ye,(0,a.Z)(ye,"\u0275fac",function(Ne){return new(Ne||Nt)(N.LFG(Y.Dh),N.LFG(Y.xv,8),N.LFG(cr,8),N.LFG(Wn,8),N.LFG(N.Lbi),N.LFG(N.R0b),N.LFG(F.HU),N.LFG(an,8),N.LFG(kr,8),N.LFG(Z.zQ,8),N.LFG(Z.Qv,8),N.LFG(Z.L6,8),N.LFG(Z._Q,8),N.LFG(Z.rT,8),N.LFG(Z.lh,8),N.LFG(Z.f7,8),N.LFG(F.Rf,8))}),(0,a.Z)(ye,"\u0275prov",N.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"any"})),ye})(),Pn=(()=>{var Nt;class ye{constructor(){Jt.Z.registerVersion("angularfire",F.q4.full,"fst-compat")}static enablePersistence(Ne){return{ngModule:ye,providers:[{provide:cr,useValue:!0},{provide:an,useValue:Ne}]}}}return Nt=ye,(0,a.Z)(ye,"\u0275fac",function(Ne){return new(Ne||Nt)}),(0,a.Z)(ye,"\u0275mod",N.oAB({type:Nt})),(0,a.Z)(ye,"\u0275inj",N.cJS({providers:[Gn]})),ye})()},778:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Q1:()=>fe,TE:()=>Se});var a=I(1180),_=I(1920),N=I(5592),F=I(2096),Y=I(2459),Z=I(6321),Q=I(9360),ne=I(8251),K=I(7398),le=I(4664),ge=I(5879),we=I(7217),Be=I(3106),$e=I(8153),nt=I(4537);class We{constructor(qe,ft,ht){this._delegate=qe,this.task=ft,this.ref=ht}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class He{constructor(qe,ft){this._delegate=qe,this._ref=ft,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new We(this._delegate.snapshot,this,this._ref)}then(qe,ft){return this._delegate.then(ht=>{if(qe)return qe(new We(ht,this,this._ref))},ft)}on(qe,ft,ht,bt){let mt;return ft&&(mt="function"==typeof ft?Kt=>ft(new We(Kt,this,this._ref)):{next:ft.next?Kt=>ft.next(new We(Kt,this,this._ref)):void 0,complete:ft.complete||void 0,error:ft.error||void 0}),this._delegate.on(qe,mt,ht||void 0,bt||void 0)}}class Ze{constructor(qe,ft){this._delegate=qe,this._service=ft}get prefixes(){return this._delegate.prefixes.map(qe=>new ot(qe,this._service))}get items(){return this._delegate.items.map(qe=>new ot(qe,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ot{constructor(qe,ft){this._delegate=qe,this.storage=ft}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(qe){const ft=(0,$e.g6)(this._delegate,qe);return new ot(ft,this.storage)}get root(){return new ot(this._delegate.root,this.storage)}get parent(){const qe=this._delegate.parent;return null==qe?null:new ot(qe,this.storage)}put(qe,ft){return this._throwIfRoot("put"),new He((0,$e.B0)(this._delegate,qe,ft),this)}putString(qe,ft=$e.bm.RAW,ht){this._throwIfRoot("putString");const bt=(0,$e.qm)(ft,qe),mt=Object.assign({},ht);return null==mt.contentType&&null!=bt.contentType&&(mt.contentType=bt.contentType),new He(new $e.IX(this._delegate,new $e.UJ(bt.data,!0),mt),this)}listAll(){return(0,$e.aF)(this._delegate).then(qe=>new Ze(qe,this.storage))}list(qe){return(0,$e.pb)(this._delegate,qe||void 0).then(ft=>new Ze(ft,this.storage))}getMetadata(){return(0,$e.sd)(this._delegate)}updateMetadata(qe){return(0,$e.Ym)(this._delegate,qe)}getDownloadURL(){return(0,$e.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,$e.oq)(this._delegate)}_throwIfRoot(qe){if(""===this._delegate._location.path)throw(0,$e.y4)(qe)}}class ue{constructor(qe,ft){this.app=qe,this._delegate=ft}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(qe){if(Ge(qe))throw(0,$e.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new ot((0,$e.iH)(this._delegate,qe),this)}refFromURL(qe){if(!Ge(qe))throw(0,$e.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$e.gE.makeFromUrl(qe,this._delegate.host)}catch{throw(0,$e.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new ot((0,$e.iH)(this._delegate,qe),this)}setMaxUploadRetryTime(qe){this._delegate.maxUploadRetryTime=qe}setMaxOperationRetryTime(qe){this._delegate.maxOperationRetryTime=qe}useEmulator(qe,ft,ht={}){(0,$e.a1)(this._delegate,qe,ft,ht)}}function Ge(Ke){return/^[A-Za-z]+:\/\//.test(Ke)}function W(Ke,{instanceIdentifier:qe}){const ft=Ke.getProvider("app-compat").getImmediate(),ht=Ke.getProvider("storage").getImmediate({identifier:qe});return new ue(ft,ht)}!function Le(Ke){const qe={TaskState:$e.$Y,TaskEvent:$e.FN,StringFormat:$e.bm,Storage:ue,Reference:ot};Ke.INTERNAL.registerComponent(new nt.wA("storage-compat",W,"PUBLIC").setServiceProps(qe).setMultipleInstances(!0)),Ke.registerVersion("@firebase/storage-compat","0.3.2")}(Be.Z);var De=I(7142);function Te(Ke){const qe=function Ae(Ke){return new N.y(qe=>{const ft=Kt=>qe.next(Kt);ft(Ke.snapshot);const mt=Ke.on("state_changed",ft);return Ke.then(Kt=>{ft(Kt),qe.complete()},Kt=>{ft(Ke.snapshot),(Kt=>{qe.error(Kt)})(Kt)}),function(){mt()}}).pipe(function Me(Ke,qe=Z.z){return(0,Q.e)((ft,ht)=>{let bt=null,mt=null,Kt=null;const Dt=()=>{if(bt){bt.unsubscribe(),bt=null;const Ct=mt;mt=null,ht.next(Ct)}};function Tt(){const Ct=Kt+Ke,Vt=qe.now();if(Vt<Ct)return bt=this.schedule(void 0,Ct-Vt),void ht.add(bt);Dt()}ft.subscribe((0,ne.x)(ht,Ct=>{mt=Ct,Kt=qe.now(),bt||(bt=qe.schedule(Tt,Ke),ht.add(bt))},()=>{Dt(),ht.complete()},void 0,()=>{mt=bt=null}))})}(0))}(Ke);return{task:Ke,then:Ke.then.bind(Ke),catch:Ke.catch.bind(Ke),pause:Ke.pause.bind(Ke),cancel:Ke.cancel.bind(Ke),resume:Ke.resume.bind(Ke),snapshotChanges:()=>qe,percentageChanges:()=>qe.pipe((0,K.U)(ft=>ft.bytesTransferred/ft.totalBytes*100))}}function Ve(Ke){return{getDownloadURL:()=>(0,F.of)(void 0).pipe(_.fc,(0,le.w)(()=>Ke.getDownloadURL()),_.iC),getMetadata:()=>(0,F.of)(void 0).pipe(_.fc,(0,le.w)(()=>Ke.getMetadata()),_.iC),delete:()=>(0,Y.D)(Ke.delete()),child:qe=>Ve(Ke.child(qe)),updateMetadata:qe=>(0,Y.D)(Ke.updateMetadata(qe)),put:(qe,ft)=>Te(Ke.put(qe,ft)),putString:(qe,ft,ht)=>Te(Ke.putString(qe,ft,ht)),list:qe=>(0,Y.D)(Ke.list(qe)),listAll:()=>(0,Y.D)(Ke.listAll())}}const _t=new ge.OlP("angularfire2.storageBucket"),Rt=new ge.OlP("angularfire2.storage.maxUploadRetryTime"),At=new ge.OlP("angularfire2.storage.maxOperationRetryTime"),rt=new ge.OlP("angularfire2.storage.use-emulator");let fe=(()=>{var Ke;class qe{constructor(ht,bt,mt,Kt,Dt,Tt,Ct,Vt,Ht,on){(0,a.Z)(this,"storage",void 0);const cn=(0,we.on)(ht,Dt,bt);this.storage=(0,we.cc)(`${cn.name}.storage.${mt}`,"AngularFireStorage",cn.name,()=>{const wn=Dt.runOutsideAngular(()=>cn.storage(mt||void 0)),Jt=Ht;return Jt&&wn.useEmulator(...Jt),Ct&&wn.setMaxUploadRetryTime(Ct),Vt&&wn.setMaxOperationRetryTime(Vt),wn},[Ct,Vt])}ref(ht){return Ve(this.storage.ref(ht))}refFromURL(ht){return Ve(this.storage.refFromURL(ht))}upload(ht,bt,mt){return Ve(this.storage.ref(ht)).put(bt,mt)}}return Ke=qe,(0,a.Z)(qe,"\u0275fac",function(ht){return new(ht||Ke)(ge.LFG(we.Dh),ge.LFG(we.xv,8),ge.LFG(_t,8),ge.LFG(ge.Lbi),ge.LFG(ge.R0b),ge.LFG(_.HU),ge.LFG(Rt,8),ge.LFG(At,8),ge.LFG(rt,8),ge.LFG(_.Rf,8))}),(0,a.Z)(qe,"\u0275prov",ge.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"any"})),qe})(),Ue=(()=>{var Ke;class qe{}return Ke=qe,(0,a.Z)(qe,"\u0275fac",function(ht){return new(ht||Ke)}),(0,a.Z)(qe,"\u0275mod",ge.oAB({type:Ke})),(0,a.Z)(qe,"\u0275inj",ge.cJS({})),qe})(),Se=(()=>{var Ke;class qe{constructor(){De.Z.registerVersion("angularfire",_.q4.full,"gcs-compat")}}return Ke=qe,(0,a.Z)(qe,"\u0275fac",function(ht){return new(ht||Ke)}),(0,a.Z)(qe,"\u0275mod",ge.oAB({type:Ke})),(0,a.Z)(qe,"\u0275inj",ge.cJS({providers:[fe],imports:[Ue]})),qe})()},7217:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Dh:()=>Me,GT:()=>Q,cc:()=>$e,hO:()=>Be,on:()=>le,pX:()=>Z,xv:()=>K});var a=I(1180),_=I(5879),N=I(1920),F=I(7142);const Y=["ngOnDestroy"],Z=(Ze,ot,ue,Ge={})=>new Proxy(Ze,{get:(be,_e)=>ue.runOutsideAngular(()=>{var te;if(Ze[_e])return null!=Ge&&null!==(te=Ge.spy)&&void 0!==te&&te.get&&Ge.spy.get(_e,Ze[_e]),Ze[_e];if(Y.indexOf(_e)>-1)return()=>{};const W=ot.toPromise().then(Le=>{const De=null==Le?void 0:Le[_e];return"function"==typeof De?De.bind(Le):null!=De&&De.then?De.then(Ae=>ue.run(()=>Ae)):ue.run(()=>De)});return new Proxy(()=>{},{get:(Le,De)=>W[De],apply:(Le,De,Ae)=>W.then(Te=>{var Ve;const _t=null==Te?void 0:Te(...Ae);return null!=Ge&&null!==(Ve=Ge.spy)&&void 0!==Ve&&Ve.apply&&Ge.spy.apply(_e,Ae,_t),_t})})})}),Q=(Ze,ot)=>{ot.forEach(ue=>{Object.getOwnPropertyNames(ue.prototype||ue).forEach(Ge=>{Object.defineProperty(Ze.prototype,Ge,Object.getOwnPropertyDescriptor(ue.prototype||ue,Ge))})})};class ne{constructor(ot){return ot}}const Me=new _.OlP("angularfire2.app.options"),K=new _.OlP("angularfire2.app.name");function le(Ze,ot,ue){const be="object"==typeof ue&&ue||{};be.name=be.name||"string"==typeof ue&&ue||"[DEFAULT]";const te=F.Z.apps.filter(W=>W&&W.name===be.name)[0]||ot.runOutsideAngular(()=>F.Z.initializeApp(Ze,be));try{if(JSON.stringify(Ze)!==JSON.stringify(te.options)){const W=!!module.hot;ge("error",`${te.name} Firebase App already initialized with different options${W?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ne(te)}const ge=(Ze,...ot)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Ze](...ot)},we={provide:ne,useFactory:le,deps:[Me,_.R0b,[new _.FiY,K]]};let Be=(()=>{var Ze;class ot{static initializeApp(Ge,be){return{ngModule:ot,providers:[{provide:Me,useValue:Ge},{provide:K,useValue:be}]}}constructor(Ge){F.Z.registerVersion("angularfire",N.q4.full,"core"),F.Z.registerVersion("angularfire",N.q4.full,"app-compat"),F.Z.registerVersion("angular",_.q4F.full,Ge.toString())}}return Ze=ot,(0,a.Z)(ot,"\u0275fac",function(Ge){return new(Ge||Ze)(_.LFG(_.Lbi))}),(0,a.Z)(ot,"\u0275mod",_.oAB({type:Ze})),(0,a.Z)(ot,"\u0275inj",_.cJS({providers:[we]})),ot})();function $e(Ze,ot,ue,Ge,be){const[,_e,te]=globalThis.\u0275AngularfireInstanceCache.find(W=>W[0]===Ze)||[];if(_e)return function nt(Ze,ot){try{return Ze.toString()===ot.toString()}catch{return Ze===ot}}(be,te)||(He("error",`${ot} was already initialized on the ${ue} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),He("warn",{is:be,was:te})),_e;{const W=Ge();return globalThis.\u0275AngularfireInstanceCache.push([Ze,W,be]),W}}const We=typeof module<"u"&&!!module.hot,He=(Ze,...ot)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Ze](...ot)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1920:(Lt,Ce,I)=>{"use strict";I.d(Ce,{q4:()=>$e,iC:()=>Te,fc:()=>De,HU:()=>_e,Rf:()=>Ze,vb:()=>He,JM:()=>We,u3:()=>Rt});var a=I(1180),_=I(5879),N=I(3182),F=I(1954),Z=I(2631);const ne=new class Q extends Z.v{}(class Y extends F.o{constructor(rt,fe){super(rt,fe),this.scheduler=rt,this.work=fe}schedule(rt,fe=0){return fe>0?super.schedule(rt,fe):(this.delay=fe,this.state=rt,this.scheduler.flush(this),this)}execute(rt,fe){return fe>0||this.closed?super.execute(rt,fe):this._execute(rt,fe)}requestAsyncId(rt,fe,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(rt,fe,he):(rt.flush(this),0)}});var K=I(6321),le=I(5592),ge=I(9397),we=I(3093),Be=I(5137);const $e=new _.GfV("ANGULARFIRE2_VERSION");function We(At,rt,fe){if(rt){if(1===rt.length)return rt[0];const Se=rt.filter(Ke=>Ke.app===fe);if(1===Se.length)return Se[0]}return fe.container.getProvider(At).getImmediate({optional:!0})}const He=(At,rt)=>{const fe=rt?[rt]:(0,N.C6)(),he=[];return fe.forEach(Ue=>{Ue.container.getProvider(At).instances.forEach(Ke=>{he.includes(Ke)||he.push(Ke)})}),he};class Ze{constructor(){return He(ot)}}const ot="app-check";function ue(){}class Ge{constructor(rt,fe=ne){(0,a.Z)(this,"zone",void 0),(0,a.Z)(this,"delegate",void 0),this.zone=rt,this.delegate=fe}now(){return this.delegate.now()}schedule(rt,fe,he){const Ue=this.zone;return this.delegate.schedule(function(Ke){Ue.runGuarded(()=>{rt.apply(this,[Ke])})},fe,he)}}class be{constructor(rt){(0,a.Z)(this,"zone",void 0),(0,a.Z)(this,"task",null),this.zone=rt}call(rt,fe){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ue,{},ue,ue)),fe.pipe((0,ge.b)({next:he,complete:he,error:he})).subscribe(rt).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _e=(()=>{var At;class rt{constructor(he){(0,a.Z)(this,"ngZone",void 0),(0,a.Z)(this,"outsideAngular",void 0),(0,a.Z)(this,"insideAngular",void 0),this.ngZone=he,this.outsideAngular=he.runOutsideAngular(()=>new Ge(Zone.current)),this.insideAngular=he.run(()=>new Ge(Zone.current,K.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return At=rt,(0,a.Z)(rt,"\u0275fac",function(he){return new(he||At)(_.LFG(_.R0b))}),(0,a.Z)(rt,"\u0275prov",_.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"})),rt})();function te(){const At=globalThis.\u0275AngularFireScheduler;if(!At)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return At}function Le(At){return te().ngZone.run(()=>At())}function De(At){return At.pipe((0,we.Q)(te().outsideAngular))}function Te(At){return function Ve(At){return function(fe){return(fe=fe.lift(new be(At.ngZone))).pipe((0,Be.R)(At.outsideAngular),(0,we.Q)(At.insideAngular))}}(te())(At)}const _t=(At,rt)=>function(){const he=arguments;return rt&&setTimeout(()=>{"scheduled"===rt.state&&rt.invoke()},10),Le(()=>At.apply(void 0,he))},Rt=(At,rt)=>function(){let fe;const he=arguments;for(let Se=0;Se<arguments.length;Se++)"function"==typeof he[Se]&&(rt&&(fe||(fe=Le(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ue,{},ue,ue)))),he[Se]=_t(he[Se],fe));const Ue=function W(At){return te().ngZone.runOutsideAngular(()=>At())}(()=>At.apply(this,he));if(!rt){if(Ue instanceof le.y){const Se=te();return Ue.pipe((0,Be.R)(Se.outsideAngular),(0,we.Q)(Se.insideAngular))}return Le(()=>Ue)}return Ue instanceof le.y?Ue.pipe(Te):Ue instanceof Promise?Le(()=>new Promise((Se,Ke)=>Ue.then(qe=>Le(()=>Se(qe)),qe=>Le(()=>Ke(qe))))):"function"==typeof Ue&&fe?function(){return setTimeout(()=>{fe&&"scheduled"===fe.state&&fe.invoke()},10),Ue.apply(this,arguments)}:Le(()=>Ue)}},95:(Lt,Ce,I)=>{"use strict";I.d(Ce,{NI:()=>ve,oH:()=>Pr,u:()=>Vr,cw:()=>pt,sg:()=>bn,u5:()=>Ka,Fd:()=>ar,qQ:()=>jr,Cf:()=>_e,JU:()=>$e,a5:()=>Dn,JJ:()=>xn,JL:()=>Sn,UX:()=>qs,kI:()=>Le,_Y:()=>Xn});var a=I(5879),_=I(6814),N=I(2459),F=I(5592),Y=I(7453),Z=I(4829),Q=I(4564),ne=I(8251),Me=I(7400),K=I(2714),ge=I(7398);let we=(()=>{var G;class V{constructor(q,Ye){this._renderer=q,this._elementRef=Ye,this.onChange=ln=>{},this.onTouched=()=>{}}setProperty(q,Ye){this._renderer.setProperty(this._elementRef.nativeElement,q,Ye)}registerOnTouched(q){this.onTouched=q}registerOnChange(q){this.onChange=q}setDisabledState(q){this.setProperty("disabled",q)}}return(G=V).\u0275fac=function(q){return new(q||G)(a.Y36(a.Qsj),a.Y36(a.SBq))},G.\u0275dir=a.lG2({type:G}),V})(),Be=(()=>{var G;class V extends we{}return(G=V).\u0275fac=function(){let Oe;return function(Ye){return(Oe||(Oe=a.n5z(G)))(Ye||G)}}(),G.\u0275dir=a.lG2({type:G,features:[a.qOj]}),V})();const $e=new a.OlP("NgValueAccessor"),He={provide:$e,useExisting:(0,a.Gpc)(()=>ue),multi:!0},ot=new a.OlP("CompositionEventMode");let ue=(()=>{var G;class V extends we{constructor(q,Ye,ln){super(q,Ye),this._compositionMode=ln,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ze(){const G=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(q){this.setProperty("value",null==q?"":q)}_handleInput(q){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(q)}_compositionStart(){this._composing=!0}_compositionEnd(q){this._composing=!1,this._compositionMode&&this.onChange(q)}}return(G=V).\u0275fac=function(q){return new(q||G)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(ot,8))},G.\u0275dir=a.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(q,Ye){1&q&&a.NdJ("input",function(er){return Ye._handleInput(er.target.value)})("blur",function(){return Ye.onTouched()})("compositionstart",function(){return Ye._compositionStart()})("compositionend",function(er){return Ye._compositionEnd(er.target.value)})},features:[a._Bn([He]),a.qOj]}),V})();function Ge(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function be(G){return null!=G&&"number"==typeof G.length}const _e=new a.OlP("NgValidators"),te=new a.OlP("NgAsyncValidators"),W=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Le{static min(V){return De(V)}static max(V){return Ae(V)}static required(V){return function Te(G){return Ge(G.value)?{required:!0}:null}(V)}static requiredTrue(V){return function Ve(G){return!0===G.value?null:{required:!0}}(V)}static email(V){return function _t(G){return Ge(G.value)||W.test(G.value)?null:{email:!0}}(V)}static minLength(V){return function Rt(G){return V=>Ge(V.value)||!be(V.value)?null:V.value.length<G?{minlength:{requiredLength:G,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function At(G){return V=>be(V.value)&&V.value.length>G?{maxlength:{requiredLength:G,actualLength:V.value.length}}:null}(V)}static pattern(V){return function rt(G){if(!G)return fe;let V,Oe;return"string"==typeof G?(Oe="","^"!==G.charAt(0)&&(Oe+="^"),Oe+=G,"$"!==G.charAt(G.length-1)&&(Oe+="$"),V=new RegExp(Oe)):(Oe=G.toString(),V=G),q=>{if(Ge(q.value))return null;const Ye=q.value;return V.test(Ye)?null:{pattern:{requiredPattern:Oe,actualValue:Ye}}}}(V)}static nullValidator(V){return null}static compose(V){return ht(V)}static composeAsync(V){return mt(V)}}function De(G){return V=>{if(Ge(V.value)||Ge(G))return null;const Oe=parseFloat(V.value);return!isNaN(Oe)&&Oe<G?{min:{min:G,actual:V.value}}:null}}function Ae(G){return V=>{if(Ge(V.value)||Ge(G))return null;const Oe=parseFloat(V.value);return!isNaN(Oe)&&Oe>G?{max:{max:G,actual:V.value}}:null}}function fe(G){return null}function he(G){return null!=G}function Ue(G){return(0,a.QGY)(G)?(0,N.D)(G):G}function Se(G){let V={};return G.forEach(Oe=>{V=null!=Oe?{...V,...Oe}:V}),0===Object.keys(V).length?null:V}function Ke(G,V){return V.map(Oe=>Oe(G))}function ft(G){return G.map(V=>function qe(G){return!G.validate}(V)?V:Oe=>V.validate(Oe))}function ht(G){if(!G)return null;const V=G.filter(he);return 0==V.length?null:function(Oe){return Se(Ke(Oe,V))}}function bt(G){return null!=G?ht(ft(G)):null}function mt(G){if(!G)return null;const V=G.filter(he);return 0==V.length?null:function(Oe){return function le(...G){const V=(0,Q.jO)(G),{args:Oe,keys:q}=(0,Y.D)(G),Ye=new F.y(ln=>{const{length:er}=Oe;if(!er)return void ln.complete();const _i=new Array(er);let po=er,So=er;for(let $o=0;$o<er;$o++){let ao=!1;(0,Z.Xf)(Oe[$o]).subscribe((0,ne.x)(ln,Io=>{ao||(ao=!0,So--),_i[$o]=Io},()=>po--,void 0,()=>{(!po||!ao)&&(So||ln.next(q?(0,K.n)(q,_i):_i),ln.complete())}))}});return V?Ye.pipe((0,Me.Z)(V)):Ye}(Ke(Oe,V).map(Ue)).pipe((0,ge.U)(Se))}}function Kt(G){return null!=G?mt(ft(G)):null}function Dt(G,V){return null===G?[V]:Array.isArray(G)?[...G,V]:[G,V]}function Tt(G){return G._rawValidators}function Ct(G){return G._rawAsyncValidators}function Vt(G){return G?Array.isArray(G)?G:[G]:[]}function Ht(G,V){return Array.isArray(G)?G.includes(V):G===V}function on(G,V){const Oe=Vt(V);return Vt(G).forEach(Ye=>{Ht(Oe,Ye)||Oe.push(Ye)}),Oe}function cn(G,V){return Vt(V).filter(Oe=>!Ht(G,Oe))}class wn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=bt(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=Kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V=void 0){this.control&&this.control.reset(V)}hasError(V,Oe){return!!this.control&&this.control.hasError(V,Oe)}getError(V,Oe){return this.control?this.control.getError(V,Oe):null}}class Jt extends wn{get formDirective(){return null}get path(){return null}}class Dn extends wn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class On{constructor(V){this._cd=V}get isTouched(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.touched)}get isUntouched(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.untouched)}get isPristine(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.pristine)}get isDirty(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.dirty)}get isValid(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.valid)}get isInvalid(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.invalid)}get isPending(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.pending)}get isSubmitted(){var V;return!(null===(V=this._cd)||void 0===V||!V.submitted)}}let xn=(()=>{var G;class V extends On{constructor(q){super(q)}}return(G=V).\u0275fac=function(q){return new(q||G)(a.Y36(Dn,2))},G.\u0275dir=a.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(q,Ye){2&q&&a.ekj("ng-untouched",Ye.isUntouched)("ng-touched",Ye.isTouched)("ng-pristine",Ye.isPristine)("ng-dirty",Ye.isDirty)("ng-valid",Ye.isValid)("ng-invalid",Ye.isInvalid)("ng-pending",Ye.isPending)},features:[a.qOj]}),V})(),Sn=(()=>{var G;class V extends On{constructor(q){super(q)}}return(G=V).\u0275fac=function(q){return new(q||G)(a.Y36(Jt,10))},G.\u0275dir=a.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(q,Ye){2&q&&a.ekj("ng-untouched",Ye.isUntouched)("ng-touched",Ye.isTouched)("ng-pristine",Ye.isPristine)("ng-dirty",Ye.isDirty)("ng-valid",Ye.isValid)("ng-invalid",Ye.isInvalid)("ng-pending",Ye.isPending)("ng-submitted",Ye.isSubmitted)},features:[a.qOj]}),V})();const Ne="VALID",st="INVALID",je="PENDING",St="DISABLED";function ke(G){return(w(G)?G.validators:G)||null}function $(G,V){return(w(V)?V.asyncValidators:G)||null}function w(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class tt{constructor(V,Oe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(V),this._assignAsyncValidators(Oe)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===Ne}get invalid(){return this.status===st}get pending(){return this.status==je}get disabled(){return this.status===St}get enabled(){return this.status!==St}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._assignValidators(V)}setAsyncValidators(V){this._assignAsyncValidators(V)}addValidators(V){this.setValidators(on(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(on(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(cn(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(cn(V,this._rawAsyncValidators))}hasValidator(V){return Ht(this._rawValidators,V)}hasAsyncValidator(V){return Ht(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Oe=>{Oe.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Oe=>{Oe.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=je,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const Oe=this._parentMarkedDirty(V.onlySelf);this.status=St,this.errors=null,this._forEachChild(q=>{q.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:Oe}),this._onDisabledChange.forEach(q=>q(!0))}enable(V={}){const Oe=this._parentMarkedDirty(V.onlySelf);this.status=Ne,this._forEachChild(q=>{q.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:Oe}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ne||this.status===je)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(Oe=>Oe._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?St:Ne}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=je,this._hasOwnPendingAsyncValidator=!0;const Oe=Ue(this.asyncValidator(this));this._asyncValidationSubscription=Oe.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,Oe={}){this.errors=V,this._updateControlsErrors(!1!==Oe.emitEvent)}get(V){let Oe=V;return null==Oe||(Array.isArray(Oe)||(Oe=Oe.split(".")),0===Oe.length)?null:Oe.reduce((q,Ye)=>q&&q._find(Ye),this)}getError(V,Oe){const q=Oe?this.get(Oe):this;return q&&q.errors?q.errors[V]:null}hasError(V,Oe){return!!this.getError(V,Oe)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?St:this.errors?st:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(je)?je:this._anyControlsHaveStatus(st)?st:Ne}_anyControlsHaveStatus(V){return this._anyControls(Oe=>Oe.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){w(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}_assignValidators(V){this._rawValidators=Array.isArray(V)?V.slice():V,this._composedValidatorFn=function J(G){return Array.isArray(G)?bt(G):G||null}(this._rawValidators)}_assignAsyncValidators(V){this._rawAsyncValidators=Array.isArray(V)?V.slice():V,this._composedAsyncValidatorFn=function R(G){return Array.isArray(G)?Kt(G):G||null}(this._rawAsyncValidators)}}class pt extends tt{constructor(V,Oe,q){super(ke(Oe),$(q,Oe)),this.controls=V,this._initObservables(),this._setUpdateStrategy(Oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,Oe){return this.controls[V]?this.controls[V]:(this.controls[V]=Oe,Oe.setParent(this),Oe._registerOnCollectionChange(this._onCollectionChange),Oe)}addControl(V,Oe,q={}){this.registerControl(V,Oe),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(V,Oe={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}setControl(V,Oe,q={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],Oe&&this.registerControl(V,Oe),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,Oe={}){(function ce(G,V,Oe){G._forEachChild((q,Ye)=>{if(void 0===Oe[Ye])throw new a.vHH(1002,"")})})(this,0,V),Object.keys(V).forEach(q=>{(function j(G,V,Oe){const q=G.controls;if(!(V?Object.keys(q):q).length)throw new a.vHH(1e3,"");if(!q[Oe])throw new a.vHH(1001,"")})(this,!0,q),this.controls[q].setValue(V[q],{onlySelf:!0,emitEvent:Oe.emitEvent})}),this.updateValueAndValidity(Oe)}patchValue(V,Oe={}){null!=V&&(Object.keys(V).forEach(q=>{const Ye=this.controls[q];Ye&&Ye.patchValue(V[q],{onlySelf:!0,emitEvent:Oe.emitEvent})}),this.updateValueAndValidity(Oe))}reset(V={},Oe={}){this._forEachChild((q,Ye)=>{q.reset(V?V[Ye]:null,{onlySelf:!0,emitEvent:Oe.emitEvent})}),this._updatePristine(Oe),this._updateTouched(Oe),this.updateValueAndValidity(Oe)}getRawValue(){return this._reduceChildren({},(V,Oe,q)=>(V[q]=Oe.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(Oe,q)=>!!q._syncPendingControls()||Oe);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(Oe=>{const q=this.controls[Oe];q&&V(q,Oe)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[Oe,q]of Object.entries(this.controls))if(this.contains(Oe)&&V(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Oe,q,Ye)=>((q.enabled||this.disabled)&&(Oe[Ye]=q.value),Oe))}_reduceChildren(V,Oe){let q=V;return this._forEachChild((Ye,ln)=>{q=Oe(q,Ye,ln)}),q}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}const nn=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Kn}),Kn="always";function xt(G,V,Oe=Kn){var q,Ye;Nn(G,V),V.valueAccessor.writeValue(G.value),(G.disabled||"always"===Oe)&&(null===(q=(Ye=V.valueAccessor).setDisabledState)||void 0===q||q.call(Ye,G.disabled)),function tr(G,V){V.valueAccessor.registerOnChange(Oe=>{G._pendingValue=Oe,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&yr(G,V)})}(G,V),function ci(G,V){const Oe=(q,Ye)=>{V.valueAccessor.writeValue(q),Ye&&V.viewToModelUpdate(q)};G.registerOnChange(Oe),V._registerOnDestroy(()=>{G._unregisterOnChange(Oe)})}(G,V),function Br(G,V){V.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&yr(G,V),"submit"!==G.updateOn&&G.markAsTouched()})}(G,V),function yn(G,V){if(V.valueAccessor.setDisabledState){const Oe=q=>{V.valueAccessor.setDisabledState(q)};G.registerOnDisabledChange(Oe),V._registerOnDestroy(()=>{G._unregisterOnDisabledChange(Oe)})}}(G,V)}function Et(G,V,Oe=!0){const q=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(q),V.valueAccessor.registerOnTouched(q)),pn(G,V),G&&(V._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function Gt(G,V){G.forEach(Oe=>{Oe.registerOnValidatorChange&&Oe.registerOnValidatorChange(V)})}function Nn(G,V){const Oe=Tt(G);null!==V.validator?G.setValidators(Dt(Oe,V.validator)):"function"==typeof Oe&&G.setValidators([Oe]);const q=Ct(G);null!==V.asyncValidator?G.setAsyncValidators(Dt(q,V.asyncValidator)):"function"==typeof q&&G.setAsyncValidators([q]);const Ye=()=>G.updateValueAndValidity();Gt(V._rawValidators,Ye),Gt(V._rawAsyncValidators,Ye)}function pn(G,V){let Oe=!1;if(null!==G){if(null!==V.validator){const Ye=Tt(G);if(Array.isArray(Ye)&&Ye.length>0){const ln=Ye.filter(er=>er!==V.validator);ln.length!==Ye.length&&(Oe=!0,G.setValidators(ln))}}if(null!==V.asyncValidator){const Ye=Ct(G);if(Array.isArray(Ye)&&Ye.length>0){const ln=Ye.filter(er=>er!==V.asyncValidator);ln.length!==Ye.length&&(Oe=!0,G.setAsyncValidators(ln))}}}const q=()=>{};return Gt(V._rawValidators,q),Gt(V._rawAsyncValidators,q),Oe}function yr(G,V){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function yi(G,V){if(!G.hasOwnProperty("model"))return!1;const Oe=G.model;return!!Oe.isFirstChange()||!Object.is(V,Oe.currentValue)}function oi(G,V){if(!V)return null;let Oe,q,Ye;return Array.isArray(V),V.forEach(ln=>{ln.constructor===ue?Oe=ln:function Ei(G){return Object.getPrototypeOf(G.constructor)===Be}(ln)?q=ln:Ye=ln}),Ye||q||Oe||null}function ki(G,V){const Oe=G.indexOf(V);Oe>-1&&G.splice(Oe,1)}function Yi(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const ve=class extends tt{constructor(V=null,Oe,q){super(ke(Oe),$(q,Oe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(Oe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),w(Oe)&&(Oe.nonNullable||Oe.initialValueIsDefault)&&(this.defaultValue=Yi(V)?V.value:V)}setValue(V,Oe={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==Oe.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==Oe.emitViewToModelChange)),this.updateValueAndValidity(Oe)}patchValue(V,Oe={}){this.setValue(V,Oe)}reset(V=this.defaultValue,Oe={}){this._applyFormState(V),this.markAsPristine(Oe),this.markAsUntouched(Oe),this.setValue(this.value,Oe),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){ki(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){ki(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){Yi(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}};let Xn=(()=>{var G;class V{}return(G=V).\u0275fac=function(q){return new(q||G)},G.\u0275dir=a.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})(),hr=(()=>{var G;class V{}return(G=V).\u0275fac=function(q){return new(q||G)},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({}),V})();const En=new a.OlP("NgModelWithFormControlWarning"),In={provide:Dn,useExisting:(0,a.Gpc)(()=>Pr)};let Pr=(()=>{var G;class V extends Dn{set isDisabled(q){}constructor(q,Ye,ln,er,_i){super(),this._ngModelWarningConfig=er,this.callSetDisabledState=_i,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(q),this._setAsyncValidators(Ye),this.valueAccessor=oi(0,ln)}ngOnChanges(q){if(this._isControlChanged(q)){const Ye=q.form.previousValue;Ye&&Et(Ye,this,!1),xt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}yi(q,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Et(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(q){this.viewModel=q,this.update.emit(q)}_isControlChanged(q){return q.hasOwnProperty("form")}}return(G=V)._ngModelWarningSentOnce=!1,G.\u0275fac=function(q){return new(q||G)(a.Y36(_e,10),a.Y36(te,10),a.Y36($e,10),a.Y36(En,8),a.Y36(nn,8))},G.\u0275dir=a.lG2({type:G,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([In]),a.qOj,a.TTD]}),V})();const or={provide:Jt,useExisting:(0,a.Gpc)(()=>bn)};let bn=(()=>{var G;class V extends Jt{constructor(q,Ye,ln){super(),this.callSetDisabledState=ln,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(q),this._setAsyncValidators(Ye)}ngOnChanges(q){this._checkFormPresent(),q.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(q){const Ye=this.form.get(q.path);return xt(Ye,q,this.callSetDisabledState),Ye.updateValueAndValidity({emitEvent:!1}),this.directives.push(q),Ye}getControl(q){return this.form.get(q.path)}removeControl(q){Et(q.control||null,q,!1),function Ti(G,V){const Oe=G.indexOf(V);Oe>-1&&G.splice(Oe,1)}(this.directives,q)}addFormGroup(q){this._setUpFormContainer(q)}removeFormGroup(q){this._cleanUpFormContainer(q)}getFormGroup(q){return this.form.get(q.path)}addFormArray(q){this._setUpFormContainer(q)}removeFormArray(q){this._cleanUpFormContainer(q)}getFormArray(q){return this.form.get(q.path)}updateModel(q,Ye){this.form.get(q.path).setValue(Ye)}onSubmit(q){var Ye;return this.submitted=!0,function Fr(G,V){G._syncPendingControls(),V.forEach(Oe=>{const q=Oe.control;"submit"===q.updateOn&&q._pendingChange&&(Oe.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(q),"dialog"===(null==q||null===(Ye=q.target)||void 0===Ye?void 0:Ye.method)}onReset(){this.resetForm()}resetForm(q=void 0){this.form.reset(q),this.submitted=!1}_updateDomValue(){this.directives.forEach(q=>{const Ye=q.control,ln=this.form.get(q.path);Ye!==ln&&(Et(Ye||null,q),(G=>G instanceof ve)(ln)&&(xt(ln,q,this.callSetDisabledState),q.control=ln))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(q){const Ye=this.form.get(q.path);(function Wr(G,V){Nn(G,V)})(Ye,q),Ye.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(q){if(this.form){const Ye=this.form.get(q.path);Ye&&function vi(G,V){return pn(G,V)}(Ye,q)&&Ye.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nn(this.form,this),this._oldForm&&pn(this._oldForm,this)}_checkFormPresent(){}}return(G=V).\u0275fac=function(q){return new(q||G)(a.Y36(_e,10),a.Y36(te,10),a.Y36(nn,8))},G.\u0275dir=a.lG2({type:G,selectors:[["","formGroup",""]],hostBindings:function(q,Ye){1&q&&a.NdJ("submit",function(er){return Ye.onSubmit(er)})("reset",function(){return Ye.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([or]),a.qOj,a.TTD]}),V})();const Mi={provide:Dn,useExisting:(0,a.Gpc)(()=>Vr)};let Vr=(()=>{var G;class V extends Dn{set isDisabled(q){}constructor(q,Ye,ln,er,_i){super(),this._ngModelWarningConfig=_i,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=q,this._setValidators(Ye),this._setAsyncValidators(ln),this.valueAccessor=oi(0,er)}ngOnChanges(q){this._added||this._setUpControl(),yi(q,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(q){this.viewModel=q,this.update.emit(q)}get path(){return function Gr(G,V){return[...V.path,G]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(G=V)._ngModelWarningSentOnce=!1,G.\u0275fac=function(q){return new(q||G)(a.Y36(Jt,13),a.Y36(_e,10),a.Y36(te,10),a.Y36($e,10),a.Y36(En,8))},G.\u0275dir=a.lG2({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Mi]),a.qOj,a.TTD]}),V})();function qt(G){return"number"==typeof G?G:parseFloat(G)}let gn=(()=>{var G;class V{constructor(){this._validator=fe}ngOnChanges(q){if(this.inputName in q){const Ye=this.normalizeInput(q[this.inputName].currentValue);this._enabled=this.enabled(Ye),this._validator=this._enabled?this.createValidator(Ye):fe,this._onChange&&this._onChange()}}validate(q){return this._validator(q)}registerOnValidatorChange(q){this._onChange=q}enabled(q){return null!=q}}return(G=V).\u0275fac=function(q){return new(q||G)},G.\u0275dir=a.lG2({type:G,features:[a.TTD]}),V})();const zn={provide:_e,useExisting:(0,a.Gpc)(()=>ar),multi:!0};let ar=(()=>{var G;class V extends gn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=q=>qt(q),this.createValidator=q=>Ae(q)}}return(G=V).\u0275fac=function(){let Oe;return function(Ye){return(Oe||(Oe=a.n5z(G)))(Ye||G)}}(),G.\u0275dir=a.lG2({type:G,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(q,Ye){2&q&&a.uIk("max",Ye._enabled?Ye.max:null)},inputs:{max:"max"},features:[a._Bn([zn]),a.qOj]}),V})();const jn={provide:_e,useExisting:(0,a.Gpc)(()=>jr),multi:!0};let jr=(()=>{var G;class V extends gn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=q=>qt(q),this.createValidator=q=>De(q)}}return(G=V).\u0275fac=function(){let Oe;return function(Ye){return(Oe||(Oe=a.n5z(G)))(Ye||G)}}(),G.\u0275dir=a.lG2({type:G,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(q,Ye){2&q&&a.uIk("min",Ye._enabled?Ye.min:null)},inputs:{min:"min"},features:[a._Bn([jn]),a.qOj]}),V})(),so=(()=>{var G;class V{}return(G=V).\u0275fac=function(q){return new(q||G)},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({imports:[hr]}),V})(),Ka=(()=>{var G;class V{static withConfig(q){var Ye;return{ngModule:V,providers:[{provide:nn,useValue:null!==(Ye=q.callSetDisabledState)&&void 0!==Ye?Ye:Kn}]}}}return(G=V).\u0275fac=function(q){return new(q||G)},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({imports:[so]}),V})(),qs=(()=>{var G;class V{static withConfig(q){var Ye,ln;return{ngModule:V,providers:[{provide:En,useValue:null!==(Ye=q.warnOnNgModelWithFormControl)&&void 0!==Ye?Ye:"always"},{provide:nn,useValue:null!==(ln=q.callSetDisabledState)&&void 0!==ln?ln:Kn}]}}}return(G=V).\u0275fac=function(q){return new(q||G)},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({imports:[so]}),V})()},6593:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Dx:()=>Dn,H7:()=>br,b2:()=>Ht,q6:()=>Dt});var a=I(5879),_=I(6814);class N extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class F extends N{static makeCurrent(){(0,_.HT)(new F)}onAndCancel($,R,w){return $.addEventListener(R,w),()=>{$.removeEventListener(R,w)}}dispatchEvent($,R){$.dispatchEvent(R)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,R){return(R=R||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,R){return"window"===R?window:"document"===R?$:"body"===R?$.body:null}getBaseHref($){const R=function Z(){return Y=Y||document.querySelector("base"),Y?Y.getAttribute("href"):null}();return null==R?null:function ne(J){Q=Q||document.createElement("a"),Q.setAttribute("href",J);const $=Q.pathname;return"/"===$.charAt(0)?$:`/${$}`}(R)}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,_.Mx)(document.cookie,$)}}let Q,Y=null,K=(()=>{var J;class ${build(){return new XMLHttpRequest}}return(J=$).\u0275fac=function(w){return new(w||J)},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac}),$})();const le=new a.OlP("EventManagerPlugins");let ge=(()=>{var J;class ${constructor(w,j){this._zone=j,this._eventNameToPlugin=new Map,w.forEach(ce=>{ce.manager=this}),this._plugins=w.slice().reverse()}addEventListener(w,j,ce){return this._findPluginFor(j).addEventListener(w,j,ce)}getZone(){return this._zone}_findPluginFor(w){let j=this._eventNameToPlugin.get(w);if(j)return j;if(j=this._plugins.find(tt=>tt.supports(w)),!j)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(w,j),j}}return(J=$).\u0275fac=function(w){return new(w||J)(a.LFG(le),a.LFG(a.R0b))},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac}),$})();class we{constructor($){this._doc=$}}const Be="ng-app-id";let $e=(()=>{var J;class ${constructor(w,j,ce,tt={}){this.doc=w,this.appId=j,this.nonce=ce,this.platformId=tt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,_.PM)(tt),this.resetHostNodes()}addStyles(w){for(const j of w)1===this.changeUsageCount(j,1)&&this.onStyleAdded(j)}removeStyles(w){for(const j of w)this.changeUsageCount(j,-1)<=0&&this.onStyleRemoved(j)}ngOnDestroy(){const w=this.styleNodesInDOM;w&&(w.forEach(j=>j.remove()),w.clear());for(const j of this.getAllStyles())this.onStyleRemoved(j);this.resetHostNodes()}addHost(w){this.hostNodes.add(w);for(const j of this.getAllStyles())this.addStyleToHost(w,j)}removeHost(w){this.hostNodes.delete(w)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(w){for(const j of this.hostNodes)this.addStyleToHost(j,w)}onStyleRemoved(w){var j;const ce=this.styleRef;null===(j=ce.get(w))||void 0===j||null===(j=j.elements)||void 0===j||j.forEach(tt=>tt.remove()),ce.delete(w)}collectServerRenderedStyles(){var w;const j=null===(w=this.doc.head)||void 0===w?void 0:w.querySelectorAll(`style[${Be}="${this.appId}"]`);if(null!=j&&j.length){const ce=new Map;return j.forEach(tt=>{null!=tt.textContent&&ce.set(tt.textContent,tt)}),ce}return null}changeUsageCount(w,j){const ce=this.styleRef;if(ce.has(w)){const tt=ce.get(w);return tt.usage+=j,tt.usage}return ce.set(w,{usage:j,elements:[]}),j}getStyleElement(w,j){const ce=this.styleNodesInDOM,tt=null==ce?void 0:ce.get(j);if((null==tt?void 0:tt.parentNode)===w)return ce.delete(j),tt.removeAttribute(Be),tt;{const pt=this.doc.createElement("style");return this.nonce&&pt.setAttribute("nonce",this.nonce),pt.textContent=j,this.platformIsServer&&pt.setAttribute(Be,this.appId),pt}}addStyleToHost(w,j){var ce;const tt=this.getStyleElement(w,j);w.appendChild(tt);const pt=this.styleRef,wt=null===(ce=pt.get(j))||void 0===ce?void 0:ce.elements;wt?wt.push(tt):pt.set(j,{elements:[tt],usage:1})}resetHostNodes(){const w=this.hostNodes;w.clear(),w.add(this.doc.head)}}return(J=$).\u0275fac=function(w){return new(w||J)(a.LFG(_.K0),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac}),$})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},We=/%COMP%/g,Ge=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function te(J,$){return $.map(R=>R.replace(We,J))}let W=(()=>{var J;class ${constructor(w,j,ce,tt,pt,wt,Pt,Bt=null){this.eventManager=w,this.sharedStylesHost=j,this.appId=ce,this.removeStylesOnCompDestroy=tt,this.doc=pt,this.platformId=wt,this.ngZone=Pt,this.nonce=Bt,this.rendererByCompId=new Map,this.platformIsServer=(0,_.PM)(wt),this.defaultRenderer=new Le(w,pt,Pt,this.platformIsServer)}createRenderer(w,j){if(!w||!j)return this.defaultRenderer;this.platformIsServer&&j.encapsulation===a.ifc.ShadowDom&&(j={...j,encapsulation:a.ifc.Emulated});const ce=this.getOrCreateRenderer(w,j);return ce instanceof Rt?ce.applyToHost(w):ce instanceof _t&&ce.applyStyles(),ce}getOrCreateRenderer(w,j){const ce=this.rendererByCompId;let tt=ce.get(j.id);if(!tt){const pt=this.doc,wt=this.ngZone,Pt=this.eventManager,Bt=this.sharedStylesHost,Zt=this.removeStylesOnCompDestroy,nn=this.platformIsServer;switch(j.encapsulation){case a.ifc.Emulated:tt=new Rt(Pt,Bt,j,this.appId,Zt,pt,wt,nn);break;case a.ifc.ShadowDom:return new Ve(Pt,Bt,w,j,pt,wt,this.nonce,nn);default:tt=new _t(Pt,Bt,j,Zt,pt,wt,nn)}ce.set(j.id,tt)}return tt}ngOnDestroy(){this.rendererByCompId.clear()}}return(J=$).\u0275fac=function(w){return new(w||J)(a.LFG(ge),a.LFG($e),a.LFG(a.AFp),a.LFG(Ge),a.LFG(_.K0),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac}),$})();class Le{constructor($,R,w,j){this.eventManager=$,this.doc=R,this.ngZone=w,this.platformIsServer=j,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,R){return R?this.doc.createElementNS(nt[R]||R,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,R){(Te($)?$.content:$).appendChild(R)}insertBefore($,R,w){$&&(Te($)?$.content:$).insertBefore(R,w)}removeChild($,R){$&&$.removeChild(R)}selectRootElement($,R){let w="string"==typeof $?this.doc.querySelector($):$;if(!w)throw new a.vHH(-5104,!1);return R||(w.textContent=""),w}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,R,w,j){if(j){R=j+":"+R;const ce=nt[j];ce?$.setAttributeNS(ce,R,w):$.setAttribute(R,w)}else $.setAttribute(R,w)}removeAttribute($,R,w){if(w){const j=nt[w];j?$.removeAttributeNS(j,R):$.removeAttribute(`${w}:${R}`)}else $.removeAttribute(R)}addClass($,R){$.classList.add(R)}removeClass($,R){$.classList.remove(R)}setStyle($,R,w,j){j&(a.JOm.DashCase|a.JOm.Important)?$.style.setProperty(R,w,j&a.JOm.Important?"important":""):$.style[R]=w}removeStyle($,R,w){w&a.JOm.DashCase?$.style.removeProperty(R):$.style[R]=""}setProperty($,R,w){$[R]=w}setValue($,R){$.nodeValue=R}listen($,R,w){if("string"==typeof $&&!($=(0,_.q)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${R}`);return this.eventManager.addEventListener($,R,this.decoratePreventDefault(w))}decoratePreventDefault($){return R=>{if("__ngUnwrap__"===R)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(R)):$(R))&&R.preventDefault()}}}function Te(J){return"TEMPLATE"===J.tagName&&void 0!==J.content}class Ve extends Le{constructor($,R,w,j,ce,tt,pt,wt){super($,ce,tt,wt),this.sharedStylesHost=R,this.hostEl=w,this.shadowRoot=w.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pt=te(j.id,j.styles);for(const Bt of Pt){const Zt=document.createElement("style");pt&&Zt.setAttribute("nonce",pt),Zt.textContent=Bt,this.shadowRoot.appendChild(Zt)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,R){return super.appendChild(this.nodeOrShadowRoot($),R)}insertBefore($,R,w){return super.insertBefore(this.nodeOrShadowRoot($),R,w)}removeChild($,R){return super.removeChild(this.nodeOrShadowRoot($),R)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _t extends Le{constructor($,R,w,j,ce,tt,pt,wt){super($,ce,tt,pt),this.sharedStylesHost=R,this.removeStylesOnCompDestroy=j,this.styles=wt?te(wt,w.styles):w.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Rt extends _t{constructor($,R,w,j,ce,tt,pt,wt){const Pt=j+"-"+w.id;super($,R,w,ce,tt,pt,wt,Pt),this.contentAttr=function be(J){return"_ngcontent-%COMP%".replace(We,J)}(Pt),this.hostAttr=function _e(J){return"_nghost-%COMP%".replace(We,J)}(Pt)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,R){const w=super.createElement($,R);return super.setAttribute(w,this.contentAttr,""),w}}let At=(()=>{var J;class $ extends we{constructor(w){super(w)}supports(w){return!0}addEventListener(w,j,ce){return w.addEventListener(j,ce,!1),()=>this.removeEventListener(w,j,ce)}removeEventListener(w,j,ce){return w.removeEventListener(j,ce)}}return(J=$).\u0275fac=function(w){return new(w||J)(a.LFG(_.K0))},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac}),$})();const rt=["alt","control","meta","shift"],fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},he={alt:J=>J.altKey,control:J=>J.ctrlKey,meta:J=>J.metaKey,shift:J=>J.shiftKey};let Ue=(()=>{var J;class $ extends we{constructor(w){super(w)}supports(w){return null!=$.parseEventName(w)}addEventListener(w,j,ce){const tt=$.parseEventName(j),pt=$.eventCallback(tt.fullKey,ce,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(w,tt.domEventName,pt))}static parseEventName(w){const j=w.toLowerCase().split("."),ce=j.shift();if(0===j.length||"keydown"!==ce&&"keyup"!==ce)return null;const tt=$._normalizeKey(j.pop());let pt="",wt=j.indexOf("code");if(wt>-1&&(j.splice(wt,1),pt="code."),rt.forEach(Bt=>{const Zt=j.indexOf(Bt);Zt>-1&&(j.splice(Zt,1),pt+=Bt+".")}),pt+=tt,0!=j.length||0===tt.length)return null;const Pt={};return Pt.domEventName=ce,Pt.fullKey=pt,Pt}static matchEventFullKeyCode(w,j){let ce=fe[w.key]||w.key,tt="";return j.indexOf("code.")>-1&&(ce=w.code,tt="code."),!(null==ce||!ce)&&(ce=ce.toLowerCase()," "===ce?ce="space":"."===ce&&(ce="dot"),rt.forEach(pt=>{pt!==ce&&(0,he[pt])(w)&&(tt+=pt+".")}),tt+=ce,tt===j)}static eventCallback(w,j,ce){return tt=>{$.matchEventFullKeyCode(tt,w)&&ce.runGuarded(()=>j(tt))}}static _normalizeKey(w){return"esc"===w?"escape":w}}return(J=$).\u0275fac=function(w){return new(w||J)(a.LFG(_.K0))},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac}),$})();const Dt=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:_.bD},{provide:a.g9A,useValue:function ht(){F.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function mt(){return(0,a.RDi)(document),document},deps:[]}]),Tt=new a.OlP(""),Ct=[{provide:a.rWj,useClass:class Me{addToWindow($){a.dqk.getAngularTestability=(w,j=!0)=>{const ce=$.findTestabilityInTree(w,j);if(null==ce)throw new a.vHH(5103,!1);return ce},a.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(w=>{const j=a.dqk.getAllAngularTestabilities();let ce=j.length,tt=!1;const pt=function(wt){tt=tt||wt,ce--,0==ce&&w(tt)};j.forEach(wt=>{wt.whenStable(pt)})})}findTestabilityInTree($,R,w){if(null==R)return null;const j=$.getTestability(R);return null!=j?j:w?(0,_.q)().isShadowRoot(R)?this.findTestabilityInTree($,R.host,!0):this.findTestabilityInTree($,R.parentElement,!0):null}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Vt=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function bt(){return new a.qLn},deps:[]},{provide:le,useClass:At,multi:!0,deps:[_.K0,a.R0b,a.Lbi]},{provide:le,useClass:Ue,multi:!0,deps:[_.K0]},W,$e,ge,{provide:a.FYo,useExisting:W},{provide:_.JF,useClass:K,deps:[]},[]];let Ht=(()=>{var J;class ${constructor(w){}static withServerTransition(w){return{ngModule:$,providers:[{provide:a.AFp,useValue:w.appId}]}}}return(J=$).\u0275fac=function(w){return new(w||J)(a.LFG(Tt,12))},J.\u0275mod=a.oAB({type:J}),J.\u0275inj=a.cJS({providers:[...Vt,...Ct],imports:[_.ez,a.hGG]}),$})(),Dn=(()=>{var J;class ${constructor(w){this._doc=w}getTitle(){return this._doc.title}setTitle(w){this._doc.title=w||""}}return(J=$).\u0275fac=function(w){return new(w||J)(a.LFG(_.K0))},J.\u0275prov=a.Yz7({token:J,factory:function(w){let j=null;return j=w?new w:function Jt(){return new Dn((0,a.LFG)(_.K0))}(),j},providedIn:"root"}),$})();typeof window<"u"&&window;let br=(()=>{var J;class ${}return(J=$).\u0275fac=function(w){return new(w||J)},J.\u0275prov=a.Yz7({token:J,factory:function(w){let j=null;return j=w?new(w||J):a.LFG(Pn),j},providedIn:"root"}),$})(),Pn=(()=>{var J;class $ extends br{constructor(w){super(),this._doc=w}sanitize(w,j){if(null==j)return null;switch(w){case a.q3G.NONE:return j;case a.q3G.HTML:return(0,a.qzn)(j,"HTML")?(0,a.z3N)(j):(0,a.EiD)(this._doc,String(j)).toString();case a.q3G.STYLE:return(0,a.qzn)(j,"Style")?(0,a.z3N)(j):j;case a.q3G.SCRIPT:if((0,a.qzn)(j,"Script"))return(0,a.z3N)(j);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(j,"URL")?(0,a.z3N)(j):(0,a.mCW)(String(j));case a.q3G.RESOURCE_URL:if((0,a.qzn)(j,"ResourceURL"))return(0,a.z3N)(j);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(w){return(0,a.JVY)(w)}bypassSecurityTrustStyle(w){return(0,a.L6k)(w)}bypassSecurityTrustScript(w){return(0,a.eBb)(w)}bypassSecurityTrustUrl(w){return(0,a.LAX)(w)}bypassSecurityTrustResourceUrl(w){return(0,a.pB0)(w)}}return(J=$).\u0275fac=function(w){return new(w||J)(a.LFG(_.K0))},J.\u0275prov=a.Yz7({token:J,factory:function(w){let j=null;return j=w?new w:function Gn(J){return new Pn(J.get(_.K0))}(a.LFG(a.zs3)),j},providedIn:"root"}),$})()},4934:(Lt,Ce,I)=>{"use strict";I.d(Ce,{gz:()=>Qt,y6:()=>Xn,OD:()=>oi,eC:()=>mt,wm:()=>Ro,wN:()=>Hn,F0:()=>Xt,rH:()=>ii,Bz:()=>no,Hx:()=>an});var a=I(5879),_=I(5592),N=I(4674),Y=I(2459),Z=I(2096),Q=I(5619),ne=I(2572),Me=I(6973),K=I(5211),le=I(4829);function ge(C){return new _.y(P=>{(0,le.Xf)(C()).subscribe(P)})}var we=I(8407);function Be(C,P){const k=(0,N.m)(C)?C:()=>C,T=B=>B.error(k());return new _.y(P?B=>P.schedule(T,0,B):T)}var $e=I(6232),nt=I(7394),We=I(9360),He=I(8251);function Ze(){return(0,We.e)((C,P)=>{let k=null;C._refCount++;const T=(0,He.x)(P,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(k=null);const B=C._connection,me=k;k=null,B&&(!me||B===me)&&B.unsubscribe(),P.unsubscribe()});C.subscribe(T),T.closed||(k=C.connect())})}class ot extends _.y{constructor(P,k){super(),this.source=P,this.subjectFactory=k,this._subject=null,this._refCount=0,this._connection=null,(0,We.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new nt.w0;const k=this.getSubject();P.add(this.source.subscribe((0,He.x)(k,void 0,()=>{this._teardown(),k.complete()},T=>{this._teardown(),k.error(T)},()=>this._teardown()))),P.closed&&(this._connection=null,P=nt.w0.EMPTY)}return P}refCount(){return Ze()(this)}}var ue=I(8645),Ge=I(6814),be=I(7398),_e=I(4664),te=I(8180),W=I(7921),Le=I(2181),De=I(1631),Ae=I(1374);function Te(C,P){return(0,N.m)(P)?(0,De.z)(C,P,1):(0,De.z)(C,1)}var Ve=I(9397);function _t(C){return(0,We.e)((P,k)=>{let me,T=null,B=!1;T=P.subscribe((0,He.x)(k,void 0,void 0,ze=>{me=(0,le.Xf)(C(ze,_t(C)(P))),T?(T.unsubscribe(),T=null,me.subscribe(k)):B=!0})),B&&(T.unsubscribe(),T=null,me.subscribe(k))})}var Rt=I(6699),At=I(3572);function rt(C){return C<=0?()=>$e.E:(0,We.e)((P,k)=>{let T=[];P.subscribe((0,He.x)(k,B=>{T.push(B),C<T.length&&T.shift()},()=>{for(const B of T)k.next(B);k.complete()},void 0,()=>{T=null}))})}var fe=I(3026),he=I(2737);function Ke(C){return(0,We.e)((P,k)=>{try{P.subscribe(k)}finally{k.add(C)}})}var qe=I(2420),ht=I(7537),bt=I(6593);const mt="primary",Kt=Symbol("RouteTitle");class Dt{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const k=this.params[P];return Array.isArray(k)?k[0]:k}return null}getAll(P){if(this.has(P)){const k=this.params[P];return Array.isArray(k)?k:[k]}return[]}get keys(){return Object.keys(this.params)}}function Tt(C){return new Dt(C)}function Ct(C,P,k){const T=k.path.split("/");if(T.length>C.length||"full"===k.pathMatch&&(P.hasChildren()||T.length<C.length))return null;const B={};for(let me=0;me<T.length;me++){const ze=T[me],vt=C[me];if(ze.startsWith(":"))B[ze.substring(1)]=vt;else if(ze!==vt.path)return null}return{consumed:C.slice(0,T.length),posParams:B}}function Ht(C,P){const k=C?Object.keys(C):void 0,T=P?Object.keys(P):void 0;if(!k||!T||k.length!=T.length)return!1;let B;for(let me=0;me<k.length;me++)if(B=k[me],!on(C[B],P[B]))return!1;return!0}function on(C,P){if(Array.isArray(C)&&Array.isArray(P)){if(C.length!==P.length)return!1;const k=[...C].sort(),T=[...P].sort();return k.every((B,me)=>T[me]===B)}return C===P}function cn(C){return C.length>0?C[C.length-1]:null}function wn(C){return function F(C){return!!C&&(C instanceof _.y||(0,N.m)(C.lift)&&(0,N.m)(C.subscribe))}(C)?C:(0,a.QGY)(C)?(0,Y.D)(Promise.resolve(C)):(0,Z.of)(C)}const Jt={exact:function hn(C,P,k){if(!sn(C.segments,P.segments)||!mr(C.segments,P.segments,k)||C.numberOfChildren!==P.numberOfChildren)return!1;for(const T in P.children)if(!C.children[T]||!hn(C.children[T],P.children[T],k))return!1;return!0},subset:Sn},Dn={exact:function fr(C,P){return Ht(C,P)},subset:function xn(C,P){return Object.keys(P).length<=Object.keys(C).length&&Object.keys(P).every(k=>on(C[k],P[k]))},ignored:()=>!0};function On(C,P,k){return Jt[k.paths](C.root,P.root,k.matrixParams)&&Dn[k.queryParams](C.queryParams,P.queryParams)&&!("exact"===k.fragment&&C.fragment!==P.fragment)}function Sn(C,P,k){return Qn(C,P,P.segments,k)}function Qn(C,P,k,T){if(C.segments.length>k.length){const B=C.segments.slice(0,k.length);return!(!sn(B,k)||P.hasChildren()||!mr(B,k,T))}if(C.segments.length===k.length){if(!sn(C.segments,k)||!mr(C.segments,k,T))return!1;for(const B in P.children)if(!C.children[B]||!Sn(C.children[B],P.children[B],T))return!1;return!0}{const B=k.slice(0,C.segments.length),me=k.slice(C.segments.length);return!!(sn(C.segments,B)&&mr(C.segments,B,T)&&C.children[mt])&&Qn(C.children[mt],P,me,T)}}function mr(C,P,k){return P.every((T,B)=>Dn[k](C[B].parameters,T.parameters))}class _r{constructor(P=new en([],{}),k={},T=null){this.root=P,this.queryParams=k,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return kr.serialize(this)}}class en{constructor(P,k){this.segments=P,this.children=k,this.parent=null,Object.values(k).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return br(this)}}class Ln{constructor(P,k){this.path=P,this.parameters=k}get parameterMap(){return this._parameterMap||(this._parameterMap=Tt(this.parameters)),this._parameterMap}toString(){return je(this)}}function sn(C,P){return C.length===P.length&&C.every((k,T)=>k.path===P[T].path)}let an=(()=>{var C;class P{}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:function(){return new Wn},providedIn:"root"}),P})();class Wn{parse(P){const k=new wt(P);return new _r(k.parseRootSegment(),k.parseQueryParams(),k.parseFragment())}serialize(P){const k=`/${Gn(P.root,!0)}`,T=function ke(C){const P=Object.keys(C).map(k=>{const T=C[k];return Array.isArray(T)?T.map(B=>`${Nt(k)}=${Nt(B)}`).join("&"):`${Nt(k)}=${Nt(T)}`}).filter(k=>!!k);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${k}${T}${"string"==typeof P.fragment?`#${function ye(C){return encodeURI(C)}(P.fragment)}`:""}`}}const kr=new Wn;function br(C){return C.segments.map(P=>je(P)).join("/")}function Gn(C,P){if(!C.hasChildren())return br(C);if(P){const k=C.children[mt]?Gn(C.children[mt],!1):"",T=[];return Object.entries(C.children).forEach(([B,me])=>{B!==mt&&T.push(`${B}:${Gn(me,!1)}`)}),T.length>0?`${k}(${T.join("//")})`:k}{const k=function cr(C,P){let k=[];return Object.entries(C.children).forEach(([T,B])=>{T===mt&&(k=k.concat(P(B,T)))}),Object.entries(C.children).forEach(([T,B])=>{T!==mt&&(k=k.concat(P(B,T)))}),k}(C,(T,B)=>B===mt?[Gn(C.children[mt],!1)]:[`${B}:${Gn(T,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[mt]?`${br(C)}/${k[0]}`:`${br(C)}/(${k.join("//")})`}}function Pn(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nt(C){return Pn(C).replace(/%3B/gi,";")}function ee(C){return Pn(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ne(C){return decodeURIComponent(C)}function st(C){return Ne(C.replace(/\+/g,"%20"))}function je(C){return`${ee(C.path)}${function St(C){return Object.keys(C).map(P=>`;${ee(P)}=${ee(C[P])}`).join("")}(C.parameters)}`}const J=/^[^\/()?;#]+/;function $(C){const P=C.match(J);return P?P[0]:""}const R=/^[^\/()?;=#]+/,j=/^[^=?&#]+/,tt=/^[^&#]+/;class wt{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let k={};this.peekStartsWith("/(")&&(this.capture("/"),k=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(P.length>0||Object.keys(k).length>0)&&(T[mt]=new en(P,k)),T}parseSegment(){const P=$(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(P),new Ln(Ne(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const k=function w(C){const P=C.match(R);return P?P[0]:""}(this.remaining);if(!k)return;this.capture(k);let T="";if(this.consumeOptional("=")){const B=$(this.remaining);B&&(T=B,this.capture(T))}P[Ne(k)]=Ne(T)}parseQueryParam(P){const k=function ce(C){const P=C.match(j);return P?P[0]:""}(this.remaining);if(!k)return;this.capture(k);let T="";if(this.consumeOptional("=")){const ze=function pt(C){const P=C.match(tt);return P?P[0]:""}(this.remaining);ze&&(T=ze,this.capture(T))}const B=st(k),me=st(T);if(P.hasOwnProperty(B)){let ze=P[B];Array.isArray(ze)||(ze=[ze],P[B]=ze),ze.push(me)}else P[B]=me}parseParens(P){const k={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=$(this.remaining),B=this.remaining[T.length];if("/"!==B&&")"!==B&&";"!==B)throw new a.vHH(4010,!1);let me;T.indexOf(":")>-1?(me=T.slice(0,T.indexOf(":")),this.capture(me),this.capture(":")):P&&(me=mt);const ze=this.parseChildren();k[me]=1===Object.keys(ze).length?ze[mt]:new en([],ze),this.consumeOptional("//")}return k}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new a.vHH(4011,!1)}}function Pt(C){return C.segments.length>0?new en([],{[mt]:C}):C}function Bt(C){const P={};for(const T of Object.keys(C.children)){const me=Bt(C.children[T]);if(T===mt&&0===me.segments.length&&me.hasChildren())for(const[ze,vt]of Object.entries(me.children))P[ze]=vt;else(me.segments.length>0||me.hasChildren())&&(P[T]=me)}return function Zt(C){if(1===C.numberOfChildren&&C.children[mt]){const P=C.children[mt];return new en(C.segments.concat(P.segments),P.children)}return C}(new en(C.segments,P))}function nn(C){return C instanceof _r}function Gr(C){var P;let k;const me=Pt(function T(ze){const vt={};for(const kt of ze.children){const Rn=T(kt);vt[kt.outlet]=Rn}const Cn=new en(ze.url,vt);return ze===C&&(k=Cn),Cn}(C.root));return null!==(P=k)&&void 0!==P?P:me}function xt(C,P,k,T){let B=C;for(;B.parent;)B=B.parent;if(0===P.length)return yn(B,B,B,k,T);const me=function tr(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new pn(!0,0,C);let P=0,k=!1;const T=C.reduce((B,me,ze)=>{if("object"==typeof me&&null!=me){if(me.outlets){const vt={};return Object.entries(me.outlets).forEach(([Cn,kt])=>{vt[Cn]="string"==typeof kt?kt.split("/"):kt}),[...B,{outlets:vt}]}if(me.segmentPath)return[...B,me.segmentPath]}return"string"!=typeof me?[...B,me]:0===ze?(me.split("/").forEach((vt,Cn)=>{0==Cn&&"."===vt||(0==Cn&&""===vt?k=!0:".."===vt?P++:""!=vt&&B.push(vt))}),B):[...B,me]},[]);return new pn(k,P,T)}(P);if(me.toRoot())return yn(B,B,new en([],{}),k,T);const ze=function yr(C,P,k){if(C.isAbsolute)return new Br(P,!0,0);if(!k)return new Br(P,!1,NaN);if(null===k.parent)return new Br(k,!0,0);const T=Et(C.commands[0])?0:1;return function ci(C,P,k){let T=C,B=P,me=k;for(;me>B;){if(me-=B,T=T.parent,!T)throw new a.vHH(4005,!1);B=T.segments.length}return new Br(T,!1,B-me)}(k,k.segments.length-1+T,C.numberOfDoubleDots)}(me,B,C),vt=ze.processChildren?Zn(ze.segmentGroup,ze.index,me.commands):vi(ze.segmentGroup,ze.index,me.commands);return yn(B,ze.segmentGroup,vt,k,T)}function Et(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function Gt(C){return"object"==typeof C&&null!=C&&C.outlets}function yn(C,P,k,T,B){let ze,me={};T&&Object.entries(T).forEach(([Cn,kt])=>{me[Cn]=Array.isArray(kt)?kt.map(Rn=>`${Rn}`):`${kt}`}),ze=C===P?k:Nn(C,P,k);const vt=Pt(Bt(ze));return new _r(vt,me,B)}function Nn(C,P,k){const T={};return Object.entries(C.children).forEach(([B,me])=>{T[B]=me===P?k:Nn(me,P,k)}),new en(C.segments,T)}class pn{constructor(P,k,T){if(this.isAbsolute=P,this.numberOfDoubleDots=k,this.commands=T,P&&T.length>0&&Et(T[0]))throw new a.vHH(4003,!1);const B=T.find(Gt);if(B&&B!==cn(T))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Br{constructor(P,k,T){this.segmentGroup=P,this.processChildren=k,this.index=T}}function vi(C,P,k){if(C||(C=new en([],{})),0===C.segments.length&&C.hasChildren())return Zn(C,P,k);const T=function Ai(C,P,k){let T=0,B=P;const me={match:!1,pathIndex:0,commandIndex:0};for(;B<C.segments.length;){if(T>=k.length)return me;const ze=C.segments[B],vt=k[T];if(Gt(vt))break;const Cn=`${vt}`,kt=T<k.length-1?k[T+1]:null;if(B>0&&void 0===Cn)break;if(Cn&&kt&&"object"==typeof kt&&void 0===kt.outlets){if(!yi(Cn,kt,ze))return me;T+=2}else{if(!yi(Cn,{},ze))return me;T++}B++}return{match:!0,pathIndex:B,commandIndex:T}}(C,P,k),B=k.slice(T.commandIndex);if(T.match&&T.pathIndex<C.segments.length){const me=new en(C.segments.slice(0,T.pathIndex),{});return me.children[mt]=new en(C.segments.slice(T.pathIndex),C.children),Zn(me,0,B)}return T.match&&0===B.length?new en(C.segments,{}):T.match&&!C.hasChildren()?Rr(C,P,k):T.match?Zn(C,0,B):Rr(C,P,k)}function Zn(C,P,k){if(0===k.length)return new en(C.segments,{});{const T=function Wr(C){return Gt(C[0])?C[0].outlets:{[mt]:C}}(k),B={};if(Object.keys(T).some(me=>me!==mt)&&C.children[mt]&&1===C.numberOfChildren&&0===C.children[mt].segments.length){const me=Zn(C.children[mt],P,k);return new en(C.segments,me.children)}return Object.entries(T).forEach(([me,ze])=>{"string"==typeof ze&&(ze=[ze]),null!==ze&&(B[me]=vi(C.children[me],P,ze))}),Object.entries(C.children).forEach(([me,ze])=>{void 0===T[me]&&(B[me]=ze)}),new en(C.segments,B)}}function Rr(C,P,k){const T=C.segments.slice(0,P);let B=0;for(;B<k.length;){const me=k[B];if(Gt(me)){const Cn=rr(me.outlets);return new en(T,Cn)}if(0===B&&Et(k[0])){T.push(new Ln(C.segments[P].path,Er(k[0]))),B++;continue}const ze=Gt(me)?me.outlets[mt]:`${me}`,vt=B<k.length-1?k[B+1]:null;ze&&vt&&Et(vt)?(T.push(new Ln(ze,Er(vt))),B+=2):(T.push(new Ln(ze,{})),B++)}return new en(T,{})}function rr(C){const P={};return Object.entries(C).forEach(([k,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(P[k]=Rr(new en([],{}),0,T))}),P}function Er(C){const P={};return Object.entries(C).forEach(([k,T])=>P[k]=`${T}`),P}function yi(C,P,k){return C==k.path&&Ht(P,k.parameters)}const Ei="imperative";class Fr{constructor(P,k){this.id=P,this.url=k}}class oi extends Fr{constructor(P,k,T="imperative",B=null){super(P,k),this.type=0,this.navigationTrigger=T,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ti extends Fr{constructor(P,k,T){super(P,k),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Si extends Fr{constructor(P,k,T,B){super(P,k),this.reason=T,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ri extends Fr{constructor(P,k,T,B){super(P,k),this.reason=T,this.code=B,this.type=16}}class Or extends Fr{constructor(P,k,T,B){super(P,k),this.error=T,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ni extends Fr{constructor(P,k,T,B){super(P,k),this.urlAfterRedirects=T,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ki extends Fr{constructor(P,k,T,B){super(P,k),this.urlAfterRedirects=T,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends Fr{constructor(P,k,T,B,me){super(P,k),this.urlAfterRedirects=T,this.state=B,this.shouldActivate=me,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ve extends Fr{constructor(P,k,T,B){super(P,k),this.urlAfterRedirects=T,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie extends Fr{constructor(P,k,T,B){super(P,k),this.urlAfterRedirects=T,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qe{constructor(P){this.route=P,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class it{constructor(P){this.route=P,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ot{constructor(P){this.snapshot=P,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(P){this.snapshot=P,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{constructor(P){this.snapshot=P,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y{constructor(P){this.snapshot=P,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ae{constructor(P,k,T){this.routerEvent=P,this.position=k,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class O{}class de{constructor(P){this.url=P}}class Tn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xn,this.attachRef=null}}let Xn=(()=>{var C;class P{constructor(){this.contexts=new Map}onChildOutletCreated(T,B){const me=this.getOrCreateContext(T);me.outlet=B,this.contexts.set(T,me)}onChildOutletDestroyed(T){const B=this.getContext(T);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let B=this.getContext(T);return B||(B=new Tn,this.contexts.set(T,B)),B}getContext(T){return this.contexts.get(T)||null}}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),P})();class Ar{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const k=this.pathFromRoot(P);return k.length>1?k[k.length-2]:null}children(P){const k=Dr(P,this._root);return k?k.children.map(T=>T.value):[]}firstChild(P){const k=Dr(P,this._root);return k&&k.children.length>0?k.children[0].value:null}siblings(P){const k=Jn(P,this._root);return k.length<2?[]:k[k.length-2].children.map(B=>B.value).filter(B=>B!==P)}pathFromRoot(P){return Jn(P,this._root).map(k=>k.value)}}function Dr(C,P){if(C===P.value)return P;for(const k of P.children){const T=Dr(C,k);if(T)return T}return null}function Jn(C,P){if(C===P.value)return[P];for(const k of P.children){const T=Jn(C,k);if(T.length)return T.unshift(P),T}return[]}class qr{constructor(P,k){this.value=P,this.children=k}toString(){return`TreeNode(${this.value})`}}function hr(C){const P={};return C&&C.children.forEach(k=>P[k.value.outlet]=k),P}class Lr extends Ar{constructor(P,k){super(P),this.snapshot=k,bn(this,P)}toString(){return this.snapshot.toString()}}function si(C,P){const k=function fn(C,P){const ze=new Pr([],{},{},"",{},mt,P,null,{});return new or("",new qr(ze,[]))}(0,P),T=new Q.X([new Ln("",{})]),B=new Q.X({}),me=new Q.X({}),ze=new Q.X({}),vt=new Q.X(""),Cn=new Qt(T,B,ze,vt,me,mt,P,k.root);return Cn.snapshot=k.root,new Lr(new qr(Cn,[]),k)}class Qt{constructor(P,k,T,B,me,ze,vt,Cn){var kt,Rn;this.urlSubject=P,this.paramsSubject=k,this.queryParamsSubject=T,this.fragmentSubject=B,this.dataSubject=me,this.outlet=ze,this.component=vt,this._futureSnapshot=Cn,this.title=null!==(kt=null===(Rn=this.dataSubject)||void 0===Rn?void 0:Rn.pipe((0,be.U)(dr=>dr[Kt])))&&void 0!==kt?kt:(0,Z.of)(void 0),this.url=P,this.params=k,this.queryParams=T,this.fragment=B,this.data=me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,be.U)(P=>Tt(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,be.U)(P=>Tt(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function En(C,P="emptyOnly"){const k=C.pathFromRoot;let T=0;if("always"!==P)for(T=k.length-1;T>=1;){const B=k[T],me=k[T-1];if(B.routeConfig&&""===B.routeConfig.path)T--;else{if(me.component)break;T--}}return function In(C){return C.reduce((P,k)=>{var T;return{params:{...P.params,...k.params},data:{...P.data,...k.data},resolve:{...k.data,...P.resolve,...null===(T=k.routeConfig)||void 0===T?void 0:T.data,...k._resolvedData}}},{params:{},data:{},resolve:{}})}(k.slice(T))}class Pr{get title(){var P;return null===(P=this.data)||void 0===P?void 0:P[Kt]}constructor(P,k,T,B,me,ze,vt,Cn,kt){this.url=P,this.params=k,this.queryParams=T,this.fragment=B,this.data=me,this.outlet=ze,this.component=vt,this.routeConfig=Cn,this._resolve=kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class or extends Ar{constructor(P,k){super(k),this.url=P,bn(this,k)}toString(){return ir(this._root)}}function bn(C,P){P.value._routerState=C,P.children.forEach(k=>bn(C,k))}function ir(C){const P=C.children.length>0?` { ${C.children.map(ir).join(", ")} } `:"";return`${C.value}${P}`}function Ur(C){if(C.snapshot){const P=C.snapshot,k=C._futureSnapshot;C.snapshot=k,Ht(P.queryParams,k.queryParams)||C.queryParamsSubject.next(k.queryParams),P.fragment!==k.fragment&&C.fragmentSubject.next(k.fragment),Ht(P.params,k.params)||C.paramsSubject.next(k.params),function Vt(C,P){if(C.length!==P.length)return!1;for(let k=0;k<C.length;++k)if(!Ht(C[k],P[k]))return!1;return!0}(P.url,k.url)||C.urlSubject.next(k.url),Ht(P.data,k.data)||C.dataSubject.next(k.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Ii(C,P){const k=Ht(C.params,P.params)&&function xr(C,P){return sn(C,P)&&C.every((k,T)=>Ht(k.parameters,P[T].parameters))}(C.url,P.url);return k&&!(!C.parent!=!P.parent)&&(!C.parent||Ii(C.parent,P.parent))}let Xi=(()=>{var C;class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=mt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Xn),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(Mi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:B,previousValue:me}=T.name;if(B)return;this.isTrackedInParentContexts(me)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(me)),this.initializeOutletWithName()}}ngOnDestroy(){var T;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(T=this.inputBinder)||void 0===T||T.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){var B;return(null===(B=this.parentContexts.getContext(T))||void 0===B?void 0:B.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);null!=T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,B){var me;this.activated=T,this._activatedRoute=B,this.location.insert(T.hostView),null===(me=this.inputBinder)||void 0===me||me.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,B){var me;if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=T;const ze=this.location,Cn=T.snapshot.component,kt=this.parentContexts.getOrCreateContext(this.name).children,Rn=new Pi(T,kt,ze.injector);this.activated=ze.createComponent(Cn,{index:ze.length,injector:Rn,environmentInjector:null!=B?B:this.environmentInjector}),this.changeDetector.markForCheck(),null===(me=this.inputBinder)||void 0===me||me.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275dir=a.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),P})();class Pi{constructor(P,k,T){this.route=P,this.childContexts=k,this.parent=T}get(P,k){return P===Qt?this.route:P===Xn?this.childContexts:this.parent.get(P,k)}}const Mi=new a.OlP("");let Vr=(()=>{var C;class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){var B;null===(B=this.outletDataSubscriptions.get(T))||void 0===B||B.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:B}=T,me=(0,ne.a)([B.queryParams,B.params,B.data]).pipe((0,_e.w)(([ze,vt,Cn],kt)=>(Cn={...ze,...vt,...Cn},0===kt?(0,Z.of)(Cn):Promise.resolve(Cn)))).subscribe(ze=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==B||null===B.component)return void this.unsubscribeFromRouteData(T);const vt=(0,a.qFp)(B.component);if(vt)for(const{templateName:Cn}of vt.inputs)T.activatedComponentRef.setInput(Cn,ze[Cn]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,me)}}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac}),P})();function bi(C,P,k){if(k&&C.shouldReuseRoute(P.value,k.value.snapshot)){const T=k.value;T._futureSnapshot=P.value;const B=function lr(C,P,k){return P.children.map(T=>{for(const B of k.children)if(C.shouldReuseRoute(T.value,B.value.snapshot))return bi(C,T,B);return bi(C,T)})}(C,P,k);return new qr(T,B)}{if(C.shouldAttach(P.value)){const me=C.retrieve(P.value);if(null!==me){const ze=me.route;return ze.value._futureSnapshot=P.value,ze.children=P.children.map(vt=>bi(C,vt)),ze}}const T=function pe(C){return new Qt(new Q.X(C.url),new Q.X(C.params),new Q.X(C.queryParams),new Q.X(C.fragment),new Q.X(C.data),C.outlet,C.component,C)}(P.value),B=P.children.map(me=>bi(C,me));return new qr(T,B)}}const Re="ngNavigationCancelingError";function v(C,P){const{redirectTo:k,navigationBehaviorOptions:T}=nn(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,B=b(!1,0,P);return B.url=k,B.navigationBehaviorOptions=T,B}function b(C,P,k){const T=new Error("NavigationCancelingError: "+(C||""));return T[Re]=!0,T.cancellationCode=P,k&&(T.url=k),T}function Pe(C){return C&&C[Re]}let et=(()=>{var C;class P{}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275cmp=a.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(T,B){1&T&&a._UZ(0,"router-outlet")},dependencies:[Xi],encapsulation:2}),P})();function Yr(C){const P=C.children&&C.children.map(Yr),k=P?{...C,children:P}:{...C};return!k.component&&!k.loadComponent&&(P||k.loadChildren)&&k.outlet&&k.outlet!==mt&&(k.component=et),k}function pr(C){return C.outlet||mt}function mi(C){var P;if(!C)return null;if(null!==(P=C.routeConfig)&&void 0!==P&&P._injector)return C.routeConfig._injector;for(let k=C.parent;k;k=k.parent){const T=k.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class zi{constructor(P,k,T,B,me){this.routeReuseStrategy=P,this.futureState=k,this.currState=T,this.forwardEvent=B,this.inputBindingEnabled=me}activate(P){const k=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(k,T,P),Ur(this.futureState.root),this.activateChildRoutes(k,T,P)}deactivateChildRoutes(P,k,T){const B=hr(k);P.children.forEach(me=>{const ze=me.value.outlet;this.deactivateRoutes(me,B[ze],T),delete B[ze]}),Object.values(B).forEach(me=>{this.deactivateRouteAndItsChildren(me,T)})}deactivateRoutes(P,k,T){const B=P.value,me=k?k.value:null;if(B===me)if(B.component){const ze=T.getContext(B.outlet);ze&&this.deactivateChildRoutes(P,k,ze.children)}else this.deactivateChildRoutes(P,k,T);else me&&this.deactivateRouteAndItsChildren(k,T)}deactivateRouteAndItsChildren(P,k){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,k):this.deactivateRouteAndOutlet(P,k)}detachAndStoreRouteSubtree(P,k){const T=k.getContext(P.value.outlet),B=T&&P.value.component?T.children:k,me=hr(P);for(const ze of Object.keys(me))this.deactivateRouteAndItsChildren(me[ze],B);if(T&&T.outlet){const ze=T.outlet.detach(),vt=T.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:ze,route:P,contexts:vt})}}deactivateRouteAndOutlet(P,k){const T=k.getContext(P.value.outlet),B=T&&P.value.component?T.children:k,me=hr(P);for(const ze of Object.keys(me))this.deactivateRouteAndItsChildren(me[ze],B);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(P,k,T){const B=hr(k);P.children.forEach(me=>{this.activateRoutes(me,B[me.value.outlet],T),this.forwardEvent(new y(me.value.snapshot))}),P.children.length&&this.forwardEvent(new ct(P.value.snapshot))}activateRoutes(P,k,T){const B=P.value,me=k?k.value:null;if(Ur(B),B===me)if(B.component){const ze=T.getOrCreateContext(B.outlet);this.activateChildRoutes(P,k,ze.children)}else this.activateChildRoutes(P,k,T);else if(B.component){const ze=T.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const vt=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),ze.children.onOutletReAttached(vt.contexts),ze.attachRef=vt.componentRef,ze.route=vt.route.value,ze.outlet&&ze.outlet.attach(vt.componentRef,vt.route.value),Ur(vt.route.value),this.activateChildRoutes(P,null,ze.children)}else{const vt=mi(B.snapshot);ze.attachRef=null,ze.route=B,ze.injector=vt,ze.outlet&&ze.outlet.activateWith(B,ze.injector),this.activateChildRoutes(P,null,ze.children)}}else this.activateChildRoutes(P,null,T)}}class Ir{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class Jr{constructor(P,k){this.component=P,this.route=k}}function ts(C,P,k){const T=C._root;return eo(T,P?P._root:null,k,[T.value])}function bo(C,P){const k=Symbol(),T=P.get(C,k);return T===k?"function"!=typeof C||(0,a.Z0I)(C)?P.get(C):C:T}function eo(C,P,k,T,B={canDeactivateChecks:[],canActivateChecks:[]}){const me=hr(P);return C.children.forEach(ze=>{(function Ts(C,P,k,T,B={canDeactivateChecks:[],canActivateChecks:[]}){const me=C.value,ze=P?P.value:null,vt=k?k.getContext(C.value.outlet):null;if(ze&&me.routeConfig===ze.routeConfig){const Cn=function so(C,P,k){if("function"==typeof k)return k(C,P);switch(k){case"pathParamsChange":return!sn(C.url,P.url);case"pathParamsOrQueryParamsChange":return!sn(C.url,P.url)||!Ht(C.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ii(C,P)||!Ht(C.queryParams,P.queryParams);default:return!Ii(C,P)}}(ze,me,me.routeConfig.runGuardsAndResolvers);Cn?B.canActivateChecks.push(new Ir(T)):(me.data=ze.data,me._resolvedData=ze._resolvedData),eo(C,P,me.component?vt?vt.children:null:k,T,B),Cn&&vt&&vt.outlet&&vt.outlet.isActivated&&B.canDeactivateChecks.push(new Jr(vt.outlet.component,ze))}else ze&&zo(P,vt,B),B.canActivateChecks.push(new Ir(T)),eo(C,null,me.component?vt?vt.children:null:k,T,B)})(ze,me[ze.value.outlet],k,T.concat([ze.value]),B),delete me[ze.value.outlet]}),Object.entries(me).forEach(([ze,vt])=>zo(vt,k.getContext(ze),B)),B}function zo(C,P,k){const T=hr(C),B=C.value;Object.entries(T).forEach(([me,ze])=>{zo(ze,B.component?P?P.children.getContext(me):null:P,k)}),k.canDeactivateChecks.push(new Jr(B.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,B))}function Ws(C){return"function"==typeof C}function G(C){return C instanceof Me.K||"EmptyError"===(null==C?void 0:C.name)}const V=Symbol("INITIAL_VALUE");function Oe(){return(0,_e.w)(C=>(0,ne.a)(C.map(P=>P.pipe((0,te.q)(1),(0,W.O)(V)))).pipe((0,be.U)(P=>{for(const k of P)if(!0!==k){if(k===V)return V;if(!1===k||k instanceof _r)return k}return!0}),(0,Le.h)(P=>P!==V),(0,te.q)(1)))}function Io(C){return(0,we.z)((0,Ve.b)(P=>{if(nn(P))throw v(0,P)}),(0,be.U)(P=>!0===P))}class ps{constructor(P){this.segmentGroup=P||null}}class Gi{constructor(P){this.urlTree=P}}function go(C){return Be(new ps(C))}function to(C){return Be(new Gi(C))}class lo{constructor(P,k){this.urlSerializer=P,this.urlTree=k}noMatchError(P){return new a.vHH(4002,!1)}lineralizeSegments(P,k){let T=[],B=k.root;for(;;){if(T=T.concat(B.segments),0===B.numberOfChildren)return(0,Z.of)(T);if(B.numberOfChildren>1||!B.children[mt])return Be(new a.vHH(4e3,!1));B=B.children[mt]}}applyRedirectCommands(P,k,T){return this.applyRedirectCreateUrlTree(k,this.urlSerializer.parse(k),P,T)}applyRedirectCreateUrlTree(P,k,T,B){const me=this.createSegmentGroup(P,k.root,T,B);return new _r(me,this.createQueryParams(k.queryParams,this.urlTree.queryParams),k.fragment)}createQueryParams(P,k){const T={};return Object.entries(P).forEach(([B,me])=>{if("string"==typeof me&&me.startsWith(":")){const vt=me.substring(1);T[B]=k[vt]}else T[B]=me}),T}createSegmentGroup(P,k,T,B){const me=this.createSegments(P,k.segments,T,B);let ze={};return Object.entries(k.children).forEach(([vt,Cn])=>{ze[vt]=this.createSegmentGroup(P,Cn,T,B)}),new en(me,ze)}createSegments(P,k,T,B){return k.map(me=>me.path.startsWith(":")?this.findPosParam(P,me,B):this.findOrReturn(me,T))}findPosParam(P,k,T){const B=T[k.path.substring(1)];if(!B)throw new a.vHH(4001,!1);return B}findOrReturn(P,k){let T=0;for(const B of k){if(B.path===P.path)return k.splice(T),B;T++}return P}}const gs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Za(C,P,k,T,B){const me=Go(C,P,k);return me.matched?(T=function dt(C,P){var k;return C.providers&&!C._injector&&(C._injector=(0,a.MMx)(C.providers,P,`Route: ${C.path}`)),null!==(k=C._injector)&&void 0!==k?k:P}(P,T),function bs(C,P,k,T){const B=P.canMatch;if(!B||0===B.length)return(0,Z.of)(!0);const me=B.map(ze=>{const vt=bo(ze,C);return wn(function pi(C){return C&&Ws(C.canMatch)}(vt)?vt.canMatch(P,k):C.runInContext(()=>vt(P,k)))});return(0,Z.of)(me).pipe(Oe(),Io())}(T,P,k).pipe((0,be.U)(ze=>!0===ze?me:{...gs}))):(0,Z.of)(me)}function Go(C,P,k){var T,B;if(""===P.path)return"full"===P.pathMatch&&(C.hasChildren()||k.length>0)?{...gs}:{matched:!0,consumedSegments:[],remainingSegments:k,parameters:{},positionalParamSegments:{}};const ze=(P.matcher||Ct)(k,C,P);if(!ze)return{...gs};const vt={};Object.entries(null!==(T=ze.posParams)&&void 0!==T?T:{}).forEach(([kt,Rn])=>{vt[kt]=Rn.path});const Cn=ze.consumed.length>0?{...vt,...ze.consumed[ze.consumed.length-1].parameters}:vt;return{matched:!0,consumedSegments:ze.consumed,remainingSegments:k.slice(ze.consumed.length),parameters:Cn,positionalParamSegments:null!==(B=ze.posParams)&&void 0!==B?B:{}}}function Qa(C,P,k,T){return k.length>0&&function li(C,P,k){return k.some(T=>Wo(C,P,T)&&pr(T)!==mt)}(C,k,T)?{segmentGroup:new en(P,Xa(T,new en(k,C.children))),slicedSegments:[]}:0===k.length&&function Dl(C,P,k){return k.some(T=>Wo(C,P,T))}(C,k,T)?{segmentGroup:new en(C.segments,Co(C,0,k,T,C.children)),slicedSegments:k}:{segmentGroup:new en(C.segments,C.children),slicedSegments:k}}function Co(C,P,k,T,B){const me={};for(const ze of T)if(Wo(C,k,ze)&&!B[pr(ze)]){const vt=new en([],{});me[pr(ze)]=vt}return{...B,...me}}function Xa(C,P){const k={};k[mt]=P;for(const T of C)if(""===T.path&&pr(T)!==mt){const B=new en([],{});k[pr(T)]=B}return k}function Wo(C,P,k){return(!(C.hasChildren()||P.length>0)||"full"!==k.pathMatch)&&""===k.path}class Ss{constructor(P,k,T,B,me,ze,vt){this.injector=P,this.configLoader=k,this.rootComponentType=T,this.config=B,this.urlTree=me,this.paramsInheritanceStrategy=ze,this.urlSerializer=vt,this.allowRedirects=!0,this.applyRedirects=new lo(this.urlSerializer,this.urlTree)}noMatchError(P){return new a.vHH(4002,!1)}recognize(){const P=Qa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,P,mt).pipe(_t(k=>{if(k instanceof Gi)return this.allowRedirects=!1,this.urlTree=k.urlTree,this.match(k.urlTree);throw k instanceof ps?this.noMatchError(k):k}),(0,be.U)(k=>{const T=new Pr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mt,this.rootComponentType,null,{}),B=new qr(T,k),me=new or("",B),ze=function Kn(C,P,k=null,T=null){return xt(Gr(C),P,k,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return ze.queryParams=this.urlTree.queryParams,me.url=this.urlSerializer.serialize(ze),this.inheritParamsAndData(me._root),{state:me,tree:ze}}))}match(P){return this.processSegmentGroup(this.injector,this.config,P.root,mt).pipe(_t(T=>{throw T instanceof ps?this.noMatchError(T):T}))}inheritParamsAndData(P){const k=P.value,T=En(k,this.paramsInheritanceStrategy);k.params=Object.freeze(T.params),k.data=Object.freeze(T.data),P.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(P,k,T,B){return 0===T.segments.length&&T.hasChildren()?this.processChildren(P,k,T):this.processSegment(P,k,T,T.segments,B,!0)}processChildren(P,k,T){const B=[];for(const me of Object.keys(T.children))"primary"===me?B.unshift(me):B.push(me);return(0,Y.D)(B).pipe(Te(me=>{const ze=T.children[me],vt=function Xr(C,P){const k=C.filter(T=>pr(T)===P);return k.push(...C.filter(T=>pr(T)!==P)),k}(k,me);return this.processSegmentGroup(P,vt,ze,me)}),(0,Rt.R)((me,ze)=>(me.push(...ze),me)),(0,At.d)(null),function Ue(C,P){const k=arguments.length>=2;return T=>T.pipe(C?(0,Le.h)((B,me)=>C(B,me,T)):he.y,rt(1),k?(0,At.d)(P):(0,fe.T)(()=>new Me.K))}(),(0,De.z)(me=>{if(null===me)return go(T);const ze=Bo(me);return function ru(C){C.sort((P,k)=>P.value.outlet===mt?-1:k.value.outlet===mt?1:P.value.outlet.localeCompare(k.value.outlet))}(ze),(0,Z.of)(ze)}))}processSegment(P,k,T,B,me,ze){return(0,Y.D)(k).pipe(Te(vt=>{var Cn;return this.processSegmentAgainstRoute(null!==(Cn=vt._injector)&&void 0!==Cn?Cn:P,k,vt,T,B,me,ze).pipe(_t(kt=>{if(kt instanceof ps)return(0,Z.of)(null);throw kt}))}),(0,Ae.P)(vt=>!!vt),_t(vt=>{if(G(vt))return function ms(C,P,k){return 0===P.length&&!C.children[k]}(T,B,me)?(0,Z.of)([]):go(T);throw vt}))}processSegmentAgainstRoute(P,k,T,B,me,ze,vt){return function wo(C,P,k,T){return!!(pr(C)===T||T!==mt&&Wo(P,k,C))&&("**"===C.path||Go(P,C,k).matched)}(T,B,me,ze)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(P,B,T,me,ze,vt):vt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,B,k,T,me,ze):go(B):go(B)}expandSegmentAgainstRouteUsingRedirect(P,k,T,B,me,ze){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,T,B,ze):this.expandRegularSegmentAgainstRouteUsingRedirect(P,k,T,B,me,ze)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,k,T,B){const me=this.applyRedirects.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?to(me):this.applyRedirects.lineralizeSegments(T,me).pipe((0,De.z)(ze=>{const vt=new en(ze,{});return this.processSegment(P,k,vt,ze,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,k,T,B,me,ze){const{matched:vt,consumedSegments:Cn,remainingSegments:kt,positionalParamSegments:Rn}=Go(k,B,me);if(!vt)return go(k);const dr=this.applyRedirects.applyRedirectCommands(Cn,B.redirectTo,Rn);return B.redirectTo.startsWith("/")?to(dr):this.applyRedirects.lineralizeSegments(B,dr).pipe((0,De.z)(hi=>this.processSegment(P,T,k,hi.concat(kt),ze,!1)))}matchSegmentAgainstRoute(P,k,T,B,me,ze){let vt;if("**"===T.path){var Cn,kt;const Rn=B.length>0?cn(B).parameters:{},dr=new Pr(B,Rn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uo(T),pr(T),null!==(Cn=null!==(kt=T.component)&&void 0!==kt?kt:T._loadedComponent)&&void 0!==Cn?Cn:null,T,Rs(T));vt=(0,Z.of)({snapshot:dr,consumedSegments:[],remainingSegments:[]}),k.children={}}else vt=Za(k,T,B,P).pipe((0,be.U)(({matched:Rn,consumedSegments:dr,remainingSegments:hi,parameters:co})=>{var fi,ro;return Rn?{snapshot:new Pr(dr,co,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uo(T),pr(T),null!==(fi=null!==(ro=T.component)&&void 0!==ro?ro:T._loadedComponent)&&void 0!==fi?fi:null,T,Rs(T)),consumedSegments:dr,remainingSegments:hi}:null}));return vt.pipe((0,_e.w)(Rn=>{var dr;return null===Rn?go(k):(P=null!==(dr=T._injector)&&void 0!==dr?dr:P,this.getChildConfig(P,T,B).pipe((0,_e.w)(({routes:hi})=>{var co;const fi=null!==(co=T._loadedInjector)&&void 0!==co?co:P,{snapshot:ro,consumedSegments:ys,remainingSegments:nl}=Rn,{segmentGroup:io,slicedSegments:ss}=Qa(k,ys,nl,hi);if(0===ss.length&&io.hasChildren())return this.processChildren(fi,hi,io).pipe((0,be.U)(Sl=>null===Sl?null:[new qr(ro,Sl)]));if(0===hi.length&&0===ss.length)return(0,Z.of)([new qr(ro,[])]);const Li=pr(T)===me;return this.processSegment(fi,hi,io,ss,Li?mt:me,!0).pipe((0,be.U)(Sl=>[new qr(ro,Sl)]))})))}))}getChildConfig(P,k,T){return k.children?(0,Z.of)({routes:k.children,injector:P}):k.loadChildren?void 0!==k._loadedRoutes?(0,Z.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):function ao(C,P,k,T){const B=P.canLoad;if(void 0===B||0===B.length)return(0,Z.of)(!0);const me=B.map(ze=>{const vt=bo(ze,C);return wn(function Os(C){return C&&Ws(C.canLoad)}(vt)?vt.canLoad(P,k):C.runInContext(()=>vt(P,k)))});return(0,Z.of)(me).pipe(Oe(),Io())}(P,k,T).pipe((0,De.z)(B=>B?this.configLoader.loadChildren(P,k).pipe((0,Ve.b)(me=>{k._loadedRoutes=me.routes,k._loadedInjector=me.injector})):function As(C){return Be(b(!1,3))}())):(0,Z.of)({routes:[],injector:P})}}function Gu(C){const P=C.value.routeConfig;return P&&""===P.path}function Bo(C){const P=[],k=new Set;for(const T of C){if(!Gu(T)){P.push(T);continue}const B=P.find(me=>T.value.routeConfig===me.value.routeConfig);void 0!==B?(B.children.push(...T.children),k.add(B)):P.push(T)}for(const T of k){const B=Bo(T.children);P.push(new qr(T.value,B))}return P.filter(T=>!k.has(T))}function uo(C){return C.data||{}}function Rs(C){return C.resolve||{}}function A(C){return"string"==typeof C.title||null===C.title}function H(C){return(0,_e.w)(P=>{const k=C(P);return k?(0,Y.D)(k).pipe((0,be.U)(()=>P)):(0,Z.of)(P)})}const Xe=new a.OlP("ROUTES");let U=(()=>{var C;class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,Z.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const B=wn(T.loadComponent()).pipe((0,be.U)(zt),(0,Ve.b)(ze=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=ze}),Ke(()=>{this.componentLoaders.delete(T)})),me=new ot(B,()=>new ue.x).pipe(Ze());return this.componentLoaders.set(T,me),me}loadChildren(T,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,Z.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const ze=function Fe(C,P,k,T){return wn(C.loadChildren()).pipe((0,be.U)(zt),(0,De.z)(B=>B instanceof a.YKP||Array.isArray(B)?(0,Z.of)(B):(0,Y.D)(P.compileModuleAsync(B))),(0,be.U)(B=>{T&&T(C);let me,ze,vt=!1;return Array.isArray(B)?(ze=B,!0):(me=B.create(k).injector,ze=me.get(Xe,[],{optional:!0,self:!0}).flat()),{routes:ze.map(Yr),injector:me}}))}(B,this.compiler,T,this.onLoadEndListener).pipe(Ke(()=>{this.childrenLoaders.delete(B)})),vt=new ot(ze,()=>new ue.x).pipe(Ze());return this.childrenLoaders.set(B,vt),vt}}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),P})();function zt(C){return function lt(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let _n=(()=>{var C;class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue.x,this.transitionAbortSubject=new ue.x,this.configLoader=(0,a.f3M)(U),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(an),this.rootContexts=(0,a.f3M)(Xn),this.inputBindingEnabled=null!==(0,a.f3M)(Mi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Z.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=me=>this.events.next(new it(me)),this.configLoader.onLoadStartListener=me=>this.events.next(new Qe(me))}complete(){var T;null===(T=this.transitions)||void 0===T||T.complete()}handleNavigationRequest(T){var B;const me=++this.navigationId;null===(B=this.transitions)||void 0===B||B.next({...this.transitions.value,...T,id:me})}setupNavigations(T,B,me){return this.transitions=new Q.X({id:0,currentUrlTree:B,currentRawUrl:B,currentBrowserUrl:B,extractedUrl:T.urlHandlingStrategy.extract(B),urlAfterRedirects:T.urlHandlingStrategy.extract(B),rawUrl:B,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ei,restoredState:null,currentSnapshot:me.snapshot,targetSnapshot:null,currentRouterState:me,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Le.h)(ze=>0!==ze.id),(0,be.U)(ze=>({...ze,extractedUrl:T.urlHandlingStrategy.extract(ze.rawUrl)})),(0,_e.w)(ze=>{this.currentTransition=ze;let vt=!1,Cn=!1;return(0,Z.of)(ze).pipe((0,Ve.b)(kt=>{this.currentNavigation={id:kt.id,initialUrl:kt.rawUrl,extractedUrl:kt.extractedUrl,trigger:kt.source,extras:kt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_e.w)(kt=>{var Rn;const dr=kt.currentBrowserUrl.toString(),hi=!T.navigated||kt.extractedUrl.toString()!==dr||dr!==kt.currentUrlTree.toString(),co=null!==(Rn=kt.extras.onSameUrlNavigation)&&void 0!==Rn?Rn:T.onSameUrlNavigation;if(!hi&&"reload"!==co){const fi="";return this.events.next(new Ri(kt.id,this.urlSerializer.serialize(kt.rawUrl),fi,0)),kt.resolve(null),$e.E}if(T.urlHandlingStrategy.shouldProcessUrl(kt.rawUrl))return(0,Z.of)(kt).pipe((0,_e.w)(fi=>{var ro,ys;const nl=null===(ro=this.transitions)||void 0===ro?void 0:ro.getValue();return this.events.next(new oi(fi.id,this.urlSerializer.serialize(fi.extractedUrl),fi.source,fi.restoredState)),nl!==(null===(ys=this.transitions)||void 0===ys?void 0:ys.getValue())?$e.E:Promise.resolve(fi)}),function Ys(C,P,k,T,B,me){return(0,De.z)(ze=>function va(C,P,k,T,B,me,ze="emptyOnly"){return new Ss(C,P,k,T,B,ze,me).recognize()}(C,P,k,T,ze.extractedUrl,B,me).pipe((0,be.U)(({state:vt,tree:Cn})=>({...ze,targetSnapshot:vt,urlAfterRedirects:Cn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,Ve.b)(fi=>{ze.targetSnapshot=fi.targetSnapshot,ze.urlAfterRedirects=fi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:fi.urlAfterRedirects};const ro=new ni(fi.id,this.urlSerializer.serialize(fi.extractedUrl),this.urlSerializer.serialize(fi.urlAfterRedirects),fi.targetSnapshot);this.events.next(ro)}));if(hi&&T.urlHandlingStrategy.shouldProcessUrl(kt.currentRawUrl)){const{id:fi,extractedUrl:ro,source:ys,restoredState:nl,extras:io}=kt,ss=new oi(fi,this.urlSerializer.serialize(ro),ys,nl);this.events.next(ss);const Li=si(0,this.rootComponentType).snapshot;return this.currentTransition=ze={...kt,targetSnapshot:Li,urlAfterRedirects:ro,extras:{...io,skipLocationChange:!1,replaceUrl:!1}},(0,Z.of)(ze)}{const fi="";return this.events.next(new Ri(kt.id,this.urlSerializer.serialize(kt.extractedUrl),fi,1)),kt.resolve(null),$e.E}}),(0,Ve.b)(kt=>{const Rn=new ki(kt.id,this.urlSerializer.serialize(kt.extractedUrl),this.urlSerializer.serialize(kt.urlAfterRedirects),kt.targetSnapshot);this.events.next(Rn)}),(0,be.U)(kt=>(this.currentTransition=ze={...kt,guards:ts(kt.targetSnapshot,kt.currentSnapshot,this.rootContexts)},ze)),function q(C,P){return(0,De.z)(k=>{const{targetSnapshot:T,currentSnapshot:B,guards:{canActivateChecks:me,canDeactivateChecks:ze}}=k;return 0===ze.length&&0===me.length?(0,Z.of)({...k,guardsResult:!0}):function Ye(C,P,k,T){return(0,Y.D)(C).pipe((0,De.z)(B=>function $o(C,P,k,T,B){const me=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!me||0===me.length)return(0,Z.of)(!0);const ze=me.map(vt=>{var Cn;const kt=null!==(Cn=mi(P))&&void 0!==Cn?Cn:B,Rn=bo(vt,kt);return wn(function wl(C){return C&&Ws(C.canDeactivate)}(Rn)?Rn.canDeactivate(C,P,k,T):kt.runInContext(()=>Rn(C,P,k,T))).pipe((0,Ae.P)())});return(0,Z.of)(ze).pipe(Oe())}(B.component,B.route,k,P,T)),(0,Ae.P)(B=>!0!==B,!0))}(ze,T,B,C).pipe((0,De.z)(vt=>vt&&function Ao(C){return"boolean"==typeof C}(vt)?function ln(C,P,k,T){return(0,Y.D)(P).pipe(Te(B=>(0,K.z)(function _i(C,P){return null!==C&&P&&P(new Ot(C)),(0,Z.of)(!0)}(B.route.parent,T),function er(C,P){return null!==C&&P&&P(new Yt(C)),(0,Z.of)(!0)}(B.route,T),function So(C,P,k){const T=P[P.length-1],me=P.slice(0,P.length-1).reverse().map(ze=>function Ji(C){const P=C.routeConfig?C.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:C,guards:P}:null}(ze)).filter(ze=>null!==ze).map(ze=>ge(()=>{const vt=ze.guards.map(Cn=>{var kt;const Rn=null!==(kt=mi(ze.node))&&void 0!==kt?kt:k,dr=bo(Cn,Rn);return wn(function Cl(C){return C&&Ws(C.canActivateChild)}(dr)?dr.canActivateChild(T,C):Rn.runInContext(()=>dr(T,C))).pipe((0,Ae.P)())});return(0,Z.of)(vt).pipe(Oe())}));return(0,Z.of)(me).pipe(Oe())}(C,B.path,k),function po(C,P,k){const T=P.routeConfig?P.routeConfig.canActivate:null;if(!T||0===T.length)return(0,Z.of)(!0);const B=T.map(me=>ge(()=>{var ze;const vt=null!==(ze=mi(P))&&void 0!==ze?ze:k,Cn=bo(me,vt);return wn(function Il(C){return C&&Ws(C.canActivate)}(Cn)?Cn.canActivate(P,C):vt.runInContext(()=>Cn(P,C))).pipe((0,Ae.P)())}));return(0,Z.of)(B).pipe(Oe())}(C,B.route,k))),(0,Ae.P)(B=>!0!==B,!0))}(T,me,C,P):(0,Z.of)(vt)),(0,be.U)(vt=>({...k,guardsResult:vt})))})}(this.environmentInjector,kt=>this.events.next(kt)),(0,Ve.b)(kt=>{if(ze.guardsResult=kt.guardsResult,nn(kt.guardsResult))throw v(0,kt.guardsResult);const Rn=new Yi(kt.id,this.urlSerializer.serialize(kt.extractedUrl),this.urlSerializer.serialize(kt.urlAfterRedirects),kt.targetSnapshot,!!kt.guardsResult);this.events.next(Rn)}),(0,Le.h)(kt=>!!kt.guardsResult||(this.cancelNavigationTransition(kt,"",3),!1)),H(kt=>{if(kt.guards.canActivateChecks.length)return(0,Z.of)(kt).pipe((0,Ve.b)(Rn=>{const dr=new ve(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(dr)}),(0,_e.w)(Rn=>{let dr=!1;return(0,Z.of)(Rn).pipe(function Ns(C,P){return(0,De.z)(k=>{const{targetSnapshot:T,guards:{canActivateChecks:B}}=k;if(!B.length)return(0,Z.of)(k);let me=0;return(0,Y.D)(B).pipe(Te(ze=>function Ks(C,P,k,T){const B=C.routeConfig,me=C._resolve;return void 0!==(null==B?void 0:B.title)&&!A(B)&&(me[Kt]=B.title),function Tl(C,P,k,T){const B=function _s(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===B.length)return(0,Z.of)({});const me={};return(0,Y.D)(B).pipe((0,De.z)(ze=>function bl(C,P,k,T){var B;const me=null!==(B=mi(P))&&void 0!==B?B:T,ze=bo(C,me);return wn(ze.resolve?ze.resolve(P,k):me.runInContext(()=>ze(P,k)))}(C[ze],P,k,T).pipe((0,Ae.P)(),(0,Ve.b)(vt=>{me[ze]=vt}))),rt(1),function Se(C){return(0,be.U)(()=>C)}(me),_t(ze=>G(ze)?$e.E:Be(ze)))}(me,C,P,T).pipe((0,be.U)(ze=>(C._resolvedData=ze,C.data=En(C,k).resolve,B&&A(B)&&(C.data[Kt]=B.title),null)))}(ze.route,T,C,P)),(0,Ve.b)(()=>me++),rt(1),(0,De.z)(ze=>me===B.length?(0,Z.of)(k):$e.E))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,Ve.b)({next:()=>dr=!0,complete:()=>{dr||this.cancelNavigationTransition(Rn,"",2)}}))}),(0,Ve.b)(Rn=>{const dr=new ie(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(dr)}))}),H(kt=>{const Rn=dr=>{var hi;const co=[];null!==(hi=dr.routeConfig)&&void 0!==hi&&hi.loadComponent&&!dr.routeConfig._loadedComponent&&co.push(this.configLoader.loadComponent(dr.routeConfig).pipe((0,Ve.b)(fi=>{dr.component=fi}),(0,be.U)(()=>{})));for(const fi of dr.children)co.push(...Rn(fi));return co};return(0,ne.a)(Rn(kt.targetSnapshot.root)).pipe((0,At.d)(),(0,te.q)(1))}),H(()=>this.afterPreactivation()),(0,be.U)(kt=>{const Rn=function Bi(C,P,k){const T=bi(C,P._root,k?k._root:void 0);return new Lr(T,P)}(T.routeReuseStrategy,kt.targetSnapshot,kt.currentRouterState);return this.currentTransition=ze={...kt,targetRouterState:Rn},ze}),(0,Ve.b)(()=>{this.events.next(new O)}),((C,P,k,T)=>(0,be.U)(B=>(new zi(P,B.targetRouterState,B.currentRouterState,k,T).activate(C),B)))(this.rootContexts,T.routeReuseStrategy,kt=>this.events.next(kt),this.inputBindingEnabled),(0,te.q)(1),(0,Ve.b)({next:kt=>{var Rn;vt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ti(kt.id,this.urlSerializer.serialize(kt.extractedUrl),this.urlSerializer.serialize(kt.urlAfterRedirects))),null===(Rn=T.titleStrategy)||void 0===Rn||Rn.updateTitle(kt.targetRouterState.snapshot),kt.resolve(!0)},complete:()=>{vt=!0}}),function ft(C){return(0,We.e)((P,k)=>{(0,le.Xf)(C).subscribe((0,He.x)(k,()=>k.complete(),qe.Z)),!k.closed&&P.subscribe(k)})}(this.transitionAbortSubject.pipe((0,Ve.b)(kt=>{throw kt}))),Ke(()=>{var kt;vt||Cn||this.cancelNavigationTransition(ze,"",1),(null===(kt=this.currentNavigation)||void 0===kt?void 0:kt.id)===ze.id&&(this.currentNavigation=null)}),_t(kt=>{if(Cn=!0,Pe(kt))this.events.next(new Si(ze.id,this.urlSerializer.serialize(ze.extractedUrl),kt.message,kt.cancellationCode)),function re(C){return Pe(C)&&nn(C.url)}(kt)?this.events.next(new de(kt.url)):ze.resolve(!1);else{var Rn;this.events.next(new Or(ze.id,this.urlSerializer.serialize(ze.extractedUrl),kt,null!==(Rn=ze.targetSnapshot)&&void 0!==Rn?Rn:void 0));try{ze.resolve(T.errorHandler(kt))}catch(dr){ze.reject(dr)}}return $e.E}))}))}cancelNavigationTransition(T,B,me){const ze=new Si(T.id,this.urlSerializer.serialize(T.extractedUrl),B,me);this.events.next(ze),T.resolve(!1)}}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),P})();function Mr(C){return C!==Ei}let Sr=(()=>{var C;class P{buildTitle(T){let B,me=T.root;for(;void 0!==me;){var ze;B=null!==(ze=this.getResolvedTitleForRoute(me))&&void 0!==ze?ze:B,me=me.children.find(vt=>vt.outlet===mt)}return B}getResolvedTitleForRoute(T){return T.data[Kt]}}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:function(){return(0,a.f3M)(Kr)},providedIn:"root"}),P})(),Kr=(()=>{var C;class P extends Sr{constructor(T){super(),this.title=T}updateTitle(T){const B=this.buildTitle(T);void 0!==B&&this.title.setTitle(B)}}return(C=P).\u0275fac=function(T){return new(T||C)(a.LFG(bt.Dx))},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),P})(),Hn=(()=>{var C;class P{}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:function(){return(0,a.f3M)(Zr)},providedIn:"root"}),P})();class ri{shouldDetach(P){return!1}store(P,k){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,k){return P.routeConfig===k.routeConfig}}let Zr=(()=>{var C;class P extends ri{}return(C=P).\u0275fac=function(){let k;return function(B){return(k||(k=a.n5z(C)))(B||C)}}(),C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),P})();const Ci=new a.OlP("",{providedIn:"root",factory:()=>({})});let ns=(()=>{var C;class P{}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:function(){return(0,a.f3M)(tn)},providedIn:"root"}),P})(),tn=(()=>{var C;class P{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,B){return T}}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),P})();var di=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(di||{});function wi(C,P){C.events.pipe((0,Le.h)(k=>k instanceof Ti||k instanceof Si||k instanceof Or||k instanceof Ri),(0,be.U)(k=>k instanceof Ti||k instanceof Ri?di.COMPLETE:k instanceof Si&&(0===k.code||1===k.code)?di.REDIRECTING:di.FAILED),(0,Le.h)(k=>k!==di.REDIRECTING),(0,te.q)(1)).subscribe(()=>{P()})}function vs(C){throw C}function Mn(C,P,k){return P.parse("/")}const Bn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xt=(()=>{var C;class P{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var T,B;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(T=null===(B=this.location.getState())||void 0===B?void 0:B.\u0275routerPageId)&&void 0!==T?T:this.currentPageId}get events(){return this._events}constructor(){var T,B;this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new ue.x,this.options=(0,a.f3M)(Ci,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||vs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Mn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(ns),this.routeReuseStrategy=(0,a.f3M)(Hn),this.titleStrategy=(0,a.f3M)(Sr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(T=null===(B=(0,a.f3M)(Xe,{optional:!0}))||void 0===B?void 0:B.flat())&&void 0!==T?T:[],this.navigationTransitions=(0,a.f3M)(_n),this.urlSerializer=(0,a.f3M)(an),this.location=(0,a.f3M)(Ge.Ye),this.componentInputBindingEnabled=!!(0,a.f3M)(Mi,{optional:!0}),this.eventsSubscription=new nt.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=si(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(me=>{this.lastSuccessfulId=me.id,this.currentPageId=this.browserPageId},me=>{this.console.warn(`Unhandled Navigation Error: ${me}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(B=>{try{const{currentTransition:me}=this.navigationTransitions;if(null===me)return void(dn(B)&&this._events.next(B));if(B instanceof oi)Mr(me.source)&&(this.browserUrlTree=me.extractedUrl);else if(B instanceof Ri)this.rawUrlTree=me.rawUrl;else if(B instanceof ni){if("eager"===this.urlUpdateStrategy){if(!me.extras.skipLocationChange){const ze=this.urlHandlingStrategy.merge(me.urlAfterRedirects,me.rawUrl);this.setBrowserUrl(ze,me)}this.browserUrlTree=me.urlAfterRedirects}}else if(B instanceof O)this.currentUrlTree=me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(me.urlAfterRedirects,me.rawUrl),this.routerState=me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,me),this.browserUrlTree=me.urlAfterRedirects);else if(B instanceof Si)0!==B.code&&1!==B.code&&(this.navigated=!0),(3===B.code||2===B.code)&&this.restoreHistory(me);else if(B instanceof de){const ze=this.urlHandlingStrategy.merge(B.url,me.currentRawUrl),vt={skipLocationChange:me.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mr(me.source)};this.scheduleNavigation(ze,Ei,null,vt,{resolve:me.resolve,reject:me.reject,promise:me.promise})}B instanceof Or&&this.restoreHistory(me,!0),B instanceof Ti&&(this.navigated=!0),dn(B)&&this._events.next(B)}catch(me){this.navigationTransitions.transitionAbortSubject.next(me)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ei,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const B="popstate"===T.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,B,T.state)},0)}))}navigateToSyncWithBrowser(T,B,me){const ze={replaceUrl:!0},vt=null!=me&&me.navigationId?me:null;if(me){const kt={...me};delete kt.navigationId,delete kt.\u0275routerPageId,0!==Object.keys(kt).length&&(ze.state=kt)}const Cn=this.parseUrl(T);this.scheduleNavigation(Cn,B,vt,ze)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(Yr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,B={}){const{relativeTo:me,queryParams:ze,fragment:vt,queryParamsHandling:Cn,preserveFragment:kt}=B,Rn=kt?this.currentUrlTree.fragment:vt;let hi,dr=null;switch(Cn){case"merge":dr={...this.currentUrlTree.queryParams,...ze};break;case"preserve":dr=this.currentUrlTree.queryParams;break;default:dr=ze||null}null!==dr&&(dr=this.removeEmptyProps(dr));try{hi=Gr(me?me.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),hi=this.currentUrlTree.root}return xt(hi,T,dr,null!=Rn?Rn:null)}navigateByUrl(T,B={skipLocationChange:!1}){const me=nn(T)?T:this.parseUrl(T),ze=this.urlHandlingStrategy.merge(me,this.rawUrlTree);return this.scheduleNavigation(ze,Ei,null,B)}navigate(T,B={skipLocationChange:!1}){return function Ut(C){for(let P=0;P<C.length;P++)if(null==C[P])throw new a.vHH(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,B),B)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let B;try{B=this.urlSerializer.parse(T)}catch(me){B=this.malformedUriErrorHandler(me,this.urlSerializer,T)}return B}isActive(T,B){let me;if(me=!0===B?{...Bn}:!1===B?{...Wu}:B,nn(T))return On(this.currentUrlTree,T,me);const ze=this.parseUrl(T);return On(this.currentUrlTree,ze,me)}removeEmptyProps(T){return Object.keys(T).reduce((B,me)=>{const ze=T[me];return null!=ze&&(B[me]=ze),B},{})}scheduleNavigation(T,B,me,ze,vt){if(this.disposed)return Promise.resolve(!1);let Cn,kt,Rn;vt?(Cn=vt.resolve,kt=vt.reject,Rn=vt.promise):Rn=new Promise((hi,co)=>{Cn=hi,kt=co});const dr=this.pendingTasks.add();return wi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dr))}),this.navigationTransitions.handleNavigationRequest({source:B,restoredState:me,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:T,extras:ze,resolve:Cn,reject:kt,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(hi=>Promise.reject(hi))}setBrowserUrl(T,B){const me=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(me)||B.extras.replaceUrl){const vt={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId)};this.location.replaceState(me,"",vt)}else{const ze={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId+1)};this.location.go(me,"",ze)}}restoreHistory(T,B=!1){if("computed"===this.canceledNavigationResolution){var me;const vt=this.currentPageId-this.browserPageId;0!==vt?this.location.historyGo(vt):this.currentUrlTree===(null===(me=this.getCurrentNavigation())||void 0===me?void 0:me.finalUrl)&&0===vt&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,B){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:B}:{navigationId:T}}}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),P})();function dn(C){return!(C instanceof O||C instanceof de)}let ii=(()=>{var C;class P{constructor(T,B,me,ze,vt,Cn){var kt;this.router=T,this.route=B,this.tabIndexAttribute=me,this.renderer=ze,this.el=vt,this.locationStrategy=Cn,this.href=null,this.commands=null,this.onChanges=new ue.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Rn=null===(kt=vt.nativeElement.tagName)||void 0===kt?void 0:kt.toLowerCase();this.isAnchorElement="a"===Rn||"area"===Rn,this.isAnchorElement?this.subscription=T.events.subscribe(dr=>{dr instanceof Ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,B,me,ze,vt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||B||me||ze||vt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var T;null===(T=this.subscription)||void 0===T||T.unsubscribe()}updateHref(){var T;this.href=null!==this.urlTree&&this.locationStrategy?null===(T=this.locationStrategy)||void 0===T?void 0:T.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const B=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",B)}applyAttributeValue(T,B){const me=this.renderer,ze=this.el.nativeElement;null!==B?me.setAttribute(ze,T,B):me.removeAttribute(ze,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(C=P).\u0275fac=function(T){return new(T||C)(a.Y36(Xt),a.Y36(Qt),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ge.S$))},C.\u0275dir=a.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,B){1&T&&a.NdJ("click",function(ze){return B.onClick(ze.button,ze.ctrlKey,ze.shiftKey,ze.altKey,ze.metaKey)}),2&T&&a.uIk("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]}),P})();class ya{}let Ro=(()=>{var C;class P{preload(T,B){return B().pipe(_t(()=>(0,Z.of)(null)))}}return(C=P).\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),P})(),iu=(()=>{var C;class P{constructor(T,B,me,ze,vt){this.router=T,this.injector=me,this.preloadingStrategy=ze,this.loader=vt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Le.h)(T=>T instanceof Ti),Te(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,B){const me=[];for(const kt of B){var ze,vt;kt.providers&&!kt._injector&&(kt._injector=(0,a.MMx)(kt.providers,T,`Route: ${kt.path}`));const Rn=null!==(ze=kt._injector)&&void 0!==ze?ze:T,dr=null!==(vt=kt._loadedInjector)&&void 0!==vt?vt:Rn;var Cn;(kt.loadChildren&&!kt._loadedRoutes&&void 0===kt.canLoad||kt.loadComponent&&!kt._loadedComponent)&&me.push(this.preloadConfig(Rn,kt)),(kt.children||kt._loadedRoutes)&&me.push(this.processRoutes(dr,null!==(Cn=kt.children)&&void 0!==Cn?Cn:kt._loadedRoutes))}return(0,Y.D)(me).pipe((0,ht.J)())}preloadConfig(T,B){return this.preloadingStrategy.preload(B,()=>{let me;me=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(T,B):(0,Z.of)(null);const ze=me.pipe((0,De.z)(vt=>{var Cn;return null===vt?(0,Z.of)(void 0):(B._loadedRoutes=vt.routes,B._loadedInjector=vt.injector,this.processRoutes(null!==(Cn=vt.injector)&&void 0!==Cn?Cn:T,vt.routes))}));if(B.loadComponent&&!B._loadedComponent){const vt=this.loader.loadComponent(B);return(0,Y.D)([ze,vt]).pipe((0,ht.J)())}return ze})}}return(C=P).\u0275fac=function(T){return new(T||C)(a.LFG(Xt),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(ya),a.LFG(U))},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),P})();const Al=new a.OlP("");let Ps=(()=>{var C;class P{constructor(T,B,me,ze,vt={}){this.urlSerializer=T,this.transitions=B,this.viewportScroller=me,this.zone=ze,this.options=vt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},vt.scrollPositionRestoration=vt.scrollPositionRestoration||"disabled",vt.anchorScrolling=vt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof oi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Ti?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof Ri&&0===T.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof ae&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,B){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ae(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))})},0)})}ngOnDestroy(){var T,B;null===(T=this.routerEventsSubscription)||void 0===T||T.unsubscribe(),null===(B=this.scrollEventsSubscription)||void 0===B||B.unsubscribe()}}return(C=P).\u0275fac=function(T){a.$Z()},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac}),P})();function rs(C,P){return{\u0275kind:C,\u0275providers:P}}function Yn(){const C=(0,a.f3M)(a.zs3);return P=>{var k,T;const B=C.get(a.z2F);if(P!==B.components[0])return;const me=C.get(Xt),ze=C.get(Ia);1===C.get(ei)&&me.initialNavigation(),null===(k=C.get(Uo,null,a.XFs.Optional))||void 0===k||k.setUpPreloading(),null===(T=C.get(Al,null,a.XFs.Optional))||void 0===T||T.init(),me.resetRootComponentType(B.componentTypes[0]),ze.closed||(ze.next(),ze.complete(),ze.unsubscribe())}}const Ia=new a.OlP("",{factory:()=>new ue.x}),ei=new a.OlP("",{providedIn:"root",factory:()=>1}),Uo=new a.OlP("");function qu(C){return rs(0,[{provide:Uo,useExisting:iu},{provide:ya,useExisting:C}])}const ur=new a.OlP("ROUTER_FORROOT_GUARD"),su=[Ge.Ye,{provide:an,useClass:Wn},Xt,Xn,{provide:Qt,useFactory:function zc(C){return C.routerState.root},deps:[Xt]},U,[]];function Do(){return new a.PXZ("Router",Xt)}let no=(()=>{var C;class P{constructor(T){}static forRoot(T,B){return{ngModule:P,providers:[su,[],{provide:Xe,multi:!0,useValue:T},{provide:ur,useFactory:Da,deps:[[Xt,new a.FiY,new a.tp0]]},{provide:Ci,useValue:B||{}},null!=B&&B.useHash?{provide:Ge.S$,useClass:Ge.Do}:{provide:Ge.S$,useClass:Ge.b0},{provide:Al,useFactory:()=>{const C=(0,a.f3M)(Ge.EM),P=(0,a.f3M)(a.R0b),k=(0,a.f3M)(Ci),T=(0,a.f3M)(_n),B=(0,a.f3M)(an);return k.scrollOffset&&C.setOffset(k.scrollOffset),new Ps(B,T,C,P,k)}},null!=B&&B.preloadingStrategy?qu(B.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Do},null!=B&&B.initialNavigation?Mt(B):[],null!=B&&B.bindToComponentInputs?rs(8,[Vr,{provide:Mi,useExisting:Vr}]).\u0275providers:[],[{provide:Ls,useFactory:Yn},{provide:a.tb,multi:!0,useExisting:Ls}]]}}static forChild(T){return{ngModule:P,providers:[{provide:Xe,multi:!0,useValue:T}]}}}return(C=P).\u0275fac=function(T){return new(T||C)(a.LFG(ur,8))},C.\u0275mod=a.oAB({type:C}),C.\u0275inj=a.cJS({}),P})();function Da(C){return"guarded"}function Mt(C){return["disabled"===C.initialNavigation?rs(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const P=(0,a.f3M)(Xt);return()=>{P.setUpLocationChangeListener()}}},{provide:ei,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?rs(2,[{provide:ei,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:P=>{const k=P.get(Ge.V_,Promise.resolve());return()=>k.then(()=>new Promise(T=>{const B=P.get(Xt),me=P.get(Ia);wi(B,()=>{T(!0)}),P.get(_n).afterPreactivation=()=>(T(!0),me.closed?(0,Z.of)(void 0):me),B.initialNavigation()}))}}]).\u0275providers:[]]}const Ls=new a.OlP("")},3106:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Z:()=>$e});var a=I(9058),_=I(4537),N=I(534),F=I(7879);class Y{constructor(We,He){this._delegate=We,this.firebase=He,(0,N._addComponent)(We,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(We,He=N._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(We);return!ot.isInitialized()&&"EXPLICIT"===(null===(Ze=ot.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:He})}_removeServiceInstance(We,He=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(He)}_addComponent(We){(0,N._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,N._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Me(){const nt=function ne(nt){const We={},He={__esModule:!0,initializeApp:function ue(te,W={}){const Le=N.initializeApp(te,W);if((0,a.r3)(We,Le.name))return We[Le.name];const De=new nt(Le,He);return We[Le.name]=De,De},app:ot,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function be(te){const W=te.name,Le=W.replace("-compat","");if(N._registerComponent(te)&&"PUBLIC"===te.type){const De=(Ae=ot())=>{if("function"!=typeof Ae[Le])throw Q.create("invalid-app-argument",{appName:W});return Ae[Le]()};void 0!==te.serviceProps&&(0,a.ZB)(De,te.serviceProps),He[Le]=De,nt.prototype[Le]=function(...Ae){return this._getService.bind(this,W).apply(this,te.multipleInstances?Ae:[])}}return"PUBLIC"===te.type?He[Le]:null},removeApp:function Ze(te){delete We[te]},useAsService:function _e(te,W){return"serverAuth"===W?null:W},modularAPIs:N}};function ot(te){if(!(0,a.r3)(We,te=te||N._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:te});return We[te]}return He.default=He,Object.defineProperty(He,"apps",{get:function Ge(){return Object.keys(We).map(te=>We[te])}}),ot.App=nt,He}(Y);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function We(He){(0,a.ZB)(nt,He)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),nt}(),le=new F.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=K;!function Be(nt){(0,N.registerVersion)("@firebase/app-compat","0.2.23",nt)}()},534:(Lt,Ce,I)=>{"use strict";I.r(Ce),I.d(Ce,{FirebaseError:()=>F.ZR,SDK_VERSION:()=>kr,_DEFAULT_ENTRY_NAME:()=>hn,_addComponent:()=>mr,_addOrOverwriteComponent:()=>_r,_apps:()=>Sn,_clearComponents:()=>sn,_components:()=>Qn,_getProvider:()=>Ln,_registerComponent:()=>en,_removeServiceInstance:()=>xr,deleteApp:()=>Nt,getApp:()=>Gn,getApps:()=>Pn,initializeApp:()=>br,onLog:()=>Ne,registerVersion:()=>ee,setLogLevel:()=>st});var a=I(5861),_=I(4537),N=I(7879),F=I(9058);const Y=(xt,Et)=>Et.some(Gt=>xt instanceof Gt);let Z,Q;const K=new WeakMap,le=new WeakMap,ge=new WeakMap,we=new WeakMap,Be=new WeakMap;let We={get(xt,Et,Gt){if(xt instanceof IDBTransaction){if("done"===Et)return le.get(xt);if("objectStoreNames"===Et)return xt.objectStoreNames||ge.get(xt);if("store"===Et)return Gt.objectStoreNames[1]?void 0:Gt.objectStore(Gt.objectStoreNames[0])}return ue(xt[Et])},set:(xt,Et,Gt)=>(xt[Et]=Gt,!0),has:(xt,Et)=>xt instanceof IDBTransaction&&("done"===Et||"store"===Et)||Et in xt};function ot(xt){return"function"==typeof xt?function Ze(xt){return xt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(xt)?function(...Et){return xt.apply(Ge(this),Et),ue(K.get(this))}:function(...Et){return ue(xt.apply(Ge(this),Et))}:function(Et,...Gt){const yn=xt.call(Ge(this),Et,...Gt);return ge.set(yn,Et.sort?Et.sort():[Et]),ue(yn)}}(xt):(xt instanceof IDBTransaction&&function nt(xt){if(le.has(xt))return;const Et=new Promise((Gt,yn)=>{const Nn=()=>{xt.removeEventListener("complete",pn),xt.removeEventListener("error",tr),xt.removeEventListener("abort",tr)},pn=()=>{Gt(),Nn()},tr=()=>{yn(xt.error||new DOMException("AbortError","AbortError")),Nn()};xt.addEventListener("complete",pn),xt.addEventListener("error",tr),xt.addEventListener("abort",tr)});le.set(xt,Et)}(xt),Y(xt,function ne(){return Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(xt,We):xt)}function ue(xt){if(xt instanceof IDBRequest)return function $e(xt){const Et=new Promise((Gt,yn)=>{const Nn=()=>{xt.removeEventListener("success",pn),xt.removeEventListener("error",tr)},pn=()=>{Gt(ue(xt.result)),Nn()},tr=()=>{yn(xt.error),Nn()};xt.addEventListener("success",pn),xt.addEventListener("error",tr)});return Et.then(Gt=>{Gt instanceof IDBCursor&&K.set(Gt,xt)}).catch(()=>{}),Be.set(Et,xt),Et}(xt);if(we.has(xt))return we.get(xt);const Et=ot(xt);return Et!==xt&&(we.set(xt,Et),Be.set(Et,xt)),Et}const Ge=xt=>Be.get(xt),te=["get","getKey","getAll","getAllKeys","count"],W=["put","add","delete","clear"],Le=new Map;function De(xt,Et){if(!(xt instanceof IDBDatabase)||Et in xt||"string"!=typeof Et)return;if(Le.get(Et))return Le.get(Et);const Gt=Et.replace(/FromIndex$/,""),yn=Et!==Gt,Nn=W.includes(Gt);if(!(Gt in(yn?IDBIndex:IDBObjectStore).prototype)||!Nn&&!te.includes(Gt))return;const pn=function(){var tr=(0,a.Z)(function*(Br,...yr){const ci=this.transaction(Br,Nn?"readwrite":"readonly");let Wr=ci.store;return yn&&(Wr=Wr.index(yr.shift())),(yield Promise.all([Wr[Gt](...yr),Nn&&ci.done]))[0]});return function(yr){return tr.apply(this,arguments)}}();return Le.set(Et,pn),pn}!function He(xt){We=xt(We)}(xt=>({...xt,get:(Et,Gt,yn)=>De(Et,Gt)||xt.get(Et,Gt,yn),has:(Et,Gt)=>!!De(Et,Gt)||xt.has(Et,Gt)}));class Ae{constructor(Et){this.container=Et}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function Te(xt){const Et=xt.getComponent();return"VERSION"===(null==Et?void 0:Et.type)}(Gt)){const yn=Gt.getImmediate();return`${yn.library}/${yn.version}`}return null}).filter(Gt=>Gt).join(" ")}}const Ve="@firebase/app",Rt=new N.Yd("@firebase/app"),hn="[DEFAULT]",xn={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sn=new Map,Qn=new Map;function mr(xt,Et){try{xt.container.addComponent(Et)}catch(Gt){Rt.debug(`Component ${Et.name} failed to register with FirebaseApp ${xt.name}`,Gt)}}function _r(xt,Et){xt.container.addOrOverwriteComponent(Et)}function en(xt){const Et=xt.name;if(Qn.has(Et))return Rt.debug(`There were multiple attempts to register component ${Et}.`),!1;Qn.set(Et,xt);for(const Gt of Sn.values())mr(Gt,xt);return!0}function Ln(xt,Et){const Gt=xt.container.getProvider("heartbeat").getImmediate({optional:!0});return Gt&&Gt.triggerHeartbeat(),xt.container.getProvider(Et)}function xr(xt,Et,Gt=hn){Ln(xt,Et).clearInstance(Gt)}function sn(){Qn.clear()}const an=new F.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(Et,Gt,yn){this._isDeleted=!1,this._options=Object.assign({},Et),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=yn,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Et){this.checkDestroyed(),this._automaticDataCollectionEnabled=Et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Et){this._isDeleted=Et}checkDestroyed(){if(this.isDeleted)throw an.create("app-deleted",{appName:this._name})}}const kr="10.6.0";function br(xt,Et={}){let Gt=xt;"object"!=typeof Et&&(Et={name:Et});const yn=Object.assign({name:hn,automaticDataCollectionEnabled:!1},Et),Nn=yn.name;if("string"!=typeof Nn||!Nn)throw an.create("bad-app-name",{appName:String(Nn)});if(Gt||(Gt=(0,F.aH)()),!Gt)throw an.create("no-options");const pn=Sn.get(Nn);if(pn){if((0,F.vZ)(Gt,pn.options)&&(0,F.vZ)(yn,pn.config))return pn;throw an.create("duplicate-app",{appName:Nn})}const tr=new _.H0(Nn);for(const yr of Qn.values())tr.addComponent(yr);const Br=new Wn(Gt,yn,tr);return Sn.set(Nn,Br),Br}function Gn(xt=hn){const Et=Sn.get(xt);if(!Et&&xt===hn&&(0,F.aH)())return br();if(!Et)throw an.create("no-app",{appName:xt});return Et}function Pn(){return Array.from(Sn.values())}function Nt(xt){return ye.apply(this,arguments)}function ye(){return(ye=(0,a.Z)(function*(xt){const Et=xt.name;Sn.has(Et)&&(Sn.delete(Et),yield Promise.all(xt.container.getProviders().map(Gt=>Gt.delete())),xt.isDeleted=!0)})).apply(this,arguments)}function ee(xt,Et,Gt){var yn;let Nn=null!==(yn=xn[xt])&&void 0!==yn?yn:xt;Gt&&(Nn+=`-${Gt}`);const pn=Nn.match(/\s|\//),tr=Et.match(/\s|\//);if(pn||tr){const Br=[`Unable to register library "${Nn}" with version "${Et}":`];return pn&&Br.push(`library name "${Nn}" contains illegal characters (whitespace or "/")`),pn&&tr&&Br.push("and"),tr&&Br.push(`version name "${Et}" contains illegal characters (whitespace or "/")`),void Rt.warn(Br.join(" "))}en(new _.wA(`${Nn}-version`,()=>({library:Nn,version:Et}),"VERSION"))}function Ne(xt,Et){if(null!==xt&&"function"!=typeof xt)throw an.create("invalid-log-argument");(0,N.Am)(xt,Et)}function st(xt){(0,N.Ub)(xt)}const je="firebase-heartbeat-database",St=1,ke="firebase-heartbeat-store";let J=null;function $(){return J||(J=function be(xt,Et,{blocked:Gt,upgrade:yn,blocking:Nn,terminated:pn}={}){const tr=indexedDB.open(xt,Et),Br=ue(tr);return yn&&tr.addEventListener("upgradeneeded",yr=>{yn(ue(tr.result),yr.oldVersion,yr.newVersion,ue(tr.transaction),yr)}),Gt&&tr.addEventListener("blocked",yr=>Gt(yr.oldVersion,yr.newVersion,yr)),Br.then(yr=>{pn&&yr.addEventListener("close",()=>pn()),Nn&&yr.addEventListener("versionchange",ci=>Nn(ci.oldVersion,ci.newVersion,ci))}).catch(()=>{}),Br}(je,St,{upgrade:(xt,Et)=>{0===Et&&xt.createObjectStore(ke)}}).catch(xt=>{throw an.create("idb-open",{originalErrorMessage:xt.message})})),J}function w(){return(w=(0,a.Z)(function*(xt){try{return yield(yield $()).transaction(ke).objectStore(ke).get(tt(xt))}catch(Et){if(Et instanceof F.ZR)Rt.warn(Et.message);else{const Gt=an.create("idb-get",{originalErrorMessage:null==Et?void 0:Et.message});Rt.warn(Gt.message)}}})).apply(this,arguments)}function j(xt,Et){return ce.apply(this,arguments)}function ce(){return(ce=(0,a.Z)(function*(xt,Et){try{const yn=(yield $()).transaction(ke,"readwrite");yield yn.objectStore(ke).put(Et,tt(xt)),yield yn.done}catch(Gt){if(Gt instanceof F.ZR)Rt.warn(Gt.message);else{const yn=an.create("idb-set",{originalErrorMessage:null==Gt?void 0:Gt.message});Rt.warn(yn.message)}}})).apply(this,arguments)}function tt(xt){return`${xt.name}!${xt.options.appId}`}class Pt{constructor(Et){this.container=Et,this._heartbeatsCache=null;const Gt=this.container.getProvider("app").getImmediate();this._storage=new nn(Gt),this._heartbeatsCachePromise=this._storage.read().then(yn=>(this._heartbeatsCache=yn,yn))}triggerHeartbeat(){var Et=this;return(0,a.Z)(function*(){var Gt;const Nn=Et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pn=Bt();if(null==(null===(Gt=Et._heartbeatsCache)||void 0===Gt?void 0:Gt.heartbeats)&&(Et._heartbeatsCache=yield Et._heartbeatsCachePromise),Et._heartbeatsCache.lastSentHeartbeatDate!==pn&&!Et._heartbeatsCache.heartbeats.some(tr=>tr.date===pn))return Et._heartbeatsCache.heartbeats.push({date:pn,agent:Nn}),Et._heartbeatsCache.heartbeats=Et._heartbeatsCache.heartbeats.filter(tr=>{const Br=new Date(tr.date).valueOf();return Date.now()-Br<=2592e6}),Et._storage.overwrite(Et._heartbeatsCache)})()}getHeartbeatsHeader(){var Et=this;return(0,a.Z)(function*(){var Gt;if(null===Et._heartbeatsCache&&(yield Et._heartbeatsCachePromise),null==(null===(Gt=Et._heartbeatsCache)||void 0===Gt?void 0:Gt.heartbeats)||0===Et._heartbeatsCache.heartbeats.length)return"";const yn=Bt(),{heartbeatsToSend:Nn,unsentEntries:pn}=function Zt(xt,Et=1024){const Gt=[];let yn=xt.slice();for(const Nn of xt){const pn=Gt.find(tr=>tr.agent===Nn.agent);if(pn){if(pn.dates.push(Nn.date),Kn(Gt)>Et){pn.dates.pop();break}}else if(Gt.push({agent:Nn.agent,dates:[Nn.date]}),Kn(Gt)>Et){Gt.pop();break}yn=yn.slice(1)}return{heartbeatsToSend:Gt,unsentEntries:yn}}(Et._heartbeatsCache.heartbeats),tr=(0,F.L)(JSON.stringify({version:2,heartbeats:Nn}));return Et._heartbeatsCache.lastSentHeartbeatDate=yn,pn.length>0?(Et._heartbeatsCache.heartbeats=pn,yield Et._storage.overwrite(Et._heartbeatsCache)):(Et._heartbeatsCache.heartbeats=[],Et._storage.overwrite(Et._heartbeatsCache)),tr})()}}function Bt(){return(new Date).toISOString().substring(0,10)}class nn{constructor(Et){this.app=Et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,F.hl)()&&(0,F.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Et=this;return(0,a.Z)(function*(){return(yield Et._canUseIndexedDBPromise)&&(yield function R(xt){return w.apply(this,arguments)}(Et.app))||{heartbeats:[]}})()}overwrite(Et){var Gt=this;return(0,a.Z)(function*(){var yn;if(yield Gt._canUseIndexedDBPromise){const pn=yield Gt.read();return j(Gt.app,{lastSentHeartbeatDate:null!==(yn=Et.lastSentHeartbeatDate)&&void 0!==yn?yn:pn.lastSentHeartbeatDate,heartbeats:Et.heartbeats})}})()}add(Et){var Gt=this;return(0,a.Z)(function*(){var yn;if(yield Gt._canUseIndexedDBPromise){const pn=yield Gt.read();return j(Gt.app,{lastSentHeartbeatDate:null!==(yn=Et.lastSentHeartbeatDate)&&void 0!==yn?yn:pn.lastSentHeartbeatDate,heartbeats:[...pn.heartbeats,...Et.heartbeats]})}})()}}function Kn(xt){return(0,F.L)(JSON.stringify({version:2,heartbeats:xt})).length}!function Gr(xt){en(new _.wA("platform-logger",Et=>new Ae(Et),"PRIVATE")),en(new _.wA("heartbeat",Et=>new Pt(Et),"PRIVATE")),ee(Ve,"0.9.23",xt),ee(Ve,"0.9.23","esm2017"),ee("fire-js","")}("")},4537:(Lt,Ce,I)=>{"use strict";I.d(Ce,{H0:()=>ne,wA:()=>N});var a=I(5861),_=I(9058);class N{constructor(K,le,ge){this.name=K,this.instanceFactory=le,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const F="[DEFAULT]";class Y{constructor(K,le){this.name=K,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const le=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(le)){const ge=new _.BH;if(this.instancesDeferred.set(le,ge),this.isInitialized(le)||this.shouldAutoInitialize())try{const we=this.getOrInitializeService({instanceIdentifier:le});we&&ge.resolve(we)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(K){var le;const ge=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),we=null!==(le=null==K?void 0:K.optional)&&void 0!==le&&le;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(we)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(Be){if(we)return null;throw Be}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function Q(Me){return"EAGER"===Me.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:F})}catch{}for(const[le,ge]of this.instancesDeferred.entries()){const we=this.normalizeInstanceIdentifier(le);try{const Be=this.getOrInitializeService({instanceIdentifier:we});ge.resolve(Be)}catch{}}}}clearInstance(K=F){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,a.Z)(function*(){const le=Array.from(K.instances.values());yield Promise.all([...le.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...le.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=F){return this.instances.has(K)}getOptions(K=F){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:le={}}=K,ge=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const we=this.getOrInitializeService({instanceIdentifier:ge,options:le});for(const[Be,$e]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(Be)&&$e.resolve(we);return we}onInit(K,le){var ge;const we=this.normalizeInstanceIdentifier(le),Be=null!==(ge=this.onInitCallbacks.get(we))&&void 0!==ge?ge:new Set;Be.add(K),this.onInitCallbacks.set(we,Be);const $e=this.instances.get(we);return $e&&K($e,we),()=>{Be.delete(K)}}invokeOnInitCallbacks(K,le){const ge=this.onInitCallbacks.get(le);if(ge)for(const we of ge)try{we(K,le)}catch{}}getOrInitializeService({instanceIdentifier:K,options:le={}}){let ge=this.instances.get(K);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=K,Me===F?void 0:Me),options:le}),this.instances.set(K,ge),this.instancesOptions.set(K,le),this.invokeOnInitCallbacks(ge,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ge)}catch{}var Me;return ge||null}normalizeInstanceIdentifier(K=F){return this.component?this.component.multipleInstances?K:F:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const le=this.getProvider(K.name);if(le.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);le.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const le=new Y(K,this);return this.providers.set(K,le),le}getProviders(){return Array.from(this.providers.values())}}},7879:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Am:()=>Me,Ub:()=>ne,Yd:()=>Q,in:()=>_});const a=[];var _=function(K){return K[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",K}(_||{});const N={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},F=_.INFO,Y={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},Z=(K,le,...ge)=>{if(le<K.logLevel)return;const we=(new Date).toISOString(),Be=Y[le];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Be](`[${we}]  ${K.name}:`,...ge)};class Q{constructor(le){this.name=le,this._logLevel=F,this._logHandler=Z,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in _))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?N[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...le),this._logHandler(this,_.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...le),this._logHandler(this,_.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,_.INFO,...le),this._logHandler(this,_.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,_.WARN,...le),this._logHandler(this,_.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...le),this._logHandler(this,_.ERROR,...le)}}function ne(K){a.forEach(le=>{le.setLogLevel(K)})}function Me(K,le){for(const ge of a){let we=null;le&&le.level&&(we=N[le.level]),ge.userLogHandler=null===K?null:(Be,$e,...nt)=>{const We=nt.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");$e>=(null!=we?we:Be.logLevel)&&K({level:_[$e].toLowerCase(),message:We,args:nt,type:Be.name})}}}},4414:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Br:()=>wt,y4:()=>nn,De:()=>oi,dy:()=>Ti,oU:()=>In,ki:()=>Ot,O1:()=>Ur,d8:()=>ie,jP:()=>qr,UN:()=>Ii,r4:()=>lr,HT:()=>Pt,IN:()=>pn,SH:()=>Er,Dh:()=>Br,j:()=>Pr,H:()=>or,yF:()=>yr,bk:()=>Pi,DN:()=>fn,Wn:()=>Xi,vk:()=>Mi});var a=I(5861),_=I(5879),N=I(3630);const Q=pe=>({create:Re=>We(pe,Re),dismiss:(Re,v,b)=>_e(document,Re,v,pe,b),getTop:()=>(0,a.Z)(function*(){return Le(document,pe)})()}),ne=Q("ion-alert"),K=Q("ion-loading"),le=Q("ion-modal"),we=Q("ion-popover"),Be=Q("ion-toast"),We=(pe,Re)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(pe).then(()=>{const v=document.createElement(pe);return v.classList.add("overlay-hidden"),Object.assign(v,Object.assign(Object.assign({},Re),{hasController:!0})),_t(document).appendChild(v),new Promise(b=>(0,N.c)(v,b))}):Promise.resolve(),_e=(pe,Re,v,b,re)=>{const Pe=Le(pe,b,re);return Pe?Pe.dismiss(Re,v):Promise.reject("overlay does not exist")},Le=(pe,Re,v)=>{const b=((pe,Re)=>((pe,Re)=>(void 0===Re&&(Re="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(pe.querySelectorAll(Re)).filter(v=>v.overlayIndex>0)))(pe,Re).filter(v=>!(pe=>pe.classList.contains("overlay-hidden"))(v)))(pe,Re);return void 0===v?b[b.length-1]:b.find(re=>re.id===v)},_t=pe=>pe.querySelector("ion-app")||pe.body;var ht=I(191);class bt{constructor(){this.m=new Map}reset(Re){this.m=new Map(Object.entries(Re))}get(Re,v){const b=this.m.get(Re);return void 0!==b?b:v}getBoolean(Re,v=!1){const b=this.m.get(Re);return void 0===b?v:"string"==typeof b?"true"===b:!!b}getNumber(Re,v){const b=parseFloat(this.m.get(Re));return isNaN(b)?void 0!==v?v:NaN:b}set(Re,v){this.m.set(Re,v)}}const mt=new bt,on=pe=>wn(pe),wn=(pe=window)=>{if(typeof pe>"u")return[];pe.Ionic=pe.Ionic||{};let Re=pe.Ionic.platforms;return null==Re&&(Re=pe.Ionic.platforms=Jt(pe),Re.forEach(v=>pe.document.documentElement.classList.add(`plt-${v}`))),Re},Jt=pe=>{const Re=mt.get("platform");return Object.keys(br).filter(v=>{const b=null==Re?void 0:Re[v];return"function"==typeof b?b(pe):br[v](pe)})},On=pe=>!!(Wn(pe,/iPad/i)||Wn(pe,/Macintosh/i)&&_r(pe)),xn=pe=>Wn(pe,/android|sink/i),_r=pe=>kr(pe,"(any-pointer:coarse)"),Ln=pe=>xr(pe)||sn(pe),xr=pe=>!!(pe.cordova||pe.phonegap||pe.PhoneGap),sn=pe=>{const Re=pe.Capacitor;return!(null==Re||!Re.isNative)},Wn=(pe,Re)=>Re.test(pe.navigator.userAgent),kr=(pe,Re)=>{var v;return null===(v=pe.matchMedia)||void 0===v?void 0:v.call(pe,Re).matches},br={ipad:On,iphone:pe=>Wn(pe,/iPhone/i),ios:pe=>Wn(pe,/iPhone|iPod/i)||On(pe),android:xn,phablet:pe=>{const Re=pe.innerWidth,v=pe.innerHeight,b=Math.min(Re,v),re=Math.max(Re,v);return b>390&&b<520&&re>620&&re<800},tablet:pe=>{const Re=pe.innerWidth,v=pe.innerHeight,b=Math.min(Re,v),re=Math.max(Re,v);return On(pe)||(pe=>xn(pe)&&!Wn(pe,/mobile/i))(pe)||b>460&&b<820&&re>780&&re<1400},cordova:xr,capacitor:sn,electron:pe=>Wn(pe,/electron/i),pwa:pe=>{var Re;return!!(null!==(Re=pe.matchMedia)&&void 0!==Re&&Re.call(pe,"(display-mode: standalone)").matches||pe.navigator.standalone)},mobile:_r,mobileweb:pe=>_r(pe)&&!Ln(pe),desktop:pe=>!_r(pe),hybrid:Ln};var ye=I(4934),ee=I(6814),Ne=I(8645),st=I(2438),je=I(5619),St=I(2572),ke=I(2096),J=I(7582),$=I(2181),R=I(4664),w=I(3997),j=I(95);const ce=["tabsInner"];class tt{constructor(Re){this.ctrl=Re}create(Re){return this.ctrl.create(Re||{})}dismiss(Re,v,b){return this.ctrl.dismiss(Re,v,b)}getTop(){return this.ctrl.getTop()}}let wt=(()=>{class pe extends tt{constructor(){super(ne)}}return pe.\u0275fac=function(v){return new(v||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})(),Pt=(()=>{class pe extends tt{constructor(){super(K)}}return pe.\u0275fac=function(v){return new(v||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();class Zt{constructor(Re={}){this.data=Re}get(Re){return this.data[Re]}}let nn=(()=>{class pe{constructor(){this.zone=(0,_.f3M)(_.R0b),this.applicationRef=(0,_.f3M)(_.z2F)}create(v,b,re){return new Kn(v,b,this.applicationRef,this.zone,re)}}return pe.\u0275fac=function(v){return new(v||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Kn{constructor(Re,v,b,re,Pe){this.environmentInjector=Re,this.injector=v,this.applicationRef=b,this.zone=re,this.elementReferenceKey=Pe,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Re,v,b,re){return this.zone.run(()=>new Promise(Pe=>{const et={...b};void 0!==this.elementReferenceKey&&(et[this.elementReferenceKey]=Re),Pe(Gr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Re,v,et,re,this.elementReferenceKey))}))}removeViewFromDom(Re,v){return this.zone.run(()=>new Promise(b=>{const re=this.elRefMap.get(v);if(re){re.destroy(),this.elRefMap.delete(v);const Pe=this.elEventsMap.get(v);Pe&&(Pe(),this.elEventsMap.delete(v))}b()}))}}const Gr=(pe,Re,v,b,re,Pe,et,dt,$t,qt,gn)=>{const zn=_.zs3.create({providers:yn($t),parent:v}),ar=(0,_.LMc)(dt,{environmentInjector:Re,elementInjector:zn}),jn=ar.instance,jr=ar.location.nativeElement;if($t&&(gn&&void 0!==jn[gn]&&console.error(`[Ionic Error]: ${gn} is a reserved property when using ${et.tagName.toLowerCase()}. Rename or remove the "${gn}" property from ${dt.name}.`),Object.assign(jn,$t)),qt)for(const Yr of qt)jr.classList.add(Yr);const ai=Et(pe,jn,jr);return et.appendChild(jr),b.attachView(ar.hostView),re.set(jr,ar),Pe.set(jr,ai),jr},xt=[ht.L,ht.a,ht.b,ht.c,ht.d],Et=(pe,Re,v)=>pe.run(()=>{const b=xt.filter(re=>"function"==typeof Re[re]).map(re=>{const Pe=et=>Re[re](et.detail);return v.addEventListener(re,Pe),()=>v.removeEventListener(re,Pe)});return()=>b.forEach(re=>re())}),Gt=new _.OlP("NavParamsToken"),yn=pe=>[{provide:Gt,useValue:pe},{provide:Zt,useFactory:Nn,deps:[Gt]}],Nn=pe=>new Zt(pe);let pn=(()=>{class pe extends tt{constructor(){super(le),this.angularDelegate=(0,_.f3M)(nn),this.injector=(0,_.f3M)(_.zs3),this.environmentInjector=(0,_.f3M)(_.lqb)}create(v){return super.create({...v,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return pe.\u0275fac=function(v){return new(v||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),Br=(()=>{class pe extends tt{constructor(){super(we),this.angularDelegate=(0,_.f3M)(nn),this.injector=(0,_.f3M)(_.zs3),this.environmentInjector=(0,_.f3M)(_.lqb)}create(v){return super.create({...v,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return pe.\u0275fac=function(v){return new(v||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),yr=(()=>{class pe extends tt{constructor(){super(Be)}}return pe.\u0275fac=function(v){return new(v||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})(),Ai=(()=>{class pe{constructor(v,b){this.doc=v,this.backButton=new Ne.x,this.keyboardDidShow=new Ne.x,this.keyboardDidHide=new Ne.x,this.pause=new Ne.x,this.resume=new Ne.x,this.resize=new Ne.x,b.run(()=>{var re;let Pe;this.win=v.defaultView,this.backButton.subscribeWithPriority=function(et,dt){return this.subscribe($t=>$t.register(et,qt=>b.run(()=>dt(qt))))},rr(this.pause,v,"pause",b),rr(this.resume,v,"resume",b),rr(this.backButton,v,"ionBackButton",b),rr(this.resize,this.win,"resize",b),rr(this.keyboardDidShow,this.win,"ionKeyboardDidShow",b),rr(this.keyboardDidHide,this.win,"ionKeyboardDidHide",b),this._readyPromise=new Promise(et=>{Pe=et}),null!==(re=this.win)&&void 0!==re&&re.cordova?v.addEventListener("deviceready",()=>{Pe("cordova")},{once:!0}):Pe("dom")})}is(v){return((pe,Re)=>("string"==typeof pe&&(Re=pe,pe=void 0),on(pe).includes(Re)))(this.win,v)}platforms(){return on(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(v){return Rr(this.win.location.href,v)}isLandscape(){return!this.isPortrait()}isPortrait(){var v,b;return null===(v=(b=this.win).matchMedia)||void 0===v?void 0:v.call(b,"(orientation: portrait)").matches}testUserAgent(v){const b=this.win.navigator;return!!(null!=b&&b.userAgent&&b.userAgent.indexOf(v)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return pe.\u0275fac=function(v){return new(v||pe)(_.LFG(ee.K0),_.LFG(_.R0b))},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const Rr=(pe,Re)=>{Re=Re.replace(/[[\]\\]/g,"\\$&");const b=new RegExp("[\\?&]"+Re+"=([^&#]*)").exec(pe);return b?decodeURIComponent(b[1].replace(/\+/g," ")):null},rr=(pe,Re,v,b)=>{Re&&Re.addEventListener(v,re=>{b.run(()=>{pe.next(null!=re?re.detail:void 0)})})};let Er=(()=>{class pe{constructor(v,b,re,Pe){this.location=b,this.serializer=re,this.router=Pe,this.direction=Ei,this.animated=Fr,this.guessDirection="forward",this.lastNavId=-1,Pe&&Pe.events.subscribe(et=>{if(et instanceof ye.OD){const dt=et.restoredState?et.restoredState.navigationId:et.id;this.guessDirection=dt<this.lastNavId?"back":"forward",this.guessAnimation=et.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?et.id:dt}}),v.backButton.subscribeWithPriority(0,et=>{this.pop(),et()})}navigateForward(v,b={}){return this.setDirection("forward",b.animated,b.animationDirection,b.animation),this.navigate(v,b)}navigateBack(v,b={}){return this.setDirection("back",b.animated,b.animationDirection,b.animation),this.navigate(v,b)}navigateRoot(v,b={}){return this.setDirection("root",b.animated,b.animationDirection,b.animation),this.navigate(v,b)}back(v={animated:!0,animationDirection:"back"}){return this.setDirection("back",v.animated,v.animationDirection,v.animation),this.location.back()}pop(){var v=this;return(0,a.Z)(function*(){let b=v.topOutlet;for(;b;){if(yield b.pop())return!0;b=b.parentOutlet}return!1})()}setDirection(v,b,re,Pe){this.direction=v,this.animated=yi(v,b,re),this.animationBuilder=Pe}setTopOutlet(v){this.topOutlet=v}consumeTransition(){let b,v="root";const re=this.animationBuilder;return"auto"===this.direction?(v=this.guessDirection,b=this.guessAnimation):(b=this.animated,v=this.direction),this.direction=Ei,this.animated=Fr,this.animationBuilder=void 0,{direction:v,animation:b,animationBuilder:re}}navigate(v,b){if(Array.isArray(v))return this.router.navigate(v,b);{const re=this.serializer.parse(v.toString());return void 0!==b.queryParams&&(re.queryParams={...b.queryParams}),void 0!==b.fragment&&(re.fragment=b.fragment),this.router.navigateByUrl(re,b)}}}return pe.\u0275fac=function(v){return new(v||pe)(_.LFG(Ai),_.LFG(ee.Ye),_.LFG(ye.Hx),_.LFG(ye.F0,8))},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const yi=(pe,Re,v)=>{if(!1!==Re){if(void 0!==v)return v;if("forward"===pe||"back"===pe)return pe;if("root"===pe&&!0===Re)return"forward"}},Ei="auto",Fr=void 0;let oi=(()=>{class pe{get(v,b){const re=Si();return re?re.get(v,b):null}getBoolean(v,b){const re=Si();return!!re&&re.getBoolean(v,b)}getNumber(v,b){const re=Si();return re?re.getNumber(v,b):0}}return pe.\u0275fac=function(v){return new(v||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const Ti=new _.OlP("USERCONFIG"),Si=()=>{if(typeof window<"u"){const pe=window.Ionic;if(null!=pe&&pe.config)return pe.config}return null},Ri=(pe,Re)=>{const v=pe.prototype;Re.forEach(b=>{Object.defineProperty(v,b,{get(){return this.el[b]},set(re){this.z.runOutsideAngular(()=>this.el[b]=re)}})})},Or=(pe,Re)=>{const v=pe.prototype;Re.forEach(b=>{v[b]=function(){const re=arguments;return this.z.runOutsideAngular(()=>this.el[b].apply(this.el,re))}})},ni=(pe,Re,v)=>{v.forEach(b=>pe[b]=(0,st.R)(Re,b))};function ki(pe){return function(v){const{defineCustomElementFn:b,inputs:re,methods:Pe}=pe;return void 0!==b&&b(),re&&Ri(v,re),Pe&&Or(v,Pe),v}}const Yi=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],ve=["present","dismiss","onDidDismiss","onWillDismiss"];let ie=(()=>{let pe=class{constructor(v,b,re){this.z=re,this.isCmpOpen=!1,this.el=b.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,v.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,v.detectChanges()}),ni(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return pe.\u0275fac=function(v){return new(v||pe)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},pe.\u0275dir=_.lG2({type:pe,selectors:[["ion-popover"]],contentQueries:function(v,b,re){if(1&v&&_.Suo(re,_.Rgc,5),2&v){let Pe;_.iGM(Pe=_.CRH())&&(b.template=Pe.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),pe=(0,J.gn)([ki({inputs:Yi,methods:ve})],pe),pe})();const Qe=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],it=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Ot=(()=>{let pe=class{constructor(v,b,re){this.z=re,this.isCmpOpen=!1,this.el=b.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,v.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,v.detectChanges()}),ni(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return pe.\u0275fac=function(v){return new(v||pe)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},pe.\u0275dir=_.lG2({type:pe,selectors:[["ion-modal"]],contentQueries:function(v,b,re){if(1&v&&_.Suo(re,_.Rgc,5),2&v){let Pe;_.iGM(Pe=_.CRH())&&(b.template=Pe.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),pe=(0,J.gn)([ki({inputs:Qe,methods:it})],pe),pe})();const Yt=(pe,Re)=>((pe=pe.filter(v=>v.stackId!==Re.stackId)).push(Re),pe),O=(pe,Re)=>{const v=pe.createUrlTree(["."],{relativeTo:Re});return pe.serializeUrl(v)},de=(pe,Re)=>!Re||pe.stackId!==Re.stackId,at=(pe,Re)=>{if(!pe)return;const v=Tn(Re);for(let b=0;b<v.length;b++){if(b>=pe.length)return v[b];if(v[b]!==pe[b])return}},Tn=pe=>pe.split("/").map(Re=>Re.trim()).filter(Re=>""!==Re),Xn=pe=>{pe&&(pe.ref.destroy(),pe.unlistenEvents())};class Ar{constructor(Re,v,b,re,Pe,et){this.containerEl=v,this.router=b,this.navCtrl=re,this.zone=Pe,this.location=et,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Re?Tn(Re):void 0}createView(Re,v){var b;const re=O(this.router,v),Pe=null==Re||null===(b=Re.location)||void 0===b?void 0:b.nativeElement,et=Et(this.zone,Re.instance,Pe);return{id:this.nextId++,stackId:at(this.tabsPrefix,re),unlistenEvents:et,element:Pe,ref:Re,url:re}}getExistingView(Re){const v=O(this.router,Re),b=this.views.find(re=>re.url===v);return b&&b.ref.changeDetectorRef.reattach(),b}setActive(Re){var v,b;const re=this.navCtrl.consumeTransition();let{direction:Pe,animation:et,animationBuilder:dt}=re;const $t=this.activeView,qt=de(Re,$t);qt&&(Pe="back",et=void 0);const gn=this.views.slice();let zn;const ar=this.router;ar.getCurrentNavigation?zn=ar.getCurrentNavigation():null!==(v=ar.navigations)&&void 0!==v&&v.value&&(zn=ar.navigations.value),null!==(b=zn)&&void 0!==b&&null!==(b=b.extras)&&void 0!==b&&b.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const jn=this.views.includes(Re),jr=this.insertView(Re,Pe);jn||Re.ref.changeDetectorRef.detectChanges();const ai=Re.animationBuilder;return void 0===dt&&"back"===Pe&&!qt&&void 0!==ai&&(dt=ai),$t&&($t.animationBuilder=dt),this.zone.runOutsideAngular(()=>this.wait(()=>($t&&$t.ref.changeDetectorRef.detach(),Re.ref.changeDetectorRef.reattach(),this.transition(Re,$t,et,this.canGoBack(1),!1,dt).then(()=>Dr(Re,jr,gn,this.location,this.zone)).then(()=>({enteringView:Re,direction:Pe,animation:et,tabSwitch:qt})))))}canGoBack(Re,v=this.getActiveStackId()){return this.getStack(v).length>Re}pop(Re,v=this.getActiveStackId()){return this.zone.run(()=>{const b=this.getStack(v);if(b.length<=Re)return Promise.resolve(!1);const re=b[b.length-Re-1];let Pe=re.url;const et=re.savedData;if(et){var dt;const qt=et.get("primary");null!=qt&&null!==(dt=qt.route)&&void 0!==dt&&null!==(dt=dt._routerState)&&void 0!==dt&&dt.snapshot.url&&(Pe=qt.route._routerState.snapshot.url)}const{animationBuilder:$t}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Pe,{...re.savedExtras,animation:$t}).then(()=>!0)})}startBackTransition(){const Re=this.activeView;if(Re){const v=this.getStack(Re.stackId),b=v[v.length-2],re=b.animationBuilder;return this.wait(()=>this.transition(b,Re,"back",this.canGoBack(2),!0,re))}return Promise.resolve()}endBackTransition(Re){Re?(this.skipTransition=!0,this.pop(1)):this.activeView&&Jn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Re){const v=this.getStack(Re);return v.length>0?v[v.length-1]:void 0}getRootUrl(Re){const v=this.getStack(Re);return v.length>0?v[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Xn),this.activeView=void 0,this.views=[]}getStack(Re){return this.views.filter(v=>v.stackId===Re)}insertView(Re,v){return this.activeView=Re,this.views=((pe,Re,v)=>"root"===v?Yt(pe,Re):"forward"===v?((pe,Re)=>(pe.indexOf(Re)>=0?pe=pe.filter(b=>b.stackId!==Re.stackId||b.id<=Re.id):pe.push(Re),pe))(pe,Re):((pe,Re)=>pe.indexOf(Re)>=0?pe.filter(b=>b.stackId!==Re.stackId||b.id<=Re.id):Yt(pe,Re))(pe,Re))(this.views,Re,v),this.views.slice()}transition(Re,v,b,re,Pe,et){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(v===Re)return Promise.resolve(!1);const dt=Re?Re.element:void 0,$t=v?v.element:void 0,qt=this.containerEl;return dt&&dt!==$t&&(dt.classList.add("ion-page"),dt.classList.add("ion-page-invisible"),dt.parentElement!==qt&&qt.appendChild(dt),qt.commit)?qt.commit(dt,$t,{duration:void 0===b?0:void 0,direction:b,showGoBack:re,progressAnimation:Pe,animationBuilder:et}):Promise.resolve(!1)}wait(Re){var v=this;return(0,a.Z)(function*(){void 0!==v.runningTask&&(yield v.runningTask,v.runningTask=void 0);const b=v.runningTask=Re();return b.finally(()=>v.runningTask=void 0),b})()}}const Dr=(pe,Re,v,b,re)=>"function"==typeof requestAnimationFrame?new Promise(Pe=>{requestAnimationFrame(()=>{Jn(pe,Re,v,b,re),Pe()})}):Promise.resolve(),Jn=(pe,Re,v,b,re)=>{re.run(()=>v.filter(Pe=>!Re.includes(Pe)).forEach(Xn)),Re.forEach(Pe=>{const dt=b.path().split("?")[0].split("#")[0];if(Pe!==pe&&Pe.url!==dt){const $t=Pe.element;$t.setAttribute("aria-hidden","true"),$t.classList.add("ion-page-hidden"),Pe.ref.changeDetectorRef.detach()}})};let qr=(()=>{class pe{constructor(v,b,re,Pe,et,dt,$t,qt){this.parentOutlet=qt,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new je.X(null),this.activated=null,this._activatedRoute=null,this.name=ye.eC,this.stackWillChange=new _.vpe,this.stackDidChange=new _.vpe,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.parentContexts=(0,_.f3M)(ye.y6),this.location=(0,_.f3M)(_.s_b),this.environmentInjector=(0,_.f3M)(_.lqb),this.inputBinder=(0,_.f3M)(Lr,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,_.f3M)(oi),this.navCtrl=(0,_.f3M)(Er),this.nativeEl=Pe.nativeElement,this.name=v||ye.eC,this.tabsPrefix="true"===b?O(et,$t):void 0,this.stackCtrl=new Ar(this.tabsPrefix,this.nativeEl,et,this.navCtrl,dt,re),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(v){this.nativeEl.animation=v}set animated(v){this.nativeEl.animated=v}set swipeGesture(v){this._swipeGesture=v,this.nativeEl.swipeHandler=v?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:b=>this.stackCtrl.endBackTransition(b)}:void 0}ngOnDestroy(){var v;this.stackCtrl.destroy(),null===(v=this.inputBinder)||void 0===v||v.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const v=this.getContext();null!=v&&v.route&&this.activateWith(v.route,v.injector)}new Promise(v=>(0,N.c)(this.nativeEl,v)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(v,b){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const b=this.getContext();this.activatedView.savedData=new Map(b.children.contexts);const re=this.activatedView.savedData.get("primary");if(re&&b.route&&(re.route={...b.route}),this.activatedView.savedExtras={},b.route){const Pe=b.route.snapshot;this.activatedView.savedExtras.queryParams=Pe.queryParams,this.activatedView.savedExtras.fragment=Pe.fragment}}const v=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,b){var re;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;let Pe,et=this.stackCtrl.getExistingView(v);if(et){Pe=this.activated=et.ref;const qt=et.savedData;qt&&(this.getContext().children.contexts=qt),this.updateActivatedRouteProxy(Pe.instance,v)}else{var dt;const qt=v._futureSnapshot,gn=this.parentContexts.getOrCreateContext(this.name).children,zn=new je.X(null),ar=this.createActivatedRouteProxy(zn,v),jn=new hr(ar,gn,this.location.injector),jr=null!==(dt=qt.routeConfig.component)&&void 0!==dt?dt:qt.component;Pe=this.activated=this.location.createComponent(jr,{index:this.location.length,injector:jn,environmentInjector:null!=b?b:this.environmentInjector}),zn.next(Pe.instance),et=this.stackCtrl.createView(this.activated,v),this.proxyMap.set(Pe.instance,ar),this.currentActivatedRoute$.next({component:Pe.instance,activatedRoute:v})}null===(re=this.inputBinder)||void 0===re||re.bindActivatedRouteToOutletComponent(this),this.activatedView=et,this.navCtrl.setTopOutlet(this);const $t=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:et,tabSwitch:de(et,$t)}),this.stackCtrl.setActive(et).then(qt=>{this.activateEvents.emit(Pe.instance),this.stackDidChange.emit(qt)})}canGoBack(v=1,b){return this.stackCtrl.canGoBack(v,b)}pop(v=1,b){return this.stackCtrl.pop(v,b)}getLastUrl(v){const b=this.stackCtrl.getLastUrl(v);return b?b.url:void 0}getLastRouteView(v){return this.stackCtrl.getLastUrl(v)}getRootView(v){return this.stackCtrl.getRootUrl(v)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(v,b){const re=new ye.gz;return re._futureSnapshot=b._futureSnapshot,re._routerState=b._routerState,re.snapshot=b.snapshot,re.outlet=b.outlet,re.component=b.component,re._paramMap=this.proxyObservable(v,"paramMap"),re._queryParamMap=this.proxyObservable(v,"queryParamMap"),re.url=this.proxyObservable(v,"url"),re.params=this.proxyObservable(v,"params"),re.queryParams=this.proxyObservable(v,"queryParams"),re.fragment=this.proxyObservable(v,"fragment"),re.data=this.proxyObservable(v,"data"),re}proxyObservable(v,b){return v.pipe((0,$.h)(re=>!!re),(0,R.w)(re=>this.currentActivatedRoute$.pipe((0,$.h)(Pe=>null!==Pe&&Pe.component===re),(0,R.w)(Pe=>Pe&&Pe.activatedRoute[b]),(0,w.x)())))}updateActivatedRouteProxy(v,b){const re=this.proxyMap.get(v);if(!re)throw new Error("Could not find activated route proxy for view");re._futureSnapshot=b._futureSnapshot,re._routerState=b._routerState,re.snapshot=b.snapshot,re.outlet=b.outlet,re.component=b.component,this.currentActivatedRoute$.next({component:v,activatedRoute:b})}}return pe.\u0275fac=function(v){return new(v||pe)(_.$8M("name"),_.$8M("tabs"),_.Y36(ee.Ye),_.Y36(_.SBq),_.Y36(ye.F0),_.Y36(_.R0b),_.Y36(ye.gz),_.Y36(pe,12))},pe.\u0275dir=_.lG2({type:pe,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),pe})();class hr{constructor(Re,v,b){this.route=Re,this.childContexts=v,this.parent=b}get(Re,v){return Re===ye.gz?this.route:Re===ye.y6?this.childContexts:this.parent.get(Re,v)}}const Lr=new _.OlP("");let si=(()=>{class pe{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){var b;null===(b=this.outletDataSubscriptions.get(v))||void 0===b||b.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:b}=v,re=(0,St.a)([b.queryParams,b.params,b.data]).pipe((0,R.w)(([Pe,et,dt],$t)=>(dt={...Pe,...et,...dt},0===$t?(0,ke.of)(dt):Promise.resolve(dt)))).subscribe(Pe=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(v);const et=(0,_.qFp)(b.component);if(et)for(const{templateName:dt}of et.inputs)v.activatedComponentRef.setInput(dt,Pe[dt]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,re)}}return pe.\u0275fac=function(v){return new(v||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const fn=()=>({provide:Lr,useFactory:Qt,deps:[ye.F0]});function Qt(pe){return null!=pe&&pe.componentInputBindingEnabled?new si:null}const En=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let In=(()=>{let pe=class{constructor(v,b,re,Pe,et,dt){this.routerOutlet=v,this.navCtrl=b,this.config=re,this.r=Pe,this.z=et,dt.detach(),this.el=this.r.nativeElement}onClick(v){var b;const re=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(b=this.routerOutlet)&&void 0!==b&&b.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),v.preventDefault()):null!=re&&(this.navCtrl.navigateBack(re,{animation:this.routerAnimation}),v.preventDefault())}};return pe.\u0275fac=function(v){return new(v||pe)(_.Y36(qr,8),_.Y36(Er),_.Y36(oi),_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(_.sBO))},pe.\u0275dir=_.lG2({type:pe,hostBindings:function(v,b){1&v&&_.NdJ("click",function(Pe){return b.onClick(Pe)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),pe=(0,J.gn)([ki({inputs:En})],pe),pe})(),Pr=(()=>{class pe{constructor(v,b,re,Pe,et){this.locationStrategy=v,this.navCtrl=b,this.elementRef=re,this.router=Pe,this.routerLink=et,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var v;if(null!==(v=this.routerLink)&&void 0!==v&&v.urlTree){const b=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=b}}onClick(v){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),v.preventDefault()}}return pe.\u0275fac=function(v){return new(v||pe)(_.Y36(ee.S$),_.Y36(Er),_.Y36(_.SBq),_.Y36(ye.F0),_.Y36(ye.rH,8))},pe.\u0275dir=_.lG2({type:pe,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,b){1&v&&_.NdJ("click",function(Pe){return b.onClick(Pe)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[_.TTD]}),pe})(),or=(()=>{class pe{constructor(v,b,re,Pe,et){this.locationStrategy=v,this.navCtrl=b,this.elementRef=re,this.router=Pe,this.routerLink=et,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var v;if(null!==(v=this.routerLink)&&void 0!==v&&v.urlTree){const b=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=b}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return pe.\u0275fac=function(v){return new(v||pe)(_.Y36(ee.S$),_.Y36(Er),_.Y36(_.SBq),_.Y36(ye.F0),_.Y36(ye.rH,8))},pe.\u0275dir=_.lG2({type:pe,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(v,b){1&v&&_.NdJ("click",function(){return b.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[_.TTD]}),pe})();const bn=["animated","animation","root","rootParams","swipeGesture"],ir=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Ur=(()=>{let pe=class{constructor(v,b,re,Pe,et,dt){this.z=et,dt.detach(),this.el=v.nativeElement,v.nativeElement.delegate=Pe.create(b,re),ni(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return pe.\u0275fac=function(v){return new(v||pe)(_.Y36(_.SBq),_.Y36(_.lqb),_.Y36(_.zs3),_.Y36(nn),_.Y36(_.R0b),_.Y36(_.sBO))},pe.\u0275dir=_.lG2({type:pe,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),pe=(0,J.gn)([ki({inputs:bn,methods:ir})],pe),pe})(),Ii=(()=>{class pe{constructor(v){this.navCtrl=v,this.ionTabsWillChange=new _.vpe,this.ionTabsDidChange=new _.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:v,tabSwitch:b}){const re=v.stackId;b&&void 0!==re&&this.ionTabsWillChange.emit({tab:re})}onStackDidChange({enteringView:v,tabSwitch:b}){const re=v.stackId;b&&void 0!==re&&(this.tabBar&&(this.tabBar.selectedTab=re),this.ionTabsDidChange.emit({tab:re}))}select(v){const b="string"==typeof v,re=b?v:v.detail.tab,Pe=this.outlet.getActiveStackId()===re,et=`${this.outlet.tabsPrefix}/${re}`;if(b||v.stopPropagation(),Pe){const dt=this.outlet.getActiveStackId(),$t=this.outlet.getLastRouteView(dt);if((null==$t?void 0:$t.url)===et)return;const qt=this.outlet.getRootView(re);return this.navCtrl.navigateRoot(et,{...qt&&et===qt.url&&qt.savedExtras,animated:!0,animationDirection:"back"})}{const dt=this.outlet.getLastRouteView(re);return this.navCtrl.navigateRoot((null==dt?void 0:dt.url)||et,{...null==dt?void 0:dt.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(v=>{const b=v.el.getAttribute("slot");b!==this.tabBarSlot&&(this.tabBarSlot=b,this.relocateTabBar())})}relocateTabBar(){const v=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(v):this.tabsInner.nativeElement.after(v)}}return pe.\u0275fac=function(v){return new(v||pe)(_.Y36(Er))},pe.\u0275dir=_.lG2({type:pe,selectors:[["ion-tabs"]],viewQuery:function(v,b){if(1&v&&_.Gf(ce,7,_.SBq),2&v){let re;_.iGM(re=_.CRH())&&(b.tabsInner=re.first)}},hostBindings:function(v,b){1&v&&_.NdJ("ionTabButtonClick",function(Pe){return b.select(Pe)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),pe})();const Xi=pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(pe):setTimeout(pe);let Pi=(()=>{class pe{constructor(v,b){this.injector=v,this.elementRef=b,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(v){this.elementRef.nativeElement.value=this.lastValue=v,Mi(this.elementRef)}handleValueChange(v,b){v===this.elementRef.nativeElement&&(b!==this.lastValue&&(this.lastValue=b,this.onChange(b)),Mi(this.elementRef))}_handleBlurEvent(v){v===this.elementRef.nativeElement&&(this.onTouched(),Mi(this.elementRef))}registerOnChange(v){this.onChange=v}registerOnTouched(v){this.onTouched=v}setDisabledState(v){this.elementRef.nativeElement.disabled=v}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let v;try{v=this.injector.get(j.a5)}catch{}if(!v)return;v.statusChanges&&(this.statusChanges=v.statusChanges.subscribe(()=>Mi(this.elementRef)));const b=v.control;b&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Pe=>{if(typeof b[Pe]<"u"){const et=b[Pe].bind(b);b[Pe]=(...dt)=>{et(...dt),Mi(this.elementRef)}}})}}return pe.\u0275fac=function(v){return new(v||pe)(_.Y36(_.zs3),_.Y36(_.SBq))},pe.\u0275dir=_.lG2({type:pe,hostBindings:function(v,b){1&v&&_.NdJ("ionBlur",function(Pe){return b._handleBlurEvent(Pe.target)})}}),pe})();const Mi=pe=>{Xi(()=>{const Re=pe.nativeElement,v=null!=Re.value&&Re.value.toString().length>0,b=Vr(Re);Bi(Re,b);const re=Re.closest("ion-item");re&&Bi(re,v?[...b,"item-has-value"]:b)})},Vr=pe=>{const Re=pe.classList,v=[];for(let b=0;b<Re.length;b++){const re=Re.item(b);null!==re&&bi(re,"ng-")&&v.push(`ion-${re.substring(3)}`)}return v},Bi=(pe,Re)=>{const v=pe.classList;v.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),v.add(...Re)},bi=(pe,Re)=>pe.substring(0,Re.length)===Re;class lr{shouldDetach(Re){return!1}shouldAttach(Re){return!1}store(Re,v){}retrieve(Re){return null}shouldReuseRoute(Re,v){if(Re.routeConfig!==v.routeConfig)return!1;const b=Re.params,re=v.params,Pe=Object.keys(b),et=Object.keys(re);if(Pe.length!==et.length)return!1;for(const dt of Pe)if(re[dt]!==b[dt])return!1;return!0}}},9004:(Lt,Ce,I)=>{"use strict";I.d(Ce,{dr:()=>bt,BJ:()=>mt,oU:()=>oi,YG:()=>Vt,Sm:()=>Ht,PM:()=>on,FN:()=>cn,W2:()=>xn,fr:()=>Ln,Gu:()=>sn,gu:()=>cr,pK:()=>br,Ie:()=>Gn,u8:()=>ye,IK:()=>ee,td:()=>Ne,Q$:()=>st,q_:()=>je,yh:()=>St,wh:()=>ke,z0:()=>J,fG:()=>$,zc:()=>R,jP:()=>Ei,t9:()=>Nn,n0:()=>pn,yW:()=>vi,wd:()=>Rr,sr:()=>yi,Pc:()=>Yt,YI:()=>Si,QI:()=>Rt,j9:()=>At});var a=I(5879),_=I(95),N=I(4414),F=I(7582),Y=I(2438),Z=I(6814),Q=I(4934),we=(I(6410),I(8450),I(1394),I(1808),I(9203),I(9474)),Be=I(3365),He=(I(5687),I(4161),I(6225),I(8158));I(619);const Ge=we.i,_e=["*"];let Rt=(()=>{class y extends N.bk{constructor(O,de){super(O,de)}_handleChangeEvent(O){this.handleValueChange(O,O.value)}}return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.zs3),a.Y36(a.SBq))},y.\u0275dir=a.lG2({type:y,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(O,de){1&O&&a.NdJ("ionChange",function(Tn){return de._handleChangeEvent(Tn.target)})},features:[a._Bn([{provide:_.JU,useExisting:y,multi:!0}]),a.qOj]}),y})(),At=(()=>{class y extends N.bk{constructor(O,de){super(O,de)}_handleInputEvent(O){this.handleValueChange(O,O.value)}}return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.zs3),a.Y36(a.SBq))},y.\u0275dir=a.lG2({type:y,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(O,de){1&O&&a.NdJ("ionInput",function(Tn){return de._handleInputEvent(Tn.target)})},features:[a._Bn([{provide:_.JU,useExisting:y,multi:!0}]),a.qOj]}),y})();const rt=(y,ae)=>{const O=y.prototype;ae.forEach(de=>{Object.defineProperty(O,de,{get(){return this.el[de]},set(at){this.z.runOutsideAngular(()=>this.el[de]=at)},configurable:!0})})},fe=(y,ae)=>{const O=y.prototype;ae.forEach(de=>{O[de]=function(){const at=arguments;return this.z.runOutsideAngular(()=>this.el[de].apply(this.el,at))}})},he=(y,ae,O)=>{O.forEach(de=>y[de]=(0,Y.R)(ae,de))};function Se(y){return function(O){const{defineCustomElementFn:de,inputs:at,methods:Tn}=y;return void 0!==de&&de(),at&&rt(O,at),Tn&&fe(O,Tn),O}}let bt=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-app"]],ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({})],y),y})(),mt=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-avatar"]],ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({})],y),y})(),Vt=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement,he(this,this.el,["ionFocus","ionBlur"])}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],y),y})(),Ht=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["collapse"]})],y),y})(),on=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],y),y})(),cn=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["mode"]})],y),y})(),xn=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement,he(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],y),y})(),Ln=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["collapse","mode","translucent"]})],y),y})(),sn=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["collapse","mode","translucent"]})],y),y})(),cr=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],y),y})(),br=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement,he(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],y),y})(),Gn=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],y),y})(),ye=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],y),y})(),ee=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement,he(this,this.el,["ionSwipe"])}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["side"]})],y),y})(),Ne=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement,he(this,this.el,["ionDrag"])}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],y),y})(),st=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["color","mode","position"]})],y),y})(),je=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],y),y})(),St=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["color","lines","mode"]})],y),y})(),ke=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement,he(this,this.el,["ionLoadingDidPresent","ionLoadingWillPresent","ionLoadingWillDismiss","ionLoadingDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-loading"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",cssClass:"cssClass",duration:"duration",enterAnimation:"enterAnimation",htmlAttributes:"htmlAttributes",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",showBackdrop:"showBackdrop",spinner:"spinner",translucent:"translucent",trigger:"trigger"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],y),y})(),J=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement,he(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],y),y})(),$=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["autoHide","color","disabled","menu","mode","type"]})],y),y})(),R=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["autoHide","menu"]})],y),y})(),Nn=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement,he(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],y),y})(),pn=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["disabled","value"]})],y),y})(),vi=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["color","mode"]})],y),y})(),Rr=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["color","size"]})],y),y})(),yi=(()=>{let y=class{constructor(O,de,at){this.z=at,O.detach(),this.el=de.nativeElement}};return y.\u0275fac=function(O){return new(O||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,F.gn)([Se({inputs:["color","mode"]})],y),y})(),Ei=(()=>{class y extends N.jP{constructor(O,de,at,Tn,Xn,Ar,Dr,Jn){super(O,de,at,Tn,Xn,Ar,Dr,Jn),this.parentOutlet=Jn}}return y.\u0275fac=function(O){return new(O||y)(a.$8M("name"),a.$8M("tabs"),a.Y36(Z.Ye),a.Y36(a.SBq),a.Y36(Q.F0),a.Y36(a.R0b),a.Y36(Q.gz),a.Y36(y,12))},y.\u0275dir=a.lG2({type:y,selectors:[["ion-router-outlet"]],features:[a.qOj]}),y})(),oi=(()=>{class y extends N.oU{constructor(O,de,at,Tn,Xn,Ar){super(O,de,at,Tn,Xn,Ar)}}return y.\u0275fac=function(O){return new(O||y)(a.Y36(Ei,8),a.Y36(N.SH),a.Y36(N.De),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-back-button"]],features:[a.qOj],ngContentSelectors:_e,decls:1,vars:0,template:function(O,de){1&O&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y})(),Si=(()=>{class y extends N.j{}return y.\u0275fac=function(){let ae;return function(de){return(ae||(ae=a.n5z(y)))(de||y)}}(),y.\u0275dir=a.lG2({type:y,selectors:[["","routerLink","",5,"a",5,"area"]],features:[a.qOj]}),y})();const ki={provide:_.Cf,useExisting:(0,a.Gpc)(()=>Yi),multi:!0};let Yi=(()=>{class y extends _.Fd{}return y.\u0275fac=function(){let ae;return function(de){return(ae||(ae=a.n5z(y)))(de||y)}}(),y.\u0275dir=a.lG2({type:y,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(O,de){2&O&&a.uIk("max",de._enabled?de.max:null)},features:[a._Bn([ki]),a.qOj]}),y})();const ve={provide:_.Cf,useExisting:(0,a.Gpc)(()=>ie),multi:!0};let ie=(()=>{class y extends _.qQ{}return y.\u0275fac=function(){let ae;return function(de){return(ae||(ae=a.n5z(y)))(de||y)}}(),y.\u0275dir=a.lG2({type:y,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(O,de){2&O&&a.uIk("min",de._enabled?de.min:null)},features:[a._Bn([ve]),a.qOj]}),y})();const it=(y,ae,O)=>()=>{if(ae.defaultView&&typeof window<"u"){(0,Be.s)({...y,_zoneGate:Tn=>O.run(Tn)});const at="__zone_symbol__addEventListener"in ae.body?"__zone_symbol__addEventListener":"addEventListener";return function ue(){var y=[];if(typeof window<"u"){var ae=window;(!ae.customElements||ae.Element&&(!ae.Element.prototype.closest||!ae.Element.prototype.matches||!ae.Element.prototype.remove||!ae.Element.prototype.getRootNode))&&y.push(I.e(6748).then(I.t.bind(I,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ae.NodeList&&!ae.NodeList.prototype.forEach||!ae.fetch||!function(){try{var de=new URL("b","http://a");return de.pathname="c%20d","http://a/c%20d"===de.href&&de.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&y.push(I.e(2214).then(I.t.bind(I,2668,23)))}return Promise.all(y)}().then(()=>((y,ae)=>{if(!(typeof window>"u"))return Ge(),(0,He.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ae)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:N.Wn,jmp:Tn=>O.runOutsideAngular(Tn),ael(Tn,Xn,Ar,Dr){Tn[at](Xn,Ar,Dr)},rel(Tn,Xn,Ar,Dr){Tn.removeEventListener(Xn,Ar,Dr)}}))}};let Yt=(()=>{class y{static forRoot(O){return{ngModule:y,providers:[{provide:N.dy,useValue:O},{provide:a.ip1,useFactory:it,multi:!0,deps:[N.dy,Z.K0,a.R0b]},(0,N.DN)()]}}}return y.\u0275fac=function(O){return new(O||y)},y.\u0275mod=a.oAB({type:y}),y.\u0275inj=a.cJS({providers:[N.y4,N.IN,N.Dh],imports:[Z.ez]}),y})()},3182:(Lt,Ce,I)=>{"use strict";I.d(Ce,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=I(534);(0,a.registerVersion)("firebase","10.6.0","app")},7142:(Lt,Ce,I)=>{"use strict";I.d(Ce,{Z:()=>a.Z});var a=I(3106);a.Z.registerVersion("firebase","10.6.0","app-compat")},6365:(Lt,Ce,I)=>{"use strict";I.r(Ce);var a=I(5861),_=I(3106),N=I(4562),F=I(9058),Q=(I(534),I(7879),I(4537));function ne(){return window}function le(){return le=(0,a.Z)(function*($,R,w){var j;const{BuildInfo:ce}=ne();(0,N.au)(R.sessionId,"AuthEvent did not contain a session ID");const tt=yield function He($){return Ze.apply(this,arguments)}(R.sessionId),pt={};return(0,N.av)()?pt.ibi=ce.packageName:(0,N.aw)()?pt.apn=ce.packageName:(0,N.ax)($,"operation-not-supported-in-this-environment"),ce.displayName&&(pt.appDisplayName=ce.displayName),pt.sessionId=tt,(0,N.ay)($,w,R.type,void 0,null!==(j=R.eventId)&&void 0!==j?j:void 0,pt)}),le.apply(this,arguments)}function we(){return(we=(0,a.Z)(function*($){const{BuildInfo:R}=ne(),w={};(0,N.av)()?w.iosBundleId=R.packageName:(0,N.aw)()?w.androidPackageName=R.packageName:(0,N.ax)($,"operation-not-supported-in-this-environment"),yield(0,N.az)($,w)})).apply(this,arguments)}function nt(){return(nt=(0,a.Z)(function*($,R,w){const{cordova:j}=ne();let ce=()=>{};try{yield new Promise((tt,pt)=>{let wt=null;function Pt(){var nn;tt();const Kn=null===(nn=j.plugins.browsertab)||void 0===nn?void 0:nn.close;"function"==typeof Kn&&Kn(),"function"==typeof(null==w?void 0:w.close)&&w.close()}function Bt(){wt||(wt=window.setTimeout(()=>{pt((0,N.aB)($,"redirect-cancelled-by-user"))},2e3))}function Zt(){"visible"===(null==document?void 0:document.visibilityState)&&Bt()}R.addPassiveListener(Pt),document.addEventListener("resume",Bt,!1),(0,N.aw)()&&document.addEventListener("visibilitychange",Zt,!1),ce=()=>{R.removePassiveListener(Pt),document.removeEventListener("resume",Bt,!1),document.removeEventListener("visibilitychange",Zt,!1),wt&&window.clearTimeout(wt)}})}finally{ce()}})).apply(this,arguments)}function Ze(){return(Ze=(0,a.Z)(function*($){const R=function ot($){if((0,N.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const R=new ArrayBuffer($.length),w=new Uint8Array(R);for(let j=0;j<$.length;j++)w[j]=$.charCodeAt(j);return w}($),w=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(w)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ge extends N.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(R)),super.onEvent(R)}initialized(){var R=this;return(0,a.Z)(function*(){yield R.initPromise})()}}function te($){return W.apply(this,arguments)}function W(){return(W=(0,a.Z)(function*($){const R=yield Ae()._get(Te($));return R&&(yield Ae()._remove(Te($))),R})).apply(this,arguments)}function De(){const $=[];for(let w=0;w<20;w++){const j=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(j))}return $.join("")}function Ae(){return(0,N.aE)(N.b)}function Te($){return(0,N.aF)("authEvent",$.config.apiKey,$.name)}function Rt($){if(null==$||!$.includes("?"))return{};const[R,...w]=$.split("?");return(0,F.zd)(w.join("?"))}const fe=class rt{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aG,this._overrideRedirectResult=N.aH}_initialize(R){var w=this;return(0,a.Z)(function*(){const j=R._key();let ce=w.eventManagers.get(j);return ce||(ce=new Ge(R),w.eventManagers.set(j,ce),w.attachCallbackListeners(R,ce)),ce})()}_openPopup(R){(0,N.ax)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,w,j,ce){var tt=this;return(0,a.Z)(function*(){!function We($){var R,w,j,ce,tt,pt,wt,Pt,Bt,Zt;const nn=ne();(0,N.aC)("function"==typeof(null===(R=null==nn?void 0:nn.universalLinks)||void 0===R?void 0:R.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aC)(typeof(null===(w=null==nn?void 0:nn.BuildInfo)||void 0===w?void 0:w.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aC)("function"==typeof(null===(tt=null===(ce=null===(j=null==nn?void 0:nn.cordova)||void 0===j?void 0:j.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===tt?void 0:tt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aC)("function"==typeof(null===(Pt=null===(wt=null===(pt=null==nn?void 0:nn.cordova)||void 0===pt?void 0:pt.plugins)||void 0===wt?void 0:wt.browsertab)||void 0===Pt?void 0:Pt.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aC)("function"==typeof(null===(Zt=null===(Bt=null==nn?void 0:nn.cordova)||void 0===Bt?void 0:Bt.InAppBrowser)||void 0===Zt?void 0:Zt.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const pt=yield tt._initialize(R);yield pt.initialized(),pt.resetRedirect(),(0,N.aI)(),yield tt._originValidation(R);const wt=function be($,R,w=null){return{type:R,eventId:w,urlResponse:null,sessionId:De(),postBody:null,tenantId:$.tenantId,error:(0,N.aB)($,"no-auth-event")}}(R,j,ce);yield function _e($,R){return Ae()._set(Te($),R)}(R,wt);const Pt=yield function K($,R,w){return le.apply(this,arguments)}(R,wt,w),Bt=yield function Be($){const{cordova:R}=ne();return new Promise(w=>{R.plugins.browsertab.isAvailable(j=>{let ce=null;j?R.plugins.browsertab.openUrl($):ce=R.InAppBrowser.open($,(0,N.aA)()?"_blank":"_system","location=yes"),w(ce)})})}(Pt);return function $e($,R,w){return nt.apply(this,arguments)}(R,pt,Bt)})()}_isIframeWebStorageSupported(R,w){throw new Error("Method not implemented.")}_originValidation(R){const w=R._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function ge($){return we.apply(this,arguments)}(R)),this.originValidationPromises[w]}attachCallbackListeners(R,w){const{universalLinks:j,handleOpenURL:ce,BuildInfo:tt}=ne(),pt=setTimeout((0,a.Z)(function*(){yield te(R),w.onEvent(he())}),500),wt=function(){var Zt=(0,a.Z)(function*(nn){clearTimeout(pt);const Kn=yield te(R);let Gr=null;Kn&&null!=nn&&nn.url&&(Gr=function Le($,R){var w,j;const ce=function _t($){const R=Rt($),w=R.link?decodeURIComponent(R.link):void 0,j=Rt(w).link,ce=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return Rt(ce).link||ce||j||w||$}(R);if(ce.includes("/__/auth/callback")){const tt=Rt(ce),pt=tt.firebaseError?function Ve($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(tt.firebaseError)):null,wt=null===(j=null===(w=null==pt?void 0:pt.code)||void 0===w?void 0:w.split("auth/"))||void 0===j?void 0:j[1],Pt=wt?(0,N.aB)(wt):null;return Pt?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:ce,postBody:null}}return null}(Kn,nn.url)),w.onEvent(Gr||he())});return function(Kn){return Zt.apply(this,arguments)}}();typeof j<"u"&&"function"==typeof j.subscribe&&j.subscribe(null,wt);const Pt=ce,Bt=`${tt.packageName.toLowerCase()}://`;ne().handleOpenURL=function(){var Zt=(0,a.Z)(function*(nn){if(nn.toLowerCase().startsWith(Bt)&&wt({url:nn}),"function"==typeof Pt)try{Pt(nn)}catch(Kn){console.error(Kn)}});return function(nn){return Zt.apply(this,arguments)}}()}};function he(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aB)("no-auth-event")}}function ft(){var $;return(null===($=null==self?void 0:self.location)||void 0===$?void 0:$.protocol)||null}function bt($=(0,F.z$)()){return!("file:"!==ft()&&"ionic:"!==ft()&&"capacitor:"!==ft()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ct(){try{const $=self.localStorage,R=N.aN();if($)return $.setItem(R,"1"),$.removeItem(R),!function Tt($=(0,F.z$)()){return function Kt(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Dt($=(0,F.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,F.hl)()}catch{return Vt()&&(0,F.hl)()}return!1}function Vt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ht(){return(function ht(){return"http:"===ft()||"https:"===ft()}()||(0,F.ru)()||bt())&&!function mt(){return(0,F.b$)()||(0,F.UG)()}()&&Ct()&&!Vt()}function on(){return bt()&&typeof document<"u"}function wn(){return(wn=(0,a.Z)(function*(){return!!on()&&new Promise($=>{const R=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),$(!0)})})})).apply(this,arguments)}const Dn={LOCAL:"local",NONE:"none",SESSION:"session"},On=N.aC,fr="persistence";function xn($){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*($){yield $._initializationPromise;const R=mr(),w=N.aF(fr,$.config.apiKey,$.name);R&&R.setItem(w,$._getPersistence())})).apply(this,arguments)}function mr(){var $;try{return(null===($=function Jt(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const _r=N.aC;class en{constructor(){this.browserResolver=N.aE(N.k),this.cordovaResolver=N.aE(fe),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aG,this._overrideRedirectResult=N.aH}_initialize(R){var w=this;return(0,a.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,w,j,ce){var tt=this;return(0,a.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._openPopup(R,w,j,ce)})()}_openRedirect(R,w,j,ce){var tt=this;return(0,a.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._openRedirect(R,w,j,ce)})()}_isIframeWebStorageSupported(R,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,w)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return on()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _r(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,a.Z)(function*(){if(R.underlyingResolver)return;const w=yield function cn(){return wn.apply(this,arguments)}();R.underlyingResolver=w?R.cordovaResolver:R.browserResolver})()}}function Ln($){return $.unwrap()}function sn($){return an($)}function an($){const{_tokenResponse:R}=$ instanceof F.ZR?$.customData:$;if(!R)return null;if(!($ instanceof F.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return N.P.credentialFromResult($);const w=R.providerId;if(!w||w===N.p.PASSWORD)return null;let j;switch(w){case N.p.GOOGLE:j=N.X;break;case N.p.FACEBOOK:j=N.W;break;case N.p.GITHUB:j=N.Y;break;case N.p.TWITTER:j=N.$;break;default:const{oauthIdToken:ce,oauthAccessToken:tt,oauthTokenSecret:pt,pendingToken:wt,nonce:Pt}=R;return tt||pt||ce||wt?wt?w.startsWith("saml.")?N.aQ._create(w,wt):N.N._fromParams({providerId:w,signInMethod:w,pendingToken:wt,idToken:ce,accessToken:tt}):new N.Z(w).credential({idToken:ce,accessToken:tt,rawNonce:Pt}):null}return $ instanceof F.ZR?j.credentialFromError($):j.credentialFromResult($)}function Wn($,R){return R.catch(w=>{throw w instanceof F.ZR&&function cr($,R){var w;const j=null===(w=R.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===(null==R?void 0:R.code))R.resolver=new Gn($,N.as($,R));else if(j){const ce=an(R),tt=R;ce&&(tt.credential=ce,tt.tenantId=j.tenantId||void 0,tt.email=j.email||void 0,tt.phoneNumber=j.phoneNumber||void 0)}}($,w),w}).then(w=>{const ce=w.user;return{operationType:w.operationType,credential:sn(w),additionalUserInfo:N.aq(w),user:Pn.getOrCreate(ce)}})}function kr($,R){return br.apply(this,arguments)}function br(){return(br=(0,a.Z)(function*($,R){const w=yield R;return{verificationId:w.verificationId,confirm:j=>Wn($,w.confirm(j))}})).apply(this,arguments)}class Gn{constructor(R,w){this.resolver=w,this.auth=function xr($){return $.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return Wn(Ln(this.auth),this.resolver.resolveSignIn(R))}}class Pn{constructor(R){this._delegate=R,this.multiFactor=N.at(R)}static getOrCreate(R){return Pn.USER_MAP.has(R)||Pn.USER_MAP.set(R,new Pn(R)),Pn.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var w=this;return(0,a.Z)(function*(){return Wn(w.auth,N.a2(w._delegate,R))})()}linkWithPhoneNumber(R,w){var j=this;return(0,a.Z)(function*(){return kr(j.auth,N.l(j._delegate,R,w))})()}linkWithPopup(R){var w=this;return(0,a.Z)(function*(){return Wn(w.auth,N.d(w._delegate,R,en))})()}linkWithRedirect(R){var w=this;return(0,a.Z)(function*(){return yield xn(N.aJ(w.auth)),N.g(w._delegate,R,en)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var w=this;return(0,a.Z)(function*(){return Wn(w.auth,N.a3(w._delegate,R))})()}reauthenticateWithPhoneNumber(R,w){return kr(this.auth,N.r(this._delegate,R,w))}reauthenticateWithPopup(R){return Wn(this.auth,N.e(this._delegate,R,en))}reauthenticateWithRedirect(R){var w=this;return(0,a.Z)(function*(){return yield xn(N.aJ(w.auth)),N.h(w._delegate,R,en)})()}sendEmailVerification(R){return N.ag(this._delegate,R)}unlink(R){var w=this;return(0,a.Z)(function*(){return yield N.ap(w._delegate,R),w})()}updateEmail(R){return N.al(this._delegate,R)}updatePassword(R){return N.am(this._delegate,R)}updatePhoneNumber(R){return N.u(this._delegate,R)}updateProfile(R){return N.ak(this._delegate,R)}verifyBeforeUpdateEmail(R,w){return N.ah(this._delegate,R,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pn.USER_MAP=new WeakMap;const Nt=N.aC;let ye=(()=>{class ${constructor(w,j){if(this.app=w,j.isInitialized())return this._delegate=j.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=w.options;Nt(ce,"invalid-api-key",{appName:w.name}),Nt(ce,"invalid-api-key",{appName:w.name});const tt=typeof window<"u"?en:void 0;this._delegate=j.initialize({options:{persistence:Ne(ce,w.name),popupRedirectResolver:tt}}),this._delegate._updateErrorMap(N.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,j){N.K(this._delegate,w,j)}applyActionCode(w){return N.a7(this._delegate,w)}checkActionCode(w){return N.a8(this._delegate,w)}confirmPasswordReset(w,j){return N.a6(this._delegate,w,j)}createUserWithEmailAndPassword(w,j){var ce=this;return(0,a.Z)(function*(){return Wn(ce._delegate,N.aa(ce._delegate,w,j))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return N.af(this._delegate,w)}isSignInWithEmailLink(w){return N.ad(this._delegate,w)}getRedirectResult(){var w=this;return(0,a.Z)(function*(){Nt(Ht(),w._delegate,"operation-not-supported-in-this-environment");const j=yield N.j(w._delegate,en);return j?Wn(w._delegate,Promise.resolve(j)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function Ue($,R){(0,N.aJ)($)._logFramework(R)}(this._delegate,w)}onAuthStateChanged(w,j,ce){const{next:tt,error:pt,complete:wt}=ee(w,j,ce);return this._delegate.onAuthStateChanged(tt,pt,wt)}onIdTokenChanged(w,j,ce){const{next:tt,error:pt,complete:wt}=ee(w,j,ce);return this._delegate.onIdTokenChanged(tt,pt,wt)}sendSignInLinkToEmail(w,j){return N.ac(this._delegate,w,j)}sendPasswordResetEmail(w,j){return N.a5(this._delegate,w,j||void 0)}setPersistence(w){var j=this;return(0,a.Z)(function*(){let ce;switch(function hn($,R){On(Object.values(Dn).includes(R),$,"invalid-persistence-type"),(0,F.b$)()?On(R!==Dn.SESSION,$,"unsupported-persistence-type"):(0,F.UG)()?On(R===Dn.NONE,$,"unsupported-persistence-type"):Vt()?On(R===Dn.NONE||R===Dn.LOCAL&&(0,F.hl)(),$,"unsupported-persistence-type"):On(R===Dn.NONE||Ct(),$,"unsupported-persistence-type")}(j._delegate,w),w){case Dn.SESSION:ce=N.a;break;case Dn.LOCAL:ce=(yield N.aE(N.i)._isAvailable())?N.i:N.b;break;case Dn.NONE:ce=N.U;break;default:return N.ax("argument-error",{appName:j._delegate.name})}return j._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return Wn(this._delegate,N.a0(this._delegate))}signInWithCredential(w){return Wn(this._delegate,N.a1(this._delegate,w))}signInWithCustomToken(w){return Wn(this._delegate,N.a4(this._delegate,w))}signInWithEmailAndPassword(w,j){return Wn(this._delegate,N.ab(this._delegate,w,j))}signInWithEmailLink(w,j){return Wn(this._delegate,N.ae(this._delegate,w,j))}signInWithPhoneNumber(w,j){return kr(this._delegate,N.s(this._delegate,w,j))}signInWithPopup(w){var j=this;return(0,a.Z)(function*(){return Nt(Ht(),j._delegate,"operation-not-supported-in-this-environment"),Wn(j._delegate,N.c(j._delegate,w,en))})()}signInWithRedirect(w){var j=this;return(0,a.Z)(function*(){return Nt(Ht(),j._delegate,"operation-not-supported-in-this-environment"),yield xn(j._delegate),N.f(j._delegate,w,en)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return N.a9(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Dn,$})();function ee($,R,w){let j=$;"function"!=typeof $&&({next:j,error:R,complete:w}=$);const ce=j;return{next:pt=>ce(pt&&Pn.getOrCreate(pt)),error:R,complete:w}}function Ne($,R){const w=function Qn($,R){const w=mr();if(!w)return[];const j=N.aF(fr,$,R);switch(w.getItem(j)){case Dn.NONE:return[N.U];case Dn.LOCAL:return[N.i,N.a];case Dn.SESSION:return[N.a];default:return[]}}($,R);if(typeof self<"u"&&!w.includes(N.i)&&w.push(N.i),typeof window<"u")for(const j of[N.b,N.a])w.includes(j)||w.push(j);return w.includes(N.U)||w.push(N.U),w}class st{constructor(){this.providerId="phone",this._delegate=new N.P(Ln(_.Z.auth()))}static credential(R,w){return N.P.credential(R,w)}verifyPhoneNumber(R,w){return this._delegate.verifyPhoneNumber(R,w)}unwrap(){return this._delegate}}st.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,st.PROVIDER_ID=N.P.PROVIDER_ID;const je=N.aC;class St{constructor(R,w,j=_.Z.app()){var ce;je(null===(ce=j.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:j.name}),this._delegate=new N.R(j.auth(),R,w),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J($){$.INTERNAL.registerComponent(new Q.wA("auth-compat",R=>{const w=R.getProvider("app-compat").getImmediate(),j=R.getProvider("auth");return new ye(w,j)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.V,FacebookAuthProvider:N.W,GithubAuthProvider:N.Y,GoogleAuthProvider:N.X,OAuthProvider:N.Z,SAMLAuthProvider:N._,PhoneAuthProvider:st,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:St,TwitterAuthProvider:N.$,Auth:ye,AuthCredential:N.L,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.4.9")}(_.Z)},5861:(Lt,Ce,I)=>{"use strict";function a(N,F,Y,Z,Q,ne,Me){try{var K=N[ne](Me),le=K.value}catch(ge){return void Y(ge)}K.done?F(le):Promise.resolve(le).then(Z,Q)}function _(N){return function(){var F=this,Y=arguments;return new Promise(function(Z,Q){var ne=N.apply(F,Y);function Me(le){a(ne,Z,Q,Me,K,"next",le)}function K(le){a(ne,Z,Q,Me,K,"throw",le)}Me(void 0)})}}I.d(Ce,{Z:()=>_})},1180:(Lt,Ce,I)=>{"use strict";function a(Y){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(Y)}function F(Y,Z,Q){return(Z=function N(Y){var Z=function _(Y,Z){if("object"!==a(Y)||null===Y)return Y;var Q=Y[Symbol.toPrimitive];if(void 0!==Q){var ne=Q.call(Y,Z||"default");if("object"!==a(ne))return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Z?String:Number)(Y)}(Y,"string");return"symbol"===a(Z)?Z:String(Z)}(Z))in Y?Object.defineProperty(Y,Z,{value:Q,enumerable:!0,configurable:!0,writable:!0}):Y[Z]=Q,Y}I.d(Ce,{Z:()=>F})},7582:(Lt,Ce,I)=>{"use strict";I.d(Ce,{FC:()=>Ge,KL:()=>_e,ZT:()=>_,_T:()=>F,gn:()=>Y,mG:()=>ge,qq:()=>ue});var a=function(fe,he){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ue,Se){Ue.__proto__=Se}||function(Ue,Se){for(var Ke in Se)Object.prototype.hasOwnProperty.call(Se,Ke)&&(Ue[Ke]=Se[Ke])})(fe,he)};function _(fe,he){if("function"!=typeof he&&null!==he)throw new TypeError("Class extends value "+String(he)+" is not a constructor or null");function Ue(){this.constructor=fe}a(fe,he),fe.prototype=null===he?Object.create(he):(Ue.prototype=he.prototype,new Ue)}function F(fe,he){var Ue={};for(var Se in fe)Object.prototype.hasOwnProperty.call(fe,Se)&&he.indexOf(Se)<0&&(Ue[Se]=fe[Se]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Se=Object.getOwnPropertySymbols(fe);Ke<Se.length;Ke++)he.indexOf(Se[Ke])<0&&Object.prototype.propertyIsEnumerable.call(fe,Se[Ke])&&(Ue[Se[Ke]]=fe[Se[Ke]])}return Ue}function Y(fe,he,Ue,Se){var ft,Ke=arguments.length,qe=Ke<3?he:null===Se?Se=Object.getOwnPropertyDescriptor(he,Ue):Se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(fe,he,Ue,Se);else for(var ht=fe.length-1;ht>=0;ht--)(ft=fe[ht])&&(qe=(Ke<3?ft(qe):Ke>3?ft(he,Ue,qe):ft(he,Ue))||qe);return Ke>3&&qe&&Object.defineProperty(he,Ue,qe),qe}function ge(fe,he,Ue,Se){return new(Ue||(Ue=Promise))(function(qe,ft){function ht(Kt){try{mt(Se.next(Kt))}catch(Dt){ft(Dt)}}function bt(Kt){try{mt(Se.throw(Kt))}catch(Dt){ft(Dt)}}function mt(Kt){Kt.done?qe(Kt.value):function Ke(qe){return qe instanceof Ue?qe:new Ue(function(ft){ft(qe)})}(Kt.value).then(ht,bt)}mt((Se=Se.apply(fe,he||[])).next())})}function ue(fe){return this instanceof ue?(this.v=fe,this):new ue(fe)}function Ge(fe,he,Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Se=Ue.apply(fe,he||[]),qe=[];return Ke={},ft("next"),ft("throw"),ft("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function ft(Tt){Se[Tt]&&(Ke[Tt]=function(Ct){return new Promise(function(Vt,Ht){qe.push([Tt,Ct,Vt,Ht])>1||ht(Tt,Ct)})})}function ht(Tt,Ct){try{!function bt(Tt){Tt.value instanceof ue?Promise.resolve(Tt.value.v).then(mt,Kt):Dt(qe[0][2],Tt)}(Se[Tt](Ct))}catch(Vt){Dt(qe[0][3],Vt)}}function mt(Tt){ht("next",Tt)}function Kt(Tt){ht("throw",Tt)}function Dt(Tt,Ct){Tt(Ct),qe.shift(),qe.length&&ht(qe[0][0],qe[0][1])}}function _e(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,he=fe[Symbol.asyncIterator];return he?he.call(fe):(fe=function nt(fe){var he="function"==typeof Symbol&&Symbol.iterator,Ue=he&&fe[he],Se=0;if(Ue)return Ue.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Se>=fe.length&&(fe=void 0),{value:fe&&fe[Se++],done:!fe}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Ue={},Se("next"),Se("throw"),Se("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function Se(qe){Ue[qe]=fe[qe]&&function(ft){return new Promise(function(ht,bt){!function Ke(qe,ft,ht,bt){Promise.resolve(bt).then(function(mt){qe({value:mt,done:ht})},ft)}(ht,bt,(ft=fe[qe](ft)).done,ft.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},Lt=>{Lt(Lt.s=3492)}]);