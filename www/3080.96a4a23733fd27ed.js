"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3080],{3080:(O,m,o)=>{o.r(m),o.d(m,{ProfilePageModule:()=>U});var g=o(6814),P=o(95),r=o(9004),p=o(4934),f=o(5861),e=o(5879),h=o(9992),v=o(5386),Z=o(74);function y(t,a){if(1&t&&e._UZ(0,"img",9),2&t){const l=e.oxw();let n;e.Q6J("src",null==(n=l.user())?null:n.image,e.LSH)}}function M(t,a){1&t&&e._UZ(0,"ion-icon",10)}const T=[{path:"",component:(()=>{var t;class a{constructor(){this.firebaseauthSvc=(0,e.f3M)(h.s),this.utilsSvc=(0,e.f3M)(v.F)}ngOnInit(){}user(){return this.utilsSvc.getFromlocalStorage("user")}takeImage(){var n=this;return(0,f.Z)(function*(){let i=n.user(),s=`users/${i.uid}`;const c=(yield n.utilsSvc.takePicture("Imagen de Perfil")).dataUrl,d=yield n.utilsSvc.loading();yield d.present();let x=`${i.uid}/profile`;i.image=yield n.firebaseauthSvc.uploadImage(x,c),n.firebaseauthSvc.updateDocument(s,{image:i.image}).then(function(){var u=(0,f.Z)(function*(C){n.utilsSvc.saveInlocalStorage("user",i),n.utilsSvc.presentToast({message:"Imagen actualizada exitosamente",duration:1500,color:"success",position:"middle",icon:"checkmark-circle-outline"})});return function(C){return u.apply(this,arguments)}}()).catch(u=>{console.log(u),n.utilsSvc.presentToast({message:u.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{d.dismiss()})})()}}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile"]],decls:19,vars:5,consts:[["title","Perfil",3,"showMenu"],[1,"ion-padding-top","ion-text-center"],[3,"src",4,"ngIf"],["class","empty-icon","name","person-circle-outline",4,"ngIf"],["mode","ios","size","small","shape","round",1,"photo-btn",3,"click"],["name","camera-outline"],["button","","detail",""],["color","primary","slot","start","name","person-outline"],["color","primary","slot","start","name","document-outline"],[3,"src"],["name","person-circle-outline",1,"empty-icon"]],template:function(n,i){if(1&n&&(e._UZ(0,"app-header",0),e.TgZ(1,"ion-content",1)(2,"ion-avatar"),e.YNc(3,y,1,1,"img",2),e.YNc(4,M,1,0,"ion-icon",3),e.qZA(),e.TgZ(5,"ion-button",4),e.NdJ("click",function(){return i.takeImage()}),e._UZ(6,"ion-icon",5),e.qZA(),e.TgZ(7,"h2"),e._uU(8),e.qZA(),e.TgZ(9,"div"),e._uU(10),e.qZA(),e.TgZ(11,"ion-item",6),e._UZ(12,"ion-icon",7),e.TgZ(13,"ion-label"),e._uU(14,"Editar Perfil"),e.qZA()(),e.TgZ(15,"ion-item",6),e._UZ(16,"ion-icon",8),e.TgZ(17,"ion-label"),e._uU(18,"Terminos & Condiciones"),e.qZA()()()),2&n){let s,c;e.Q6J("showMenu",!0),e.xp6(3),e.Q6J("ngIf",null==(s=i.user())?null:s.image),e.xp6(1),e.Q6J("ngIf",!(null!=(c=i.user())&&c.image)),e.xp6(4),e.Oqu(i.user().name),e.xp6(2),e.Oqu(i.user().profile)}},dependencies:[g.O5,r.BJ,r.YG,r.W2,r.gu,r.Ie,r.Q$,Z.G],styles:["ion-avatar[_ngcontent-%COMP%]{width:140px;height:140px;margin:0 auto}.photo-btn[_ngcontent-%COMP%]{position:relative;bottom:25px}h2[_ngcontent-%COMP%]{margin-bottom:0}ion-item[_ngcontent-%COMP%]{--padding-top: 15px}.empty-icon[_ngcontent-%COMP%]{font-size:140px;opacity:30%}"]}),a})()}];let S=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(T),p.Bz]}),a})();var I=o(8554);let U=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,P.u5,r.Pc,S,I.m]}),a})()}}]);