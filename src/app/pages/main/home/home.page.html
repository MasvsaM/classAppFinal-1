<app-header title="Inicio"></app-header>

<ion-content>

  <!-- ========= Cursos ========= -->
  <ion-list *ngIf="!loading">
    <ion-item-sliding class="curso-item" *ngFor="let c of cursos">
      <ion-item>
        <ion-avatar slot="start">
          <img [src]="c.image" />
        </ion-avatar>
        <ion-label>
          <div class="name">{{c.name}}</div>
          <div class="data">
            <strong>Seccion:</strong>{{c.seccion}} <br>
          </div>
          <div class="data">
            <strong>Sala:</strong>{{c.sala}}
          </div>
        </ion-label>
      </ion-item>

      <!-- =============== Opciones de ADMIN ============== -->
      <ion-item-options *ngIf="rol === 'admin'">
      <!-- ========= Editar ======== -->
        <ion-item-option (click)=" addUpdateCurso(c)">
          <ion-icon class="option-btn" name="create-outline"></ion-icon>
        </ion-item-option>

      <!-- ========= Eliminar ======== -->  
        <ion-item-option (click)="confirmDeleteCurso(c)" color="danger">
          <ion-icon class="option-btn" name="trash-outline"></ion-icon>
        </ion-item-option>
      
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

<!-- =============== Opciones de ADMIN/Registrar Usuario ============== -->
  <ion-button *ngIf="rol === 'admin' " class="ion-margin-top" routerLink="sign-up" expand="block" mode="ios" fill="outline">
    Registrar Usuario
    <ion-icon slot="end" name="person-add-outline"></ion-icon>
</ion-button>


<!-- ========== Loading ========= -->
  <ion-list *ngIf="loading">
      <ion-item class="curso-item" *ngFor="let c of [1,1,1,1,1,1,1]">
        <ion-avatar slot="start">
          <ion-skeleton-text animated style="width: 100%; height: 100%; "></ion-skeleton-text>
        </ion-avatar>
        <ion-label>
          <div> <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text> </div>
          <div> <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text> </div>
        </ion-label>
      </ion-item>
  </ion-list>



  <ion-item>
    <ion-label (click)="addUpdateCurso()" class="normal">Registro de Cursos</ion-label>
    <ion-icon slot="start" name="desktop-outline"></ion-icon>
  </ion-item>


</ion-content>
